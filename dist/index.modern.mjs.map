{"version":3,"file":"index.modern.mjs","sources":["../src/error.ts","../src/general.ts","../src/activity_link.ts","../src/gis.ts","../src/message_queue.ts","../src/search.ts","../src/request.ts","../src/inspection.ts","../src/workorder.ts","../src/briefcase.ts","../src/case_data.ts","../src/case_financial.ts","../src/comments.ts","../src/case_workflow.ts","../src/case_admin.ts","../src/case_assets.ts","../src/workorder_admin.ts","../src/inspection_admin.ts","../src/request_admin.ts","../src/workorder_costs.ts","../src/inspection_costs.ts","../src/request_costs.ts","../src/index.ts"],"sourcesContent":["const _ = require('lodash')\n\n/**\n * CWErrorInt interface definition for implementation by CWError\n *\n * `{name: string, code: number, message: string, info?: string}`\n *\n */\nexport interface CWErrorInt {\n  name: string\n  code: number\n  message: string\n  info?: string\n}\n\n/**\n * CWError implements a custom error class for this codebase with additional information\n *\n */\nexport class CWError implements CWErrorInt {\n  /**\n   * Just statically set to \"Cityworks Exception\" for now\n   */\n  name: string\n  /**\n   * Number for the thrown error (Efforts were made to make these unique when thrown throughout the codebase)\n   */\n  code: number\n  /**\n   * The error message\n   */\n  message: string\n  /**\n   * Object stuffed with any other information one wishes to include in the thrown error\n   */\n  info?: string\n\n  /**\n   * CWError implements a custom error class for this codebase with additional information\n   *\n   * @param {number} code - Number for the thrown error (Efforts were made to make these unique when thrown throughout the codebase)\n   * @param {string} message - The error message\n   * @param {Object} info - Object stuffed with any other information one wishes to include in the thrown error\n   * @return {Object} Returns instance of CWError object\n   */\n  constructor(code:number, message:string, info?:object) {\n    this.name = \"Cityworks Exception\"\n    this.code = code\n    this.message = message\n    if(typeof(info) !== 'undefined') {\n      if(_.has(info, 'Message'))\n        this.message = _.get(info, 'Message')\n      this.info = JSON.stringify(info)\n    }\n  }\n}\n","import { CWError } from './error'\nconst _ = require('lodash')\n\n/**\n * A plugin that contains \"general\" methods for a Cityworks install\n */\nexport class General {\n  /**\n   * @hidden\n   */\n  cw: any\n\n  /**\n   * @hidden\n   */\n  constructor(cw) {\n    this.cw = cw\n  }\n\n  /**\n   * Get notifications for currently authenticated user\n   *\n   * @return {Object} Returns Promise object that represents a collection of available notifications\n   */\n  notifications() {\n    return new Promise((resolve, reject) => {\n      this.cw.runRequest('General/ActivityNotification/User', {}).then((response: any) => {\n        resolve(response.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n\n  /**\n   * Find out if the current user is watching a particular activity (case, task, null [as a string])\n   *\n   * @param {string} activityType - which activity type the following ID will be for.\n   * @param {number} activityId - activity Case or CaseTask (task instance) ID to check\n   * @return {Object} Returns Promise object that represents a boolean indicating the currently authenticated user is watching the provided activity\n   */\n  amIWatching(activityType, activityId: number) {\n    return new Promise((resolve, reject) => {\n      let aType = {'null': 0, 'case': 1, 'task': 2}\n      if(typeof(aType[activityType])=='undefined') {\n        // reject with error\n        reject(new CWError(1, \"Activity type provided does not exist.\", {provided: activityType, potential_activities: aType}))\n      } else {\n        let data = {\"ActivityType\": aType[activityType], \"ActivityId\": activityId}\n        this.cw.runRequest('General/ActivityNotification/UserWatching', data).then(r => {\n          // console.log(r, 'response')\n          resolve(r.Value)\n        }).catch(e => {\n          reject(e)\n        })\n      }\n    })\n  }\n\n  /**\n   * Get CwMetatData by Type and CwSid\n   *\n   * @param {Array<number>} Ids\n   * @param {string} TableName - INSPECTION, REQUEST, WORKORDER require View permission on the activities\n   * @return {Object} Returns Promise object that represents a\n   */\n  getActivityMetadataByIds(ids: Array<number>, table: string) {\n    return new Promise((resolve, reject) => {\n      let tables = [\"INSPECTION\", \"REQUEST\", \"WORKORDER\"]\n      if(_.indexOf(tables, table)==-1) {\n        reject(new CWError(2, 'TableName provided does not exist or is mispelled.', {'provided': table, 'available':tables}))\n      }\n      let data = {\n        \"Ids\": ids,\n        \"TableName\": table\n      }\n      this.cw.runRequest('General/CwMetaData/ByTableNameSids', data).then(r => {\n        console.log(r)\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get recent history for authenticated user\n   *\n   * @return {Object} Returns Promise object that represents a collection of RecentActivity objects\n   */\n  getHistory() {\n    return new Promise((resolve, reject) => {\n      let data = {}\n      this.cw.runRequest('Ams/Search/RecentActivity', data).then(r => {\n        console.log(r)\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get cost summary for WorkOrder entities\n   *\n   * @param {Array<number>} ObjectIds\n   * @return {Object} Returns Promise object that represents a\n   */\n  getWOEntityCostSummary(object_ids: Array<number>) {\n    return new Promise((resolve, reject) => {\n      let data = {\n        \"ObjectIds\": object_ids\n      }\n      this.cw.runRequest('General/CostSummary/WorkOrderEntity', data).then(r => {\n        console.log(r)\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get cost summary for WorkOrder entities selected through a search definition\n   *\n   * @param {number} SearchId - Search Definition Id\n   * @return {Object} Returns Promise object that represents a\n   */\n  searchWOEntityCostSummary(search_id: number) {\n    return new Promise((resolve, reject) => {\n      let data = {\n        \"SearchId\": search_id\n      }\n      this.cw.runRequest('General/CostSummary/WorkOrderEntitySearch', data).then(r => {\n        console.log(r)\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n}\n","import { CWError } from './error'\nimport ReversibleMap from 'reversible-map'\nconst _ = require('lodash')\n\n/**\n * ActivityLink interface for ActivityLinks\n *\n */\nexport interface ActivityLink {\n  linkTypes: ReversibleMap<string, number>\n  activityTypes: ReversibleMap<string, number>\n  cw: any\n}\n\n/**\n * ActivityLinks implements the activity link functions via using the ActivityLink interface\n *\n */\nexport class ActivityLinks implements ActivityLink {\n  /**\n   * Activity types to map string to number for internal use. Activity types available are:\n   *\n   *      \"null\", \"case\", \"inspection\", \"request\", \"workorder\", \"wipcase\"\n   */\n  activityTypes: ReversibleMap<string, number>\n  /**\n   * Link types to map string to number for internal use. Link types available are:\n   *\n   *      \"null\", \"parent\", \"related\"\n   */\n  linkTypes: ReversibleMap<string, number>\n  /**\n   * @hidden\n   */\n  cw: any\n\n  /**\n   * @hidden\n   */\n  constructor(cw) {\n    this.cw = cw\n    this.activityTypes = new ReversibleMap<string, number>()\n    this.activityTypes.set(\"null\", 0)\n    this.activityTypes.set(\"case\", 1)\n    this.activityTypes.set(\"inspection\", 2)\n    this.activityTypes.set(\"request\", 3)\n    this.activityTypes.set(\"workorder\", 4)\n    this.activityTypes.set(\"wipcase\", 5)\n\n    this.linkTypes = new ReversibleMap<string, number>()\n    this.linkTypes.set(\"null\", 0)\n    this.linkTypes.set(\"parent\", 1)\n    this.linkTypes.set(\"related\", 2)\n  }\n\n  /**\n   * Create a new activity link between two items.\n   *\n   * @param {string} source_type - Source type as string. Options:\n   *\n   *      \"null\", \"case\", \"inspection\", \"request\", \"workorder\", \"wipcase\"\n   *\n   * @param {number} source_sid - Source SID (numeric ID) one wishes to remove a link between SID as source and a particular destination\n   * @param {string} destination_type - Destination type as string\n   *\n   *      \"null\", \"case\", \"inspection\", \"request\", \"workorder\", \"wipcase\"\n   *\n   * @param {number} destination_sid - Destination SID (numeric ID) one wishes to remove a link between SID as destination and a particular source\n   * @param {string} link_type - The type of link which exists between provided source and destination. Defaults to `related`. Options:\n   *\n   *      \"null\", \"parent\", \"related\"\n   *\n   * @return {Object} Returns Promise object that represents a\n   */\n  add(source_type: string, source_sid: number, destination_type: string, destination_sid: number, link_type: string = 'related') {\n    return new Promise((resolve, reject) => {\n      if(!this.activityTypes.has(source_type)) {\n        reject(new CWError(1, 'Source type not found.', {'provided': source_type, 'options':this.activityTypes}))\n      }\n      if(!this.activityTypes.has(destination_type)) {\n        reject(new CWError(2, 'Destination type not found.', {'provided': destination_type, 'options':this.activityTypes}))\n      }\n      if(!this.linkTypes.has(link_type)) {\n        reject(new CWError(3, 'Link type not found.', {'provided': link_type, 'options':this.linkTypes}))\n      }\n      let data = {\n        SourceType: this.activityTypes.get(source_type),\n        SourceSid: source_sid,\n        DestType: this.activityTypes.get(destination_type),\n        DestSid: destination_sid,\n        LinkType: this.linkTypes.get(link_type)\n      }\n      let path = 'General/ActivityLink/Add'\n      this.cw.runRequest(path, data).then((response: any) => {\n        resolve(response.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get the links for a particular node type by ID.\n   *\n   * @param {string} type - Source type as string. Options:\n   *\n   *      \"null\", \"case\", \"inspection\", \"request\", \"workorder\", \"wipcase\"\n   *\n   * @param {Array<number>} sids - Array of numeric (S)IDs you wish to get of the specified type\n   * @return {Object} Returns Promise object that represents a collection\n   */\n  get(type: string, sids: Array<number>) {\n    return new Promise((resolve, reject) => {\n      if(!this.activityTypes.has(type)) {\n        reject(new CWError(4, 'Activity type not found.', {'provided': type, 'options':this.activityTypes}))\n      }\n      let data = {\n        ActivityType: this.activityTypes.get(type),\n        ActivitySids: sids\n      }\n      let _this = this\n      let path = 'General/ActivityLink/ByActivitySids'\n      this.cw.runRequest(path, data).then((response: any) => {\n        let return_data = new Array()\n        _.forEach(response.Value, (link, key) => {\n          link.DestType = _this.activityTypes.get(link.DestType)\n          link.SourceType = _this.activityTypes.get(link.SourceType)\n          link.LinkType = _this.linkTypes.get(link.LinkType)\n          return_data.push(link)\n        })\n        resolve(return_data)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Clone a current activity link.\n   *\n   * @param {string} source_type - Source type as string. Options:\n   *\n   *      \"null\", \"case\", \"inspection\", \"request\", \"workorder\", \"wipcase\"\n   *\n   * @param {number} source_sid - Source SID (numeric ID) one wishes to clone a link between SID as source and a particular destination\n   * @param {string} destination_type - Destination type as string\n   *\n   *      \"null\", \"case\", \"inspection\", \"request\", \"workorder\", \"wipcase\"\n   *\n   * @param {number} destination_sid - Destination SID (numeric ID) one wishes to clone a link between SID as destination and a particular source\n   * @return {Object} Returns Promise object that represents a\n   */\n  clone(source_type: string, source_sid: number, destination_type: string, destination_sid: number) {\n    return new Promise((resolve, reject) => {\n      if(!this.activityTypes.has(source_type)) {\n        reject(new CWError(1, 'Source type not found.', {'provided': source_type, 'options':this.activityTypes}))\n      }\n      if(!this.activityTypes.has(destination_type)) {\n        reject(new CWError(2, 'Destination type not found.', {'provided': destination_type, 'options':this.activityTypes}))\n      }\n      let data = {\n        SourceActivityType: this.activityTypes.get(source_type),\n        SourceActivitySid: source_sid,\n        DestinationActivityType: this.activityTypes.get(destination_type),\n        DestinationActivitySid: destination_sid\n      }\n      let path = 'General/ActivityLink/CloneByActivitySid'\n      this.cw.runRequest(path, data).then((response: any) => {\n        resolve(response.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Delete an activity link by ID\n   *\n   * @param {number} activity_link_id - The ID of the activity link one wishes to delete\n   * @return {Object} Returns Promise object that represents a\n   */\n  delete(activity_link_id: number) {\n    return new Promise((resolve, reject) => {\n      let data = {\n        ActivityLinkId: activity_link_id\n      }\n      let path = 'General/ActivityLink/Delete'\n      this.cw.runRequest(path, data).then((response: any) => {\n        resolve(response.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Remove a link by specifying everything.\n   *\n   * @param {string} source_type - Source type as string. Options:\n   *\n   *      \"null\", \"case\", \"inspection\", \"request\", \"workorder\", \"wipcase\"\n   *\n   * @param {number} source_sid - Source SID (numeric ID) one wishes to remove a link between SID as source and a particular destination\n   * @param {string} destination_type - Destination type as string\n   *\n   *      \"null\", \"case\", \"inspection\", \"request\", \"workorder\", \"wipcase\"\n   *\n   * @param {number} destination_sid - Destination SID (numeric ID) one wishes to remove a link between SID as destination and a particular source\n   * @param {string} link_type - The type of link which exists between provided source and destination. Defaults to `related`. Options:\n   *\n   *      \"null\", \"parent\", \"related\"\n   *\n   * @return {Object} Returns Promise object that represents a\n   */\n  remove(source_type: string, source_sid: number, destination_type: string, destination_sid: number, link_type: string = 'related') {\n    return new Promise((resolve, reject) => {\n      if(!this.activityTypes.has(source_type)) {\n        reject(new CWError(1, 'Source type not found.', {'provided': source_type, 'options':this.activityTypes}))\n      }\n      if(!this.activityTypes.has(destination_type)) {\n        reject(new CWError(1, 'Destination type not found.', {'provided': destination_type, 'options':this.activityTypes}))\n      }\n      if(!this.linkTypes.has(link_type)) {\n        reject(new CWError(1, 'Link type not found.', {'provided': link_type, 'options':this.linkTypes}))\n      }\n      let data = {\n        SourceType: this.activityTypes.get(source_type),\n        SourceSid: source_sid,\n        DestType: this.activityTypes.get(destination_type),\n        DestSid: destination_sid,\n        LinkType: this.linkTypes.get(link_type)\n      }\n      let path = 'General/ActivityLink/Remove'\n      this.cw.runRequest(path, data).then((response: any) => {\n        resolve(response.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n}\n","import { CWError } from './error'\nconst _ = require('lodash')\n\nexport class Gis {\n  /**\n   * @hidden\n   */\n  cw: any\n\n  /**\n   * @hidden\n   */\n  constructor(cw) {\n    this.cw = cw\n  }\n\n  /**\n   * Get gis service configuration for user, group, domain, or service id\n   *\n   * @param {string} [whichType] - domain, group, mapservice, or user\n   * @param {number} [whichId] - domain, group, mapservice, or user Id\n   * @param {number} [getGisData] - If true, check for feature server JSON data, default is true\n   * @param {Array<string>} [context] Filter returned list by specific context, i.e. Office, Field, Mobile, Public, etc. Default is all.\n   * @return {Object} Returns Promise object that represents an Object with the desired GIS service definitions\n   */\n  getConfig(whichType, whichId, getGisData: boolean = true, context: Array<string> = []) {\n    return new Promise((resolve, reject) => {\n      let path = 'Gis/MapService/Domain'\n      whichType = whichType.toLowerCase()\n      let data: {DomainId?: any, GroupId?: any, MapServiceId?: any, UserId?: any, GetGisData: boolean, Security: Array<string>}\n      switch(whichType) {\n        case 'domain':\n          data = {DomainId:whichId, GetGisData: getGisData, Security: context}\n          break\n        case 'group':\n          data = {GroupId:whichId, GetGisData: getGisData, Security: context}\n          break\n        case 'mapservice':\n          data = {MapServiceId:whichId, GetGisData: getGisData, Security: context}\n          break\n        case 'user':\n          data = {UserId:whichId, GetGisData: getGisData, Security: context}\n          break\n      }\n      this.cw.runRequest(path, {}).then((response: any) => {\n        resolve(response.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n    * Get domain gis services\n    *\n    * @param {number} domainId - The mobile map cache Id to download\n    * @return {Object} Returns Promise object that represents an Object with the domain's default GIS services\n    */\n  domain(domainId, getGisData: boolean = true) {\n    return new Promise((resolve, reject) => {\n      let path = 'Gis/MapService/Domain'\n      let data = {\n        DomainId: domainId\n      }\n      this.cw.runRequest(path, {}).then((response: any) => {\n        resolve(response.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n     * Download mobile map cache\n     *\n     * @param {number} cacheId - The mobile map cache Id to download\n     * @return {Object} Returns Promise object that represents a streaming download (?)\n     */\n  downloadMobile(cacheId, getGisData: boolean = true) {\n    return new Promise((resolve, reject) => {\n      let path = 'Gis/MapService/DownloadMobileMapCache'\n      let data = {\n        MobileMapCacheId: cacheId\n      }\n      this.cw.runRequest(path, {}).then((response: any) => {\n        resolve(response.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get initial extent for user\n   *\n   * @return {Object} Returns Promise object that represents ... (?)\n   */\n  initialExtent() {\n    return new Promise((resolve, reject) => {\n      let path = 'Gis/MapService/InitialExtent'\n      let data = {};\n      this.cw.runRequest(path, {}).then((response: any) => {\n        resolve(response.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get service request gis services\n   *\n   * @param {number} requestId - The WorkOrder to check against.\n   * @param {boolean} getGisData - If true, check for feature server JSON data, default is true.\n   * @return {Object} Returns Promise object that represents an Object with the specified request's entit(y|ies)\n   */\n  request(requestId, getGisData: boolean = true) {\n    return new Promise((resolve, reject) => {\n      let path = 'Gis/MapService/ServiceRequestConfiguration'\n      let data = {\n        RequestId: requestId,\n        GetGisData: getGisData\n      }\n      this.cw.runRequest(path, {}).then((response: any) => {\n        resolve(response.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n     * Get inspection gis services\n     *\n     * @param {number} inspectionId - The WorkOrder to check against.\n     * @param {boolean} getGisData - If true, check for feature server JSON data, default is true.\n     * @return {Object} Returns Promise object that represents an Object with the specified inspection's entity\n     */\n  inspection(inspectionId, getGisData: boolean = true) {\n    return new Promise((resolve, reject) => {\n      let path = 'Gis/MapService/InspectionConfiguration'\n      let data = {\n        InspectionId: inspectionId,\n        GetGisData: getGisData\n      }\n      this.cw.runRequest(path, {}).then((response: any) => {\n        resolve(response.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n     * Get workorder gis services\n     *\n     * @param {number} workOrderSid - The WorkOrder to check against.\n     * @param {boolean} getGisData - If true, check for feature server JSON data, default is true.\n     * @return {Object} Returns Promise object that represents an Object with the specified WorkOrder's entit(y|ies)\n     */\n  workOrder(workOrderSid, getGisData: boolean = true) {\n    return new Promise((resolve, reject) => {\n      let path = 'Gis/MapService/WorkOrderConfiguration'\n      let data = {\n        WorkOrderSid: workOrderSid,\n        GetGisData: getGisData\n      }\n      this.cw.runRequest(path, {}).then((response: any) => {\n        resolve(response.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n     * Get service request gis services\n     *\n     * @param {Array<string>} [context] Filter returned list by specific context, i.e. Office, Field, Mobile, Public, etc. Default is all.\n     * @param {boolean} [allDomains] services assigned to any domain the user belongs to, default is true\n     * @param {boolean} [allGroups] services assigned to any groups the user belongs to regardless of domain, default is true\n     * @param {boolean} [getGisData] If true, check for feature server JSON data, default is true\n     * @return {Object} Returns Promise object that represents an Object with the user's GIS services\n     */\n  user(context: Array<string> = [], allDomains: boolean = true, allGroups: boolean = true, getGisData: boolean = true) {\n    return new Promise((resolve, reject) => {\n      let path = 'Gis/MapService/User'\n      let data = {\n        AllDomains: allDomains,\n        AllGroups: allGroups,\n        GetGisData: getGisData,\n        Security: context\n      }\n      this.cw.runRequest(path, {}).then((response: any) => {\n        resolve(response.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get Geocode server info by ServerId\n   *\n   * @param {number} ServiceId\n   * @return {Object} Returns Promise object that represents an object describing the provided Geocoder service configuration\n   */\n   // Gis/GeoCode/GeocodeServer\n\n   /**\n      * Get currently selected entities from the Cityworks install's session for your user\n      * @return {Object} Returns Promise object that represents an Object with the currently-selected entities\n      */\n   selectedEntities() {\n     return new Promise((resolve, reject) => {\n       let path = 'General/AppData/SelectedEntities'\n       this.cw.runRequest(path, {}).then((response: any) => {\n         resolve(response.Value)\n       }).catch(e => {\n         reject(e)\n       })\n     })\n   }\n\n   /**\n      * Get attributes available for provided entity\n      *\n      * @param {string} entityType - The entity type to describe\n      * @return {Object} Returns Promise object that represents a collection of attribute description objects\n      */\n   getEntityAttributes(entityType:string) {\n     return new Promise((resolve, reject) => {\n       let data = {EntityType: entityType}\n       let path = 'AMS/Entity/Attributes'\n       this.cw.runRequest(path, data).then((response: any) => {\n         resolve(response.Value)\n       }).catch(e => {\n         reject(e)\n       })\n     })\n   }\n}\n","import { CWError } from './error'\nconst _ = require('lodash')\n\nexport class MessageQueue {\n  /**\n   * @hidden\n   */\n  cw: any\n  /**\n   * Statuses -\n   * Pending: 0,\n   * Processing: 1,\n   * Complete: 2,\n   * Failed: 3\n   */\n  status: Object = {\n    Pending: 0,\n    Processing: 1,\n    Complete: 2,\n    Failed: 3\n  }\n  /**\n   * Hook Types -\n   * Unknown: 0,\n   * ActivityUpdate: 1,\n   * Email: 2,\n   * WebHook: 3\n   */\n  hook_types: Object = {\n    Unknown: 0,\n    ActivityUpdate: 1,\n    Email: 2,\n    WebHook: 3\n  }\n\n  /**\n   * @hidden\n   */\n  constructor(cw) {\n    this.cw = cw\n  }\n\n  /**\n   * Process Webhook MessageQueue records by MessageQueueId\n   *\n   * @param {Array<number>} [ids] - List of MessageQueueId values\n   * @param {boolean} [delete_successful] - automatically delete messages that complete with successful execution, default is false\n   * @return {Array<>} Returns Promise object that represents a collection of QueueMessages which have been processed\n   */\n  processMessages(ids: Array<number>, delete_successful: boolean = false) {\n    return new Promise((resolve, reject) => {\n      let data = { Ids: ids, Delete: delete_successful}\n      let path = 'General/WebHookEvent/ProcessMessages'\n      this.cw.runRequest(path, data).then((response: any) => {\n        // TODO\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get Messages specified in list of MessageQueueIds\n   *\n   * @param {Array<number>} ids - List of MessageQueueId values\n   * @param {string} status -\n   * @param {number} [maxcount] - Maximum number returned. Defaults to 15\n   * @return {Array<>} Returns Promise object that represents a collection of QueueMessages which have been processed\n   */\n  get(ids: Array<number>, status: string, maxcount: number = 15) {\n    return new Promise((resolve, reject) => {\n      if(typeof(this.status[status])=='undefined') {\n        reject(new CWError(1, 'Status provided does not exist or is mispelled.', {'provided': status, 'available':this.status}))\n      }\n      let data = {\n        \"Ids\": ids,\n        \"MaxCount\": typeof(maxcount)!='undefined' ? maxcount : 15,\n        \"Status\": this.status[status]\n      }\n      let path = 'General/MessageQueue/ByIds'\n      this.cw.runRequest(path, data).then((response: any) => {\n        // TODO\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Delete Messages specified in list of MessageQueueIds\n   *\n   * @param {Array<number>} ids - List of MessageQueueId values\n   * @param {string} status - automatically delete messages that complete with successful execution, default is false\n   * @param {number} [hours_to_keep] - utomatically delete messages that complete with successful execution, default is false\n   * @return {Array<>} Returns Promise object that represents a collection of QueueMessages which have been processed\n   */\n  delete(ids: Array<number>, status: string, hours_to_keep?: number) {\n    return new Promise((resolve, reject) => {\n      if(typeof(this.status[status])=='undefined') {\n        reject(new CWError(2, 'Status provided does not exist or is mispelled.', {'provided': status, 'available':this.status}))\n      }\n      let data = {\n        \"Ids\": ids,\n        \"Status\": this.status[status],\n        \"HoursToKeep\": hours_to_keep\n      }\n      let path = 'General/MessageQueue/Delete'\n      this.cw.runRequest(path, data).then((response: any) => {\n        // TODO\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  // PreferencesList<GlobalPreference>\n  // Base response type: CoreResponseBase\n  // Get a list of message queue preferences\n  // This method has no parameters\n  preferences() {\n    return new Promise((resolve, reject) => {\n      let data = {}\n      let path = 'General/MessageQueue/Preferences'\n      this.cw.runRequest(path, data).then((response: any) => {\n        // TODO\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  search(parameters, max_results?: number) {\n    let data: any\n    return new Promise((resolve, reject) => {\n      if(typeof(parameters.status)!=='undefined' && typeof(this.status[parameters.status])=='undefined') {\n        reject(new CWError(3, 'Status provided does not exist or is mispelled.', {'provided': parameters.status, 'available':this.status}))\n      } else if(typeof(parameters.status)!=='undefined' && typeof(this.status[parameters.status])!=='undefined') {\n        data.Status = this.status[parameters.status]\n      }\n      if(typeof(max_results)!=='undefined') {\n        data.MaxResults = max_results\n      }\n      let allowed_params = ['Id', 'HookId', 'HookType', 'Result', 'DateCreatedBegin', 'DateCreatedEnd', 'DateUpdatedBegin', 'DateUpdatedEnd']\n      let disallowed_params = ['Status', 'MaxResults']\n      _.forEach(parameters, (v, k) => {\n        if(_.indexOf(allowed_params,k)!=-1 && _.indexOf(disallowed_params, k)==-1) {\n          data[k] = v\n        } else if(_.indexOf(disallowed_params, k)==-1) {\n          reject(new CWError(4, 'Provided parameter does not exist or is mispelled.', {'provided': k, 'value': v, 'available':_.concat(allowed_params, disallowed_params)}))\n        }\n      })\n      let path = 'General/MessageQueue/Search'\n      this.cw.runRequest(path, data).then((response: any) => {\n        // TODO\n        if(typeof(response.Value)=='undefined') {\n          response.Value = []\n        }\n        resolve(response.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Update queue message\n   *\n   * @param {Object} parameters - Provide allowed parameters:\n   *\n   *      {\n   *        HookId: number,\n   *        Id: number,\n   *        Packet: string,\n   *        Result: string,\n   *        Status: string, // Available options: Pending, Processing, Complete, Failed\n   *        HookType: string // Available options: Unknown, ActivityUpdate, Email, WebHook\n   *      }\n   *\n   * @return {Object} Returns Promise object that represents an Object with the desired GIS service definitions\n   */\n  update(parameters: any) {\n    let data: any\n    return new Promise((resolve, reject) => {\n      if(typeof(parameters.status)!=='undefined' && typeof(this.status[parameters.status])=='undefined') {\n        reject(new CWError(3, 'Status provided does not exist or is mispelled.', {'provided': parameters.status, 'available':this.status}))\n      } else if(typeof(parameters.status)!=='undefined' && typeof(this.status[parameters.status])!=='undefined') {\n        data.Status = this.status[parameters.status]\n      }\n      if(typeof(parameters.hook_types)!=='undefined' && typeof(this.hook_types[parameters.hook_types])=='undefined') {\n        reject(new CWError(3, 'Status provided does not exist or is mispelled.', {'provided': parameters.hook_types, 'available':this.hook_types}))\n      } else if(typeof(parameters.hook_types)!=='undefined' && typeof(this.hook_types[parameters.hook_types])!=='undefined') {\n        data.HookType = this.hook_types[parameters.hook_types]\n      }\n      let allowed_params = ['Id', 'HookId', 'Packet', 'Result']\n      let disallowed_params = ['Status', 'HookType']\n      _.forEach(parameters, (v, k) => {\n        if(_.indexOf(allowed_params,k)!=-1 && _.indexOf(disallowed_params, k)==-1) {\n          data[k] = v\n        } else if(_.indexOf(disallowed_params, k)==-1) {\n          reject(new CWError(5, 'Provided parameter does not exist or is mispelled.', {'provided': k, 'value': v, 'available':_.concat(allowed_params, disallowed_params)}))\n        }\n      })\n\n      let path = 'General/MessageQueue/Update'\n      this.cw.runRequest(path, data).then((response: any) => {\n        // TODO\n        if(typeof(response.Value)=='undefined') {\n          response.Value = []\n        }\n        resolve(response.Value)\n      })\n    })\n  }\n\n  updateMessageStatus(ids: number[], status: string, hours_to_keep?: number) {\n    return new Promise((resolve, reject) => {\n      if(typeof(this.status[status])=='undefined') {\n        reject(new CWError(2, 'Status provided does not exist or is mispelled.', {'provided': status, 'available':this.status}))\n      }\n      let data = {\n        \"Ids\": ids,\n        \"Status\": this.status[status],\n        \"HoursToKeep\": hours_to_keep\n      }\n      let path = 'General/MessageQueue/UpdateMessageStatus'\n      this.cw.runRequest(path, data).then((response: any) => {\n        // TODO\n      })\n    })\n  }\n\n  getWebooks(hook_ids) {\n    return new Promise((resolve, reject) => {\n      let data = {\n        \"HookIds\": hook_ids\n      }\n      let path = 'General/MessageQueue/WebHooks'\n      this.cw.runRequest(path, data).then((response: any) => {\n        // TODO\n      })\n    })\n  }\n}\n","import { CWError } from './error'\nconst _ = require('lodash')\n\nexport class Search {\n  /**\n   * @hidden\n   */\n  cw: any\n\n  /**\n   * Search Types: Null, Request, WorkOrder, Inspection, Contract, Permit, GIS, PermitTask, PermitAddress, InspCommon, Case, WorkOrderEntity, StoreTransaction, Requisition, Material, WorkActivity, MaterialLeaf, WoTemplate, Unknown, Employee, MessageQueue, Analytics, TokenState, AssetCalculationResult, Equipment, CustomerAccount, InspTemplate, ProblemLeaf, AssetSplitRecord, PavementInsp, TvInspection, Projects\n   */\n  searchTypes: Object = {\n    \"Null\": 0,\n    \"Request\": 1,\n    \"WorkOrder\": 2,\n    \"Inspection\": 3,\n    \"Contract\": 4,\n    \"Permit\": 5,\n    \"GIS\": 6,\n    \"PermitTask\": 7,\n    \"PermitAddress\": 8,\n    \"InspCommon\": 9,\n    \"Case\": 10,\n    \"WorkOrderEntity\": 11,\n    \"StoreTransaction\": 12,\n    \"Requisition\": 13,\n    \"Material\": 14,\n    \"WorkActivity\": 15,\n    \"MaterialLeaf\": 16,\n    \"WoTemplate\": 17,\n    \"Unknown\": 18,\n    \"Employee\": 19,\n    \"MessageQueue\": 20,\n    \"Analytics\": 21,\n    \"TokenState\": 22,\n    \"AssetCalculationResult\": 23,\n    \"Equipment\": 24,\n    \"CustomerAccount\": 25,\n    \"InspTemplate\": 26,\n    \"ProblemLeaf\": 27,\n    \"AssetSplitRecord\": 28,\n    \"PavementInsp\": 29,\n    \"TvInspection\": 30,\n    \"Projects\": 31\n  }\n\n  /**\n   * @hidden\n   */\n  constructor(cw) {\n    this.cw = cw\n  }\n\n  /**\n   * Do a \"quick\" search for any string (an ID is best)\n   *\n   * @category Quick Search\n   * @param {string} text - text to search the system for\n   * @return {Object} Returns Promise object that represents a collection of the currently authenticated user's notifications\n   */\n  quick(text: string) {\n    return new Promise((resolve, reject) => {\n      let data = {\n        \"QuickSearchText\": text,\n      }\n      this.cw.runRequest('General/QuickSearch/QuickSearch', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Execute a saved search\n   *\n   * @category Search\n   * @param {number} searchId - SearchId to execute\n   * @param {Object} options - Other options. See: /{subdirectory}/apidocs/#/service-info/Ams/Search\n   * @return {Object} Returns Promise object that represents a list of Objects\n   */\n  execute(searchId: number, options?: {EmployeeSid?: number, ExcludeEmptyXY?: boolean, Extent?: Object, Frequency?: boolean, IdsOnly?: boolean, IncludeSearchOrder?: boolean, MaxResults?: number, ResultFields?: Array<string>, TotalOnly?: boolean}) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        SearchId: searchId\n      }\n      data = _.merge(data, options)\n      this.cw.runRequest('Ams/Search/Execute', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get a list of the saved searches by search type and specific entity types OR employeeSid/domainId. You cannot search for saved searches by both specific entity type AND employeeSid/domainId.\n   *\n   * @category Search\n   * @param {string} searchType - Get the saved searches for a particular type\n   * @param {Array<string>} [applyToEntities] - Restrict GIS searches to specified entity types\n   * @param {number} [employeeSid] - The employee SID to retrieve the searches as\n   * @param {number} [domainId] - The domain ID of the domain to search\n   * @return {Object} Returns Promise object that represents a collection of SearchDefinitionName\n   */\n  getSaved(searchType: string, applyToEntities?: Array<string>, employeeSid?: number, domainId?: number) {\n    return new Promise((resolve, reject) => {\n      if(!_.has(this.searchTypes, searchType)) {\n        reject(new CWError(2, 'SearchType provided does not exist or is mispelled.', {'provided': searchType, 'available':this.searchTypes}))\n      } else if(typeof(applyToEntities)!='undefined' && applyToEntities!=null && applyToEntities.length>0 && (typeof(employeeSid)!='undefined' || typeof(domainId)!='undefined')) {\n        reject(new CWError(3, 'You cannot specify both applyToEntities AND employeeSid/domainId'))\n      }\n      var data = {}\n      var savedEndpoint = ''\n      if(typeof(employeeSid)!='undefined' || typeof(domainId)!='undefined') {\n        savedEndpoint = 'SavedByType'\n        if(typeof(employeeSid)!='undefined' && employeeSid!=null) {\n          _.set(data, 'EmployeeSid', employeeSid)\n        }\n        if(typeof(domainId)!='undefined' && domainId!=null) {\n          _.set(data, 'DomainId', domainId)\n        }\n      } else {\n        if(searchType=='Case') {\n          savedEndpoint = 'PllSavedSaved'\n        } else {\n          savedEndpoint = searchType + 'Saved'\n        }\n        if(typeof(applyToEntities)!='undefined' && applyToEntities!=null) {\n          _.set(data, 'ApplyToEntities', applyToEntities)\n        }\n      }\n      this.cw.runRequest('Ams/Search/'+savedEndpoint, data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get a list display fields for a Search Type\n   *\n   * @category Search Options\n   * @param {string} searchType - Restrict GIS searches to specified entity types\n   * @return {Object} Returns Promise object that represents a collection of SearchDisplayFields\n   */\n  displayFields(searchType: string) {\n    return new Promise((resolve, reject) => {\n      if(!_.has(this.searchTypes, searchType)) {\n        reject(new CWError(1, 'SearchType provided does not exist or is mispelled.', {'provided': searchType, 'available':this.searchTypes}))\n      }\n      var data = {\n        searchType: _.get(this.searchTypes, searchType)\n      }\n      this.cw.runRequest('Ams/Search/DisplayFields', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get a list search types\n   *\n   * @category Search Options\n   * @return {Object} Returns Promise object that represents a collection of SearchTypeInfo objects\n   */\n  types() {\n    return new Promise((resolve, reject) => {\n      var data = {}\n      this.cw.runRequest('Ams/Search/Types', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Enable Service URLs on Saved Searches\n   *\n   * @category Search Options\n   * @param {Array<number>} searchIds - Search IDs to enable eURL on\n   * @return {Object} Returns Promise object that represents a dictionary of SearchIds and EURL booleans\n   */\n  enableServices(searchIds: Array<number>) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        Enable: true,\n        SearchIds: searchIds\n      }\n      this.cw.runRequest('Ams/Search/UpdateEurl', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Disable Service URLs on Saved Searches\n   *\n   * @category Search Options\n   * @param {Array<number>} searchIds - Search IDs to enable eURL on\n   * @return {Object} Returns Promise object that represents a dictionary of SearchIds and EURL booleans\n   */\n  disableServices(searchIds: Array<number>) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        Enable: false,\n        SearchIds: searchIds\n      }\n      this.cw.runRequest('Ams/Search/UpdateEurl', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get a search definition\n   *\n   * @category Search Definitions\n   * @param {number} searchId - SearchId to get.\n   * @param {number} employeeSid - Enforces employee security settings on search definition if provided.\n   * @return {Object} Returns Promise object that represents a SearchDefinition object\n   */\n  getDefinition(searchId: number, employeeSid?: number) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        SearchId: searchId\n      }\n      if(typeof(employeeSid)!='undefined') {\n        _.set(data, 'EmployeeSid', employeeSid)\n      }\n      this.cw.runRequest('Ams/Search/Definition', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get search definitions\n   *\n   * @category Search Definitions\n   * @param {Array<number>} searchIds - SearchIds to get.\n   * @param {number} employeeSid - Enforces employee security settings on search definition if provided.\n   * @return {Object} Returns Promise object that represents a collection of SearchDefinition objects\n   */\n  getDefinitions(searchIds: Array<number>, employeeSid?: number) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        SearchIds: searchIds\n      }\n      if(typeof(employeeSid)!='undefined') {\n        _.set(data, 'EmployeeSid', employeeSid)\n      }\n      this.cw.runRequest('Ams/Search/Definitions', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get search definition names\n   *\n   * @category Search Definitions\n   * @param {Array<number>} searchIds - SearchIds to get.\n   * @return {Object} Returns Promise object that represents a collection of SearchDefinitionNames\n   */\n  getDefinitionNames(searchIds: Array<number>) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        SearchIds: searchIds\n      }\n      this.cw.runRequest('Ams/Search/DefinitionNames', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Delete search definitions\n   *\n   * @category Search Definitions\n   * @param {Array<number>} searchIds - SearchIds to get.\n   * @return {Object} Returns Promise object that represents a list (dictionary) of search IDs and deletion success boolean\n   */\n  deleteDefinitions(searchIds: Array<number>) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        SearchIds: searchIds\n      }\n      this.cw.runRequest('Ams/Search/DeleteDefinitions', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Save a search definition\n   *\n   * @category Search Definitions\n   * @param {string} searchFor - Name of type to search for from searchTypes\n   * @param {Object} options - Other options. See: /{subdirectory}/apidocs/#/service-info/Ams/Search\n   * @param {number} searchId - SearchId to update. Defaults to \"0\" which is \"Create new saved search\"\n   * @return {Object} Returns Promise object that represents a SearchDefinitionName object\n   */\n  saveDefinition(searchFor: string, options?: Object, searchId: number = 0) {\n    return new Promise((resolve, reject) => {\n      if(!_.has(this.searchTypes, searchFor)) {\n        reject(new CWError(1, 'SearchType provided does not exist or is mispelled.', {'provided': searchFor, 'available':this.searchTypes}))\n      }\n      var data = {\n        SearchFor: _.get(this.searchTypes, searchFor),\n        SearchId: searchId\n      }\n      data = _.merge(data, options)\n      this.cw.runRequest('Ams/Search/SaveDefinition', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n}\n","import { CWError } from './error'\nconst _ = require('lodash')\n\nexport class Request {\n  /**\n   * @hidden\n   */\n  cw: any\n\n  /**\n   * Request Administration methods\n   */\n  admin?: any\n\n  /**\n   * Request Costing methods\n   */\n  costs: any\n\n  /**\n   * WorkOrder Comments methods\n   */\n  comment: any\n\n  /**\n   * @hidden\n   */\n  constructor(cw) {\n    this.cw = cw\n    this.admin\n    this.comment\n  }\n\n  /**\n   * Create new requests\n   *\n   * @category Requests\n   * @param {Object} sr_data - See /{subdirectory}/apidocs/#/data-type-infodataType=RequestBase on the Cityworks instance\n   * @return {Object} Returns Promise that represents an object describing the newly-created request\n   */\n  create(sr_data: Object) {\n    return new Promise((resolve, reject) => {\n      if(!_.has(sr_data, 'ProblemSid')) {\n        reject(new CWError(2, 'ProblemSid must be provided.', {'provided': sr_data}))\n      } else {\n        this.cw.runRequest('Ams/ServiceRequest/Create', sr_data).then(r => {\n          resolve(r.Value)\n        }).catch(e => {\n          reject(e)\n        })\n      }\n    })\n  }\n\n  /**\n   * Update a request\n   *\n   * @category Requests\n   * @param {object} sr_data - See /{subdirectory}/apidocs/#/data-type-infodataType=RequestBase on the Cityworks instance\n   * @return {Object} Returns Promise that represents an object describing the updated request\n   */\n  update(sr_data: Object) {\n    return new Promise((resolve, reject) => {\n      if(!_.has(sr_data, 'RequestId')) {\n        reject(new CWError(3, 'RequestId must be provided.', {'provided': sr_data}))\n      } else {\n        this.cw.runRequest('Ams/ServiceRequest/Update', sr_data).then(r => {\n          resolve(r.Value)\n        }).catch(e => {\n          reject(e)\n        })\n      }\n    })\n  }\n\n  /**\n   * Move a request's point\n   *\n   * @category Requests\n   * @param {number} requestId\n   * @param {number} x\n   * @param {number} y\n   * @param {Object} projection - Should include at least WKT _or_ WKID attribute. Can also include VcsWKID attribute.\n   * @param {number} [z] - Optional Z coordinate\n   * @return {Object} Returns Promise that represents an object describing the updated GISPoint\n   */\n  move(requestId: number, x: number, y: number, projection: {WKID?: string, WKT?: string, VcsWKID?: string}, z?: number) {\n    return new Promise((resolve, reject) => {\n      if(!_.has(projection, 'WKID') && !_.has(projection, 'WKT')) {\n        // Throw error\n        reject(new CWError(6, 'You must provide either the WKID or WKT for the x/y coordinates.', {'projection': projection}))\n      }\n      var base_data = {\n        RequestId: requestId,\n        X: x,\n        Y: y\n      };\n      if(typeof(z)!='undefined') {\n        _.set(base_data, 'Z', z)\n      }\n      var data = _.merge(base_data, projection);\n      this.cw.runRequest('Ams/ServiceRequest/Move', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Update request's map layer fields\n   *\n   * @category Requests\n   * @param {number} requestId\n   * @return {Object} Returns Promise that represents an object describing the updated map layer fields\n   */\n  updateMLF = (requestId: number) => {\n    return new Promise((resolve, reject) => {\n      var data = {\n        ServiceRequestId: requestId\n      }\n      this.cw.runRequest('Ams/TemplateMapLayer/ServiceRequestInstanceMapLayersByRequestId', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    });\n  }\n\n  /**\n   * Change a request's problem code\n   *\n   * @category Requests\n   * @param {number} requestId - The request ID to change\n   * @param {number} problemSid - The request's new ProblemSID\n   * @return {Object} Returns Promise that represents an object describing the updated request\n   */\n  changeProblem(requestId: number, problemSid: number) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        RequestId: requestId,\n        ProblemSid: problemSid\n      }\n      this.cw.runRequest('Ams/ServiceRequest/ChangeProblem', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get a request by ID\n   *\n   * @category Requests\n   * @param {number} requestId - The ID of the request to retrieve\n   * @return {Object} Returns Promise that represents an object describing the request\n   */\n  getById(requestId: number) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        RequestId: requestId\n      }\n      this.cw.runRequest('Ams/ServiceRequest/ById', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get requests by array of IDs\n   *\n   * @category Requests\n   * @param {Array<number>} requestIds - The request IDs to retrieve\n   * @return {Object} Returns Promise that represents a collection of Objects describing the requests\n   */\n  getByIds(requestIds: Array<number>) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        RequestIds: requestIds\n      }\n      this.cw.runRequest('Ams/ServiceRequest/ByIds', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get the audit log for a specific request\n   *\n   * @category Requests\n   * @param {number} requestId - A Request ID to get the audit log for\n   * @return {Object} Returns Promise that represents a collection of Cityworks Metadata Objects\n   */\n  getAuditLog(requestId: number) {\n    return new Promise((resolve, reject) => {\n      var data = {RequestId: requestId}\n      this.cw.runRequest('Ams/ServiceRequest/AuditLog', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get custom fields for provided requests\n   *\n   * @category Requests\n   * @param {Array<number>} requestIds - The RequestIds whose custom fields should be returned\n   * @return {Object} Returns Promise that represents a collection of custom fields\n   */\n  getCustomFields(requestIds: Array<number>) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        RequestIds: requestIds,\n      }\n      this.cw.runRequest('Ams/ServiceRequest/CustomFields', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Change custom field category for provided requests\n   *\n   * @category Requests\n   * @param {Array<number>} requestIds - The RequestIds whose custom fields should be returned\n   * @param {number} categoryId - The new custom field grouping/category which should be assigned to the provided requests\n   * @return {Object} Returns Promise that represents a collection of requests\n   */\n  changeCustomFieldCategory(requestIds: Array<number>, categoryId: number) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        RequestIds: requestIds,\n        CategoryId: categoryId\n      }\n      this.cw.runRequest('Ams/ServiceRequest/ChangeCustomFieldCategory', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Cancel requests\n   *\n   * @category Requests\n   * @param {Array<number>} requestIds - An array of the IDs to cancel the matched requests\n   * @param {string} [cancelReason] - A reason for cancelling the request(s)\n   * @param {datetime} [dateCancelled] - The date/time that it should be indicated the request was cancelled\n   * @return {Object} Returns object that represents a collection of requests\n   */\n   cancel(requestIds: Array<number>, cancelReason?: string, dateCancelled?: Date) {\n     return new Promise((resolve, reject) => {\n       var m = new Date()\n       var data: {RequestIds: Array<number>, CancelReason?: string, DateCancelled?: Date} = { RequestIds: requestIds }\n       if(typeof(cancelReason)!=='undefined')\n         _.set(data, 'CancelReason', cancelReason);\n       if(typeof(dateCancelled)!=='undefined')\n         _.set(data, 'DateCancelled', dateCancelled);\n       this.cw.runRequest('Ams/ServiceRequest/Cancel', data).then(r => {\n         resolve(r.Value)\n       }).catch(e => {\n         reject(e)\n       })\n     })\n   }\n\n   /**\n    * Uncancel requests\n    *\n    * @category Requests\n    * @param {Array<number>} requestIds - An array of the IDs to uncancel the matched requests\n    * @return {Object} Returns object that represents a collection of requests\n    */\n    uncancel(requestIds: Array<number>) {\n      return new Promise((resolve, reject) => {\n        var data = {\n          RequestIds: requestIds\n        }\n        this.cw.runRequest('Ams/ServiceRequest/Uncancel', data).then(r => {\n          resolve(r.Value)\n        }).catch(e => {\n          reject(e)\n        })\n      })\n    }\n\n   /**\n    * Close requests\n    *\n    * @category Requests\n    * @param {Array<number>} requestIds - An array of the IDs to close the matched requests\n    * @return {Object} Returns object that represents a collection of requests\n    */\n    close(requestIds: Array<number>) {\n      return new Promise((resolve, reject) => {\n        var data = {\n          RequestIds: requestIds\n        }\n        this.cw.runRequest('Ams/ServiceRequest/Close', data).then(r => {\n          if(r.Status>0) {\n            reject(new CWError(5, r.Message, {'response': r}))\n          } else {\n            resolve(r.Value)\n          }\n        }).catch(e => {\n          reject(e)\n        })\n      })\n    }\n\n    /**\n     * Reopen closed requests\n     *\n     * @category Requests\n     * @param {Array<number>} requestIds - An array of the IDs to reopen the matched requests\n     * @return {Object} Returns object that represents a collection of requests\n     */\n     reopen(requestIds: Array<number>) {\n       return new Promise((resolve, reject) => {\n         var data = {\n           RequestIds: requestIds\n         }\n         this.cw.runRequest('Ams/ServiceRequest/ReOpen', data).then(r => {\n           resolve(r.Value)\n         }).catch(e => {\n           reject(e)\n         })\n       })\n     }\n\n  /**\n   * Delete requests\n   *\n   * @category Requests\n   * @param {Array<number>} requestIds - An array of the IDs to delete the matched requests\n   * @return {Object} Returns object that represents a collection of request Ids which have been deleted\n   */\n   delete(requestIds: Array<number>) {\n     return new Promise((resolve, reject) => {\n       var data = {\n         RequestIds: requestIds\n       }\n       this.cw.runRequest('Ams/ServiceRequest/Delete', data).then(r => {\n         if(r.Status>0) {\n           reject(new CWError(4, r.Message, {'response': r}))\n         } else {\n           resolve(r.Value)\n         }\n       }).catch(e => {\n         reject(e)\n       })\n     })\n   }\n\n   /**\n    * Search for requests\n    *\n    * @category Request Search\n    * @param {Object} searchData - The search information to retrieve matched requests, see instance docs: /{subdirectory}/apidocs/#/service-info/Ams/ServiceRequest\n    * @return {Object} Returns Promise that represents an Array of the matching request IDs\n    */\n   search(searchData: Object) {\n     return new Promise((resolve, reject) => {\n       var data = searchData\n       this.cw.runRequest('Ams/ServiceRequest/Search', data).then(r => {\n         resolve(r.Value)\n       }).catch(e => {\n         reject(e)\n       })\n     })\n   }\n\n   /**\n    * Get the records on the basis of RequestId, only populates RequestId, Description, ProblemCode properties\n    *\n    * @category Request Object Search\n    * @param {string} requestId - ???, see instance docs: /{subdirectory}/apidocs/#/service-info/Ams/ServiceRequest\n    * @return {Object} Returns Promise that represents a collection of the matching (limited) request objects\n    */\n   searchObject(requestId: string) {\n     return new Promise((resolve, reject) => {\n       var data = {\n         RequestId: requestId\n       }\n       this.cw.runRequest('Ams/ServiceRequest/SearchObject', data).then(r => {\n         resolve(r.Value)\n       }).catch(e => {\n         reject(e)\n       })\n     })\n   }\n\n   /**\n    * Create a search definition. Save the definition by setting SaveDefinition = true and supplying a SearchName.\n    *\n    * @category Requests\n    * @param {Object} searchData - Search data variables. See /{subdirectory}/apidocs/#/service-info/Ams/ServiceRequest\n    * @param {number} [searchName] - What to name your search (if it should be saved)\n    * @param {number} [sharedWithin] - What group or domain to share the search to.\n    * @param {boolean} saveDefinition - Whether or not to save the search definition. Defaults to true when a search name is specified.\n    * @param {boolean} enableEurl - Whether or not to enable EURL for the saved search. Defaults to true.\n    * @return {Object} Returns Promise that represents a collection of Cityworks Metadata Objects\n    */\n   createSearchDefinition(searchData: Object, searchName?: string, sharedWithin?: number, saveDefinition: boolean = true, enableEurl: boolean = true) {\n     return new Promise((resolve, reject) => {\n       var data = searchData\n       if(_.isString(searchName)) {\n         _.set(data, 'SearchName', searchName)\n         _.set(data, 'SaveDefinition', saveDefinition)\n         _.set(data, 'EnableEurl', enableEurl)\n         // not sure how to handle sharedWithin...\n         // _.set(data, 'SharedWithin', sharedWithin)\n       }\n       this.cw.runRequest('Ams/ServiceRequest/CreateSearchDefinition', data).then(r => {\n         resolve(r.Value)\n       }).catch(e => {\n         reject(e)\n       })\n     })\n   }\n\n  /**\n   * Get a list of problem nodes for a domain\n   *\n   * @category Request Categorization\n   * @param {number} domainId - The domain ID for which to retrieve problem nodes.\n   * @param {boolean} viewOnly - Return only view only problem nodes. Defaults to false.\n   * @param {Object} [displayMode] - Object that should contain two properties if you provide it: DisplayTextMode: string (C = Code, D = Description, CD = Code ~ Description). DisplayTextDelimeter: string, only impacts CD display text mode.\n   * @param {boolean} includeCancelled - Return only cancelled problem nodes as well. Defaults to false.\n   * @return {Object} Returns Promise that represents a collection of problem node objects.\n   */\n  getProblemNodes(domainId: number, viewOnly: boolean = false, displayMode?: Object, includeCancelled: boolean = false) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        DomainId: domainId,\n        IncludeCancelled: includeCancelled,\n        ViewOnly: viewOnly\n      }\n      if(typeof displayMode != 'undefined' && displayMode !== null && _.has(displayMode, 'DisplayTextMode')) {\n        _.set(data, 'DisplayTextMode', _.get(displayMode, 'DisplayTextMode'))\n        if(_.get(displayMode, 'DisplayTextMode')=='CD' && _.has(displayMode, 'DisplayTextDelimeter')) {\n          _.set(data, 'DisplayTextDelimeter', _.get(displayMode, 'DisplayTextDelimeter'))\n        }\n      }\n      this.cw.runRequest('Ams/ServiceRequest/ProblemNodes', data).then(r => {\n        // console.log(_.filter(r, function(o) { return !o.Cancel; }), 'filter');\n        // console.log(_.some(r.Value, ['Cancel', true]), 'some');\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get a list of problem codes\n   *\n   * @category Request Options\n   * @param {boolean} forPublicOnly - Return only publicly-available service requests. Defaults to false.\n   * @param {boolean} onlyActiveTemplates - Return only active templates. Defaults to true.\n   * @return {Object} Returns Promise that represents an Array of problem name objects.\n   */\n  getProblems(forPublicOnly: boolean = false, onlyActiveTemplates: boolean = true, domainIds?: Array<number>) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        ForPublicOnly: forPublicOnly,\n        OnlyActiveTemplates: onlyActiveTemplates\n      }\n      if(typeof domainIds != 'undefined') {\n        _.set(data, 'DomainIds', domainIds)\n      }\n      this.cw.runRequest('Ams/ServiceRequest/Problems', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get a list of problem codes by keywords\n   *\n   * @category Request Options\n   * @param {string} keywords - Keywords to search for potential problem codes\n   * @return {Object} Returns Promise that represents an Array of problem name objects.\n   */\n  getProblemsByKeywords(keywords: string) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        Keywords: keywords\n      }\n      this.cw.runRequest('Ams/ServiceRequest/ProblemsByKeywords', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get a list of a problem code's priorities\n   *\n   * @category Request Options\n   * @param {number} problemSid - Return priorities for given problemSid\n   * @return {Object} Returns Promise that represents an Array of priorities\n   */\n  getPriorities(problemSid: number) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        ProblemSids: problemSid,\n      }\n      this.cw.runRequest('Ams/ServiceRequest/Priorities', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get custom field templates for problem code\n   *\n   * @category Request Options\n   * @param {number} problemSid - The problemSid whose template custom fields should be returned\n   * @return {Object} Returns Promise that represents a collection of custom fields\n   */\n  getCustomFieldTemplate(problemSid: number) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        ProblemSids: problemSid,\n      }\n      this.cw.runRequest('Ams/ServiceRequest/TemplateCustomFields', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get the questions and answer options for a problem code\n   *\n   * @category Request Options\n   * @param {number} problemSid - The problemSid whose Q&A should be returned\n   * @return {Object} Returns Promise that represents a collection of questions and answer settings\n   */\n  getQASettings(problemSid: number) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        ProblemSids: problemSid,\n      }\n      this.cw.runRequest('Ams/ServiceRequest/QA', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get problem leaf (template) by Sid\n   *\n   * @category Request Options\n   * @param {number} problemSid - Return problem leaf for given problemSid\n   * @return {Object} Returns Promise that represents an Object that describes the problem leaf (template)\n   */\n  getProblemLeaf(problemSid: number) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        ProblemSid: problemSid\n      }\n      this.cw.runRequest('Ams/ServiceRequest/ProblemLeafBySid', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get a list of default statuses\n   *\n   * @category Request Options\n   * @param {Array<number>} domainIds - List of domains to return default statuses for\n   * @return {Object} Returns Promise that represents an Array of statuses.\n   */\n  getStatuses(domainIds: Array<number>) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        DomainIds: domainIds\n      }\n      this.cw.runRequest('Ams/ServiceRequest/DefaultStatus', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get a list of possible Employee values\n   *\n   * @category Request Options\n   * @param {string} listType - Which list (endpoint) to get. Includes only DispatchTo & SubmitTo.\n   * @param {number} domainId - Domain to return possible dispatchTo values for\n   * @return {Object} Returns Promise that represents an Array of Employee options.\n   */\n  getEmployeeLists(listType: string, domainId: number) {\n    return new Promise((resolve, reject) => {\n      // TODO: make a default domain option on the CW object for cases like this.\n      var data = {\n        DomainId: domainId\n      }\n      if(!_.includes(['DispatchTo', 'SubmitTo'], listType)) {\n        reject(new CWError(2, 'listType must be either SubmitTo or DispatchTo.', {'provided': listType}))\n      } else {\n        this.cw.runRequest(`Ams/ServiceRequest/${listType}`, data).then(r => {\n          resolve(r.Value)\n        }).catch(e => {\n          reject(e)\n        })\n      }\n    })\n  }\n\n  /**\n   * Get a list of possible DispatchTo values\n   *\n   * @category Request Options\n   * @param {number} domainId - Domain to return possible dispatchTo values for\n   * @return {Object} Returns Promise that represents an Array of dispatchTo options.\n   */\n  getDispatchTos(domainId: number) {\n    // Fix name for choice of non-pluralized endpoint. Unlike WOs & Inspections...\n    return this.getEmployeeLists('DispatchTo', domainId);\n  }\n\n  /**\n   * Get a list of possible SubmitTo values\n   *\n   * @category Request Options\n   * @param {number} domainId - Domain to return possible submitTo values for\n   * @return {Object} Returns Promise that represents an Array of submitTo options.\n   */\n  getSubmitTos(domainId: number) {\n    // Fix name for choice of non-pluralized endpoint. Unlike WOs & Inspections...\n    return this.getEmployeeLists('SubmitTo', domainId);\n  }\n\n  /**\n   * Get street codes\n   *\n   * @category Request Options\n   * @return {Object} Returns Promise that represents an Array of Street Codes.\n   */\n  streetCodes() {\n    return new Promise((resolve, reject) => {\n      this.cw.runRequest('Ams/ServiceRequest/AllStreetCode', {}).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get a list of templates\n   *\n   * @category Request Templates\n   * @param {Array<number>} problemSids - An array list of problemSids to retrieve templates for\n   * @param {Date} [minimumDateModified] - ?\n   * @param {Date} [maximumDateModified] - ?\n   * @return {Object} Returns Promise that represents\n   */\n   getTemplatesById(problemSids: Array<number>, minimumDateModified?: Date, maximumDateModified?: Date) {\n     return new Promise((resolve, reject) => {\n       var data = {\n         ProblemSids: null\n       }\n       if(typeof minimumDateModified != 'undefined') {\n         _.set(data, 'MinimumDateModified', minimumDateModified)\n       }\n       if(typeof maximumDateModified != 'undefined') {\n         _.set(data, 'MaximumDateModified', maximumDateModified)\n       }\n\n       this.cw.runRequest('Ams/ServiceRequestTemplate/ByIds', data).then(r => {\n         resolve(r.Value)\n       }).catch(e => {\n         reject(e)\n       })\n     })\n   }\n\n   /**\n    * Create a search definition. Save the definition by setting SaveDefinition = true and supplying a SearchName.\n    *\n    * @category Request Templates\n    * @param {Object} searchData - Search data variables. See /{subdirectory}/apidocs/#/service-info/Ams/ServiceRequestTemplate\n    * @param {number} [searchName] - What to name your search (if it should be saved)\n    * @param {number} [sharedWithin] - What group or domain to share the search to.\n    * @param {boolean} saveDefinition - Whether or not to save the search definition. Defaults to true when a search name is specified.\n    * @return {Object} Returns Promise that represents a collection of Cityworks Metadata Objects. See: /{subdirectory}/apidocs/#/data-type-info;dataType=CWMetadata\n    */\n   createTemplateSearchDefinition(searchData: Object, searchName?: string, sharedWithin?: number, saveDefinition: boolean = true) {\n     return new Promise((resolve, reject) => {\n       var data = searchData\n       if(_.isString(searchName)) {\n         _.set(data, 'SearchName', searchName)\n         _.set(data, 'SaveDefinition', saveDefinition)\n         // not sure how to handle sharedWithin...\n         // _.set(data, 'SharedWithin', sharedWithin)\n       }\n       this.cw.runRequest('Ams/ServiceRequestTemplate/CreateSearchDefinition', data).then(r => {\n         resolve(r.Value)\n       }).catch(e => {\n         reject(e)\n       })\n     })\n   }\n\n   /**\n    * Get the questions and answers for a(many) request template(s)\n    *\n    * @category Request Templates\n    * @param {Array<number>} problemSids - An array list of problemSids to retrieve templates for\n    * @return {Object} Returns Promise that represents a collection of ProblemQAs. See /{subdirectory}/apidocs/#/data-type-info;dataType=ProblemQA\n    */\n    getTemplateQAs(problemSids: Array<number>, minimumDateModified?: Date, maximumDateModified?: Date) {\n      return new Promise((resolve, reject) => {\n        var data = {\n          ProblemSids: null\n        }\n        this.cw.runRequest('Ams/ServiceRequestTemplate/QA', data).then(r => {\n          resolve(r.Value)\n        }).catch(e => {\n          reject(e)\n        })\n      })\n    }\n\n    /**\n     * Get a list of template id results for a provided search parameters\n     *\n     * @category Request Templates\n     * @param {Object} searchData - Search data variables. See /{subdirectory}/apidocs/#/service-info/Ams/ServiceRequestTemplate\n     * @return {Object} Returns Promise that represents a list of template IDs.\n     */\n    searchTemplates(searchData: Object) {\n      return new Promise((resolve, reject) => {\n        var data = searchData\n        this.cw.runRequest('Ams/ServiceRequestTemplate/Search', data).then(r => {\n          resolve(r.Value)\n        }).catch(e => {\n          reject(e)\n        })\n      })\n    }\n\n    /**\n     * Get request templates (problem leaf[s])\n     *\n     * @category Request Templates\n     * @param {Array<number>} [templateIds] - Array of specific template IDs to retrieve\n     * @param {number} canCreate - If true, only return templates the user can create, ignored if false or null, default is false\n     * @param {boolean} includeInactiveIf - If true, returns inactive templates, default is false\n     * @param {Date} [minimumDateModified] - ?\n     * @param {Date} [maximumDateModified] - ?\n     * @return {Object} Returns Promise that represents a collection of Problem Leafs. See /{subdirectory}/apidocs/#/data-type-info;dataType=ProblemLeaf\n     */\n    getTemplates(templateIds: Array<number>, canCreate: boolean = false, includeInactiveIf: boolean = false, minimumDateModified?: Date, maximumDateModified?: Date) {\n      return new Promise((resolve, reject) => {\n        var data = {\n          CanCreate: canCreate,\n          IncludeInactiveIf: includeInactiveIf\n        }\n        if(typeof templateIds != 'undefined') {\n          _.set(data, 'TemplateIds', templateIds)\n        }\n        if(typeof minimumDateModified != 'undefined') {\n          _.set(data, 'MinimumDateModified', minimumDateModified)\n        }\n        if(typeof maximumDateModified != 'undefined') {\n          _.set(data, 'MaximumDateModified', maximumDateModified)\n        }\n        this.cw.runRequest('Ams/ServiceRequestTemplate/Templates', data).then(r => {\n          resolve(r.Value)\n        }).catch(e => {\n          reject(e)\n        })\n      })\n    }\n\n    /**\n     * Get WorkOrder templates that are associated to this request template type\n     *\n     * @category Request Templates\n     * @param {Array<number>} problemSids - An array list of problemSids to retrieve Problem WO templates for\n     * @param {boolean} includeInactiveIf - Include inactive WorkOrder templates, default is false\n     * @return {Object} Returns Promise that represents a collection of Problem WO Templates. See /{subdirectory}/apidocs/#/data-type-info;dataType=ProblemWOTemplate\n     */\n    getWOTemplates(problemSids: Array<number>, includeInactive: boolean = false) {\n      return new Promise((resolve, reject) => {\n        var data = {\n          ProblemSids: problemSids,\n          IncludeInactive: includeInactive\n        }\n        this.cw.runRequest('Ams/ServiceRequestTemplate/WorkOrderTemplates', data).then(r => {\n          resolve(r.Value)\n        }).catch(e => {\n          reject(e)\n        })\n      })\n    }\n\n  /**\n   * Get Map Layer Fields\n   *\n   * @category Requests\n   * @param {number} requestId - The request ID to get the map layer fields for.\n   * @return {Object} Returns Promise that represents a collection of Objects describing the request map layer fields\n   */\n  getMLFs(requestId: number) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        ServiceRequestId: requestId\n      }\n      var path = 'Ams/TemplateMapLayer/ServiceRequestInstanceMapLayersByRequestId';\n      this.cw.runRequest(path, data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Update Map Layer Fields\n   *\n   * @category Requests\n   * @param {number} requestId - The service request ID to get the map layer fields for.\n   * @param {number} x\n   * @param {number} y\n   * @param {number} domainId - Domain ID\n   * @param {number} [z] - Optional Z coordinate\n   * @return {Object} Returns Promise that represents a ...\n   */\n    updateMLFs(requestId: number, x?: number, y?: number, domainId?: number, z?: number) { // |number\n      return new Promise((resolve, reject) => {\n        var data = {}\n        var path = 'Ams/TemplateMapLayer/UpdateServiceRequestInstanceMapLayers';\n        _.set(data, 'ServiceRequestId', requestId)\n        if(_.isNumber(x)) {\n          _.set(data, 'X', x)\n        }\n        if(_.isNumber(y)) {\n          _.set(data, 'Y', y)\n        }\n        if(_.isNumber(z)) {\n          _.set(data, 'Z', z)\n        }\n        if(_.isNumber(domainId)) {\n          _.set(data, 'DomainId', domainId)\n        }\n        this.cw.runRequest(path, data).then(r => {\n          resolve(r.Value)\n        }).catch(e => {\n          reject(e)\n        })\n      })\n    }\n\n  /**\n   * Delete Map Layer Fields\n   *\n   * @category Requests\n   * @param {number} requestId - The request ID to delete the map layer fields for.\n   * @return {Object} Returns Promise that represents a collection of Objects describing the deleted map layer fields\n   */\n  deleteMLFs(requestId: number) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        ServiceRequestId: requestId\n      }\n      var path = 'Ams/TemplateMapLayer/DeleteServiceRequestInstancesByRequestId';\n      this.cw.runRequest(path, data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n}\n","import { CWError } from './error'\nconst _ = require('lodash')\n\nexport class Inspection {\n  /**\n   * @hidden\n   */\n  cw: any\n\n  /**\n   * Inspection Administration methods\n   */\n  admin?: Object\n\n  /**\n   * Inspection Costing methods\n   */\n  costs: any\n\n  /**\n   * @hidden\n   */\n  constructor(cw) {\n    this.cw = cw\n    this.admin\n  }\n\n  /**\n   * Create new inspection\n   *\n   * @category Inspections\n   * @param {Object} insp_data - See /{subdirectory}/apidocs/#/data-type-infodataType=InspectionBase on your Cityworks instance\n   * @return {Object} Returns Promise that represents an object describing the newly-created inspection\n   */\n  create(insp_data: Object) {\n    return new Promise((resolve, reject) => {\n      if(!_.has(insp_data, 'EntityType') || !_.has(insp_data, 'InspTemplateId')) {\n        reject(new CWError(1, 'EntityType and InspTemplateId properties must be provided.', {'provided': insp_data}))\n      } else {\n        this.cw.runRequest('Ams/Inspection/Create', insp_data).then(r => {\n          resolve(r.Value)\n        }).catch(e => {\n          reject(e)\n        })\n      }\n    })\n  }\n\n  /**\n   * Create inspections from an array of entities\n   *\n   * @category Inspections\n   * @param {Object} insp_data - See /{subdirectory}/apidocs/#/data-type-infodataType=InspectionBase on your Cityworks instance\n   * @return {Object} Returns Promise that represents a collection of objects describing the newly-created inspections\n   */\n   createFromEntities(insp_data: Object) {\n    return new Promise((resolve, reject) => {\n     if(!_.has(insp_data, 'EntityType') || !_.has(insp_data, 'InspTemplateId')) {\n       reject(new CWError(1, 'EntityType and InspTemplateId properties must be provided.', {'provided': insp_data}))\n     } else {\n       this.cw.runRequest('Ams/Inspection/CreateFromEntities', insp_data).then(r => {\n         resolve(r.Value)\n       }).catch(e => {\n         reject(e)\n       })\n     }\n    })\n  }\n\n  /**\n   * Create an inspection from a parent inspection (TODO: what parent!?)\n   *\n   * @category Inspections\n   * @param {object} insp_data - See /{subdirectory}/apidocs/#/data-type-infodataType=InspectionBase on your Cityworks instance\n   * @return {Object} Returns object that represents an object describing the newly-created inspection\n   */\n   createFromParent(insp_data: Object) {\n    return new Promise((resolve, reject) => {\n      // see if it's just InspectionId\n     if(!_.has(insp_data, 'EntityType') || !_.has(insp_data, 'InspTemplateId') || !_.has(insp_data, 'InspectionId')) {\n       reject(new CWError(1, 'EntityType and InspTemplateId properties must be provided.', {'provided': insp_data}))\n     } else {\n       this.cw.runRequest('Ams/Inspection/CreateFromParent', insp_data).then(r => {\n         resolve(r.Value)\n       }).catch(e => {\n         reject(e)\n       })\n     }\n    })\n  }\n\n  /**\n   * Create an inspection from a service request\n   *\n   * @category Inspections\n   * @param {object} insp_data - See /{subdirectory}/apidocs/#/data-type-infodataType=InspectionBase on your Cityworks instance\n   * @return {Object} Returns object that represents an object describing the newly-created inspection\n   */\n   createFromServiceRequest(insp_data: Object) {\n    return new Promise((resolve, reject) => {\n     if(!_.has(insp_data, 'EntityType') || !_.has(insp_data, 'InspTemplateId') || !_.has(insp_data, 'RequestId')) {\n       reject(new CWError(1, 'EntityType and InspTemplateId properties must be provided.', {'provided': insp_data}))\n     } else {\n       this.cw.runRequest('Ams/Inspection/CreateFromServiceRequest', insp_data).then(r => {\n         resolve(r.Value)\n       }).catch(e => {\n         reject(e)\n       })\n     }\n    })\n  }\n\n  /**\n   * Create an inspection from a WorkOrder\n   *\n   * @category Inspections\n   * @param {object} insp_data - See /{subdirectory}/apidocs/#/data-type-infodataType=InspectionBase on your Cityworks instance\n   * @return {Object} Returns object that represents an object describing the newly-created inspection\n   */\n   createFromWorkOrder(insp_data: Object) {\n    return new Promise((resolve, reject) => {\n      // Are they  both actually required?!?!\n      // WorkOrderId\n      // WorkOrderSid ...do with only SID first then check\n     if(!_.has(insp_data, 'EntityType') || !_.has(insp_data, 'InspTemplateId') || !_.has(insp_data, 'WorkOrderSid')) {\n       reject(new CWError(1, 'EntityType and InspTemplateId properties must be provided.', {'provided': insp_data}))\n     } else {\n       this.cw.runRequest('Ams/Inspection/CreateFromWorkOrder', insp_data).then(r => {\n         resolve(r.Value)\n       }).catch(e => {\n         reject(e)\n       })\n     }\n    })\n  }\n\n  /**\n   * Update an inspection\n   *\n   * @category Inspections\n   * @param {object} insp_data - See /{subdirectory}/apidocs/#/data-type-infodataType=InspectionBase on the Cityworks instance\n   * @return {Object} Returns Promise that represents an object describing the updated inspection\n   */\n  update(insp_data: Object) {\n    return new Promise((resolve, reject) => {\n      return new Promise((resolve, reject) => {\n        if(!_.has(insp_data, 'InspectionId')) {\n          reject(new CWError(1, 'InspectionId must be provided.', {'provided': insp_data}))\n        } else {\n          this.cw.runRequest('Ams/Inspection/Update', insp_data).then(r => {\n            resolve(r.Value)\n          }).catch(e => {\n            reject(e)\n          })\n        }\n      })\n    })\n  }\n\n  /**\n   * Get an inspection by ID\n   *\n   * @category Inspections\n   * @param {number} inspectionId - The inspection ID to retrieve\n   * @return {Object} Returns Promise that represents an object describing the inspection\n   */\n  getById(inspectionId: number) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        InspectionId: inspectionId\n      }\n      this.cw.runRequest('Ams/Inspection/ById', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get inspections by array of IDs\n   *\n   * @category Inspections\n   * @param {Array<number>} inspectionIds - The inspection IDs to retrieve\n   * @return {Object} Returns Promise that represents a collection of Objects describing the inspections\n   */\n  getByIds(inspectionIds: Array<number>) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        InspectionIds: inspectionIds\n      }\n      this.cw.runRequest('Ams/Inspection/ByIds', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Cancel inspections\n   *\n   * @category Inspections\n   * @param {Array<number>} inspectionIds - An array of the IDs to cancel the matched inspections\n   * @param {string} [cancelReason] - A reason for cancelling the inspection(s)\n   * @param {datetime} [dateCancelled] - The date/time that it should be indicated the inspection was cancelled\n   * @return {Object} Returns object that represents a collection of inspections\n   */\n   cancel(inspectionIds: Array<number>, cancelReason?: string, dateCancelled?: Date) {\n     return new Promise((resolve, reject) => {\n       var m = new Date()\n       var data: {InspectionIds: Array<number>, CancelReason?: string, DateCancelled?: Date} = { InspectionIds: inspectionIds }\n       if(typeof(cancelReason)!=='undefined') {\n         data.CancelReason = cancelReason\n       }\n       if(typeof(dateCancelled)!=='undefined') {\n         data.DateCancelled = dateCancelled\n       }\n       this.cw.runRequest('Ams/Inspection/Cancel', data).then(r => {\n         resolve(r.Value)\n       }).catch(e => {\n         reject(e)\n       })\n     })\n   }\n\n   /**\n    * Uncancel inspections\n    *\n    * @category Requests\n    * @param {Array<number>} inspectionIds - An array of the IDs to uncancel the matched requests\n    * @return {Object} Returns object that represents a collection of requests\n    */\n    uncancel(inspectionIds: Array<number>) {\n      return new Promise((resolve, reject) => {\n        var data = {\n          InspectionIds: inspectionIds\n        }\n        this.cw.runRequest('Ams/Inspection/Uncancel', data).then(r => {\n          resolve(r.Value)\n        }).catch(e => {\n          reject(e)\n        })\n      })\n    }\n\n   /**\n    * Close inspections\n    *\n    * @category Inspections\n    * @param {Array<number>} inspectionIds - An array of the IDs to close the matched inspections\n    * @return {Object} Returns object that represents a collection of inspections\n    */\n    close(inspectionIds: Array<number>) {\n      return new Promise((resolve, reject) => {\n        var data = {\n          InspectionIds: inspectionIds\n        }\n        this.cw.runRequest('Ams/Inspection/Close', data).then(r => {\n          resolve(r.Value)\n        }).catch(e => {\n          reject(e)\n        })\n      })\n    }\n\n  /**\n   * Reopen closed inspections\n   *\n   * @category Inspections\n   * @param {Array<number>} inspectionIds - An array of the IDs to reopen the matched inspections\n   * @return {Object} Returns object that represents a collection of inspections\n   */\n   reopen(inspectionIds: Array<number>) {\n     return new Promise((resolve, reject) => {\n       var data = {\n         InspectionIds: inspectionIds\n       }\n       this.cw.runRequest('Ams/Inspection/Reopen', data).then(r => {\n         resolve(r.Value)\n       }).catch(e => {\n         reject(e)\n       })\n     })\n   }\n\n  /**\n   * Delete inspections\n   *\n   * @category Inspections\n   * @param {Array<number>} inspectionIds - An array of the IDs to delete the matched inspections\n   * @return {Object} Returns object that represents a collection of inspection Ids which have been deleted\n   */\n   delete(inspectionIds: Array<number>) {\n     return new Promise((resolve, reject) => {\n       var data = {\n         InspectionIds: inspectionIds\n       }\n       this.cw.runRequest('Ams/Inspection/Delete', data).then(r => {\n         resolve(r.Value)\n       }).catch(e => {\n         reject(e)\n       })\n     })\n   }\n\n  /**\n   * Search for inspections\n   *\n   * @category Inspection Search\n   * @param {Object} searchData - The search information to retrieve matched inspections, see instance docs: /{subdirectory}/apidocs/#/service-info/Ams/Inspection\n   * @return {Object} Returns Promise that represents an array of the matching inspection IDs\n   */\n  search(searchData: Object) {\n    return new Promise((resolve, reject) => {\n      var data = searchData\n      this.cw.runRequest('Ams/Inspection/Search', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get the records on the basis of inspectionId, only populates InspectionId, InspTemplateName, and Location properties\n   *\n   * @category Inspection Object Search\n   * @param {string} inspectionId - ???, see instance docs: /{subdirectory}/apidocs/#/service-info/Ams/Inspection\n   * @return {Object} Returns Promise that represents a collection of the matching (limited) inspection objects\n   */\n  searchObject(inspectionId: string) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        InspectionId: inspectionId\n      }\n      this.cw.runRequest('Ams/ServiceRequest/SearchObject', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get list of statuses\n   *\n   * @category Inspection Options\n   * @return {Object} Returns object that represents an array of all possible statuses for an Inspection\n   */\n  statuses() {\n    return new Promise((resolve, reject) => {\n      this.cw.runRequest('Ams/Inspection/Statuses', {}).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get inspection submit to list\n   *\n   * @category Inspection Options\n   * @param {boolean} [includeInactiveEmployees] - whether to include inactive employees in the return. Defaults to false.\n   * @param {boolean} [domainIds] - which domains to include in the return, default to All domains\n   * @return {Object} Returns object that represents a collection of all possible employees for an Inspection's SubmitTo\n   */\n  submitTos(includeInactiveEmployees: boolean = false, domainIds?: Array<number>) {\n    return new Promise((resolve, reject) => {\n      var data: {IncludeInactiveEmployees?: boolean, DomainIds?: Array<number>} = {}\n      if(includeInactiveEmployees) {\n        data.IncludeInactiveEmployees = true\n      }\n      if(typeof(domainIds)!=='undefined') {\n        data.DomainIds = domainIds\n      }\n      this.cw.runRequest('Ams/Inspection/SubmitTos', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n\n  /**\n   * Add an entity to an existing inspection\n   * This method requires an Entity/Asset to be specified. You can either specify the Entity Type and its UID or a WorkOrderEntityBase Object.\n   *\n   * @category Inspections\n   * @param {Object} entity - Either of two attribute combinations are valid: entityType & entityUid OR Entity as a fully-inflated WorkOrderEntity (WorkOrderEntityBase) object.\n   * @param {number} inspectionId - An Inspection ID to attach the entity/asset to.\n   * @param {boolean} updateXY - Provide a boolean to whether the inspection's X/Y coordinates should be updated. Default is true.\n   * @param {Object} facility - Add Facility_Id for the Facility Identifier and Level_id for the Facility Level Identifier. Defaults to empty so that no facility is specified.\n   * @return {Object} Returns object that represents an object which describes an Inspection Entity\n   */\n  connectAsset(entity: {EntityType?: string, EntityUid?: string, Entity?: Object}, inspectionId: number, updateXY: boolean = true, facility: {Facility_Id?: string, Level_Id?: string} = {}) {\n   return new Promise((resolve, reject) => {\n     var data: {InspectionId: number, EntityType?: string, EntityUid?: string, Entity?: Object, Facility_Id?: string, Level_Id?: string} = {\n       InspectionId: inspectionId\n     }\n     if(_.has(entity, 'EntityType') && _.has(entity, 'EntityUid')) {\n       data.EntityType = entity.EntityType\n       data.EntityUid = entity.EntityUid\n     } else if(_.has(entity, 'Entity')) {\n       data.Entity = entity.Entity\n     } else {\n       // Throw error, no entity/asset provided\n     }\n     if(_.has(facility, 'Facility_Id')) {\n       data.Facility_Id = facility.Facility_Id\n     }\n     if(_.has(facility, 'Level_Id')) {\n       data.Level_Id = facility.Level_Id\n     }\n     this.cw.runRequest('Ams/Inspection/AddEntity', data).then(r => {\n       resolve(r.Value)\n     }).catch(e => {\n       // 4 NotAuthorizedToUpdateInspection\n       // 9 InvalidActivityMapLogicXY\n       // 21 ErrorUnknownEntityType\n       // 30 InvalidField\n       // 60 WarningItemNotFound\n       // 68 MoveInvalidCityworksWkid\n       reject(e)\n     })\n   })\n  }\n\n  /**\n   * Get the answers for inspections\n   *\n   * @category Inspections\n   * @param {Array<number>} inspections - An Array of one or more Inspection IDs\n   * @return {Object} Returns Promise that represents a collection of Inspection Answers\n   */\n  getAnswers(inspections: Array<number>) {\n    return new Promise((resolve, reject) => {\n      var data: {InspectionId?: number, InspectionIds?: Array<number>} = {}\n      if(inspections.length==0) {\n        data.InspectionId = inspections[0]\n      } else {\n        data.InspectionIds = inspections\n      }\n      this.cw.runRequest('Ams/Inspection/Answers', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get the audit log for a specific Inspection\n   *\n   * @category Inspections\n   * @param {number} inspectionId - An Inspection ID to get the audit log for\n   * @return {Object} Returns Promise that represents a collection of Cityworks Metadata Objects\n   */\n  getAuditLog(inspectionId: number) {\n    return new Promise((resolve, reject) => {\n      var data = {InspectionId: inspectionId}\n      this.cw.runRequest('Ams/Inspection/AuditLog', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Create a search definition. Save the definition by setting SaveDefinition = true and supplying a SearchName.\n   *\n   * @category Inspections\n   * @param {Object} searchData - Search data variables. See /{subdirectory}/apidocs/#/service-info/Ams/Inspection\n   * @param {number} [searchName] - What to name your search (if it should be saved)\n   * @param {number} [sharedWithin] - What group or domain to share the search to.\n   * @param {boolean} saveDefinition - Whether or not to save the search definition. Defaults to true when a search name is specified.\n   * @param {boolean} enableEurl - Whether or not to enable EURL for the saved search. Defaults to true.\n   * @return {Object} Returns Promise that represents a collection of Cityworks Metadata Objects\n   */\n  createSearchDefinition(searchData: Object, searchName?: string, sharedWithin?: number, saveDefinition: boolean = true, enableEurl: boolean = true) {\n    return new Promise((resolve, reject) => {\n      var data = searchData\n      if(_.isString(searchName)) {\n        _.set(data, 'SearchName', searchName)\n        _.set(data, 'SaveDefinition', saveDefinition)\n        _.set(data, 'EnableEurl', enableEurl)\n        // not sure how to handle sharedWithin...\n        // _.set(data, 'SharedWithin', sharedWithin)\n      }\n      this.cw.runRequest('Ams/Inspection/CreateSearchDefinition', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get cycle from\n   *\n   * @category Inspection Options\n   * @return {Object} Returns Promise that represents ... I have no idea what this endpoint does\n   */\n  getCycleFrom() {\n    return new Promise((resolve, reject) => {\n      this.cw.runRequest('Ams/Inspection/CycleFrom', {}).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get cycle intervals\n   *\n   * @category Inspection Options\n   * @return {Object} Returns Promise that represents a Dictionary of the cycle intervals available\n   */\n  getCycleIntervals() {\n    return new Promise((resolve, reject) => {\n      this.cw.runRequest('Ams/Inspection/CycleIntervals', {}).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get cycle types\n   *\n   * @category Inspection Options\n   * @return {Object} Returns Promise that represents a Dictionary of the cycle types available\n   */\n  getCycleTypes() {\n    return new Promise((resolve, reject) => {\n      this.cw.runRequest('Ams/Inspection/CycleTypes', {}).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get districts\n   *\n   * @category Inspection Options\n   * @return {Object} Returns Promise that represents an Array of the districts\n   */\n  getDistricts() {\n    return new Promise((resolve, reject) => {\n      this.cw.runRequest('Ams/Inspection/Districts', {}).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get Inspection Employee lists. Abstraction done here, though only one employee list field, AFAIK.\n   *\n   * @category Inspection Options\n   * @param {string} listType - Which list (endpoint) to get. Includes only SubmitTos.\n   * @param {boolean} includeInactiveEmployees - Whether to include inactive employees in the returned list. Defaults to false.\n   * @param {Array<number>} [domainIds] - Filter to certain domains within the Cityworks instance.\n   * @return {Object} Returns Promise that represents a collection of employees. See: /{subdirectory}/apidocs/#/data-type-info;dataType=EmployeeNameId\n   */\n  getEmployeeLists(listType: string, includeInactiveEmployees: boolean = false, domainIds?: Array<number>) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        IncludeInactiveEmployees: includeInactiveEmployees\n      }\n      if(typeof(domainIds)!='undefined' && domainIds!=null) {\n        _.set(data, 'DomainIds', domainIds)\n      }\n      if(listType!='SubmitTos') {\n        reject(new CWError(2, 'listType must be \"SubmitTos\".', {'provided': listType}))\n      } else {\n        this.cw.runRequest(`Ams/Inspection/${listType}`, data).then(r => {\n          resolve(r.Value)\n        }).catch(e => {\n          reject(e)\n        })\n      }\n    })\n  }\n\n  /**\n   * Get SubmitTo list\n   *\n   * @category WorkOrder Options\n   * @param {boolean} includeInactiveEmployees - Whether to include inactive employees in the returned list. Defaults to false.\n   * @param {Array<number>} [domainIds] - Filter to certain domains within the Cityworks instance.\n   * @return {Object} Returns Promise that represents a collection of employees. See: /{subdirectory}/apidocs/#/data-type-info;dataType=EmployeeNameId\n   */\n  getSubmitTos(includeInactiveEmployees: boolean = false, domainIds?: Array<number>) {\n    return this.getEmployeeLists('SubmitTos', includeInactiveEmployees, domainIds);\n  }\n\n  /**\n   * Move inspection by InspectionId. Must provide well known id (WKID) or well known text (WKT)\n   *\n   * @category Inspections\n   * @param {number} inspectionId - The ID of the inspection that should be moved\n   * @param {number} x - The X coordinate for the move\n   * @param {number} y - The Y coordinate for the move\n   * @param {Object} projection - Should include at least WKT _or_ WKID attribute. Can also include VcsWKID attribute.\n   * @param {number} [z] - the optional Z coordinate for the move\n   * @return {Object} Returns Promise that represents an object describing the updated GISPoint\n   */\n  move(inspectionId: number, x: number, y: number, projection: {WKID?: string, WKT?: string, VcsWKID?: string}, z?: number) {\n    return new Promise((resolve, reject) => {\n      if(!_.has(projection, 'WKID') && !_.has(projection, 'WKT')) {\n        // Throw error\n        reject(new CWError(3, 'You must provide either the WKID or WKT for the x/y coordinates.', {'projection': projection}))\n      }\n      var data_init = {\n        InspectionId: inspectionId,\n        X: x,\n        Y: y\n      }\n      if(typeof z != 'undefined') {\n        _.set(data_init, 'Z', z)\n      }\n      var data = _.merge(data_init, projection);\n      this.cw.runRequest('Ams/Inspection/Move', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /////\n  // INSPECTION TEMPLATES\n  /////\n\n  /**\n   * Get inspection templates\n   *\n   * @category Inspection Templates\n   * @param {Array<string>} [entityTypes] - The Entity Type(s) to return potential inspections for\n   * @param {boolean} [canCreate] - If true, only return templates the user can create, ignored if false or null, default is true\n   * @param {Object} [options] - An object which can include: [IncludeInactive]: boolean, MaximumDateModified: Date, MinimumDateModified: Date, TemplateIds: Array<number>\n   * @return {Object} Returns Promise that represents a collection of all Inspections matching the provided parameters\n   */\n  getTemplates(entityTypes?: Array<string>, canCreate?: boolean, options?: {IncludeInactive?: boolean, MaximumDateModified?: Date, MinimumDateModified?: Date, TemplateIds?: Array<number>}) {\n    return new Promise((resolve, reject) => {\n      var data: {EntityTypes?: Array<string>, CanCreate?: boolean, IncludeInactive?: boolean, MaximumDateModified?: Date, MinimumDateModified?: Date, TemplateIds?: Array<number>} = {}\n      if(typeof(entityTypes)!=='undefined') {\n        data.EntityTypes = entityTypes\n      }\n      data.CanCreate = typeof(canCreate)!=='undefined' ? canCreate : true\n      if(typeof(options)==='object') {\n        _.forIn(options, (v, k) => {\n          data[k] = v\n        })\n      }\n      this.cw.runRequest('Ams/InspectionTemplate/Templates', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get a list of templates by IDs\n   *\n   * @category Inspection Templates\n   * @param {Array<number>} inspectionIds - An array of the IDs to retrieve the matched inspections\n   * @param {Object} [options] - An object which can include: [IncludeInactive]: boolean, MaximumDateModified: Date, MinimumDateModified: Date, TemplateIds: Array<number>\n   * @return {Object} Returns object that represents an object describing the inspection\n   */\n  getTemplatesByIds(inspTemplateIds: Array<number>, options?: {MaximumDateModified?: Date, MinimumDateModified?: Date}) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        InspTemplateIds: inspTemplateIds\n      }\n      if(typeof(options)==='object') {\n        _.forIn(options, (v, k) => {\n          data[k] = v\n        })\n      }\n      this.cw.runRequest('Ams/InspectionTemplate/ByIds', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get entity types for inspection template(s)\n   *\n   * @category Inspection Templates\n   * @param {Array<number>} inspTemplateIds - An array of the IDs to reopen the matched inspections\n   * @return {Object} Returns object that represents an array of Entity Types\n   */\n   getTemplateEntityTypes(inspTemplateIds: Array<number>) {\n     return new Promise((resolve, reject) => {\n       var data = {\n         InspTemplateIds: inspTemplateIds\n       }\n       this.cw.runRequest('Ams/InspectionTemplate/EntityTypes', data).then(r => {\n         resolve(r.Value)\n       }).catch(e => {\n         reject(e)\n       })\n     })\n   }\n\n  /**\n  * Get the questions and answers for inspection template(s)\n  *\n  * @category Inspection Templates\n  * @param {Array<number>} inspTemplateIds - An array of the IDs to reopen the matched inspections\n  * @return {Object} Returns object that represents an array which contains a list of InspQuestionPanel for the template\n  */\n  getQA(inspTemplateIds: Array<number>) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        InspTemplateIds: inspTemplateIds\n      }\n      this.cw.runRequest('Ams/InspectionTemplate/QA', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get inspection template question conditions\n   *\n   * @category Inspection Templates\n   * @param {Array<number>} inspTemplateIds - An array of template IDs to get the matched inspection template Question conditions for\n   * @return {Object} Returns object that represents an array which contains a dictionary of InspQuestion IDs to configs\n   */\n   getQConditions(inspTemplateIds: Array<number>) {\n     return new Promise((resolve, reject) => {\n       var data = {\n         InspTemplateIds: inspTemplateIds\n       }\n       this.cw.runRequest('Ams/InspectionTemplate/QuestionConditions', data).then(r => {\n         resolve(r.Value)\n       }).catch(e => {\n         reject(e)\n       })\n     })\n   }\n\n\n  // Attachments\n\n  // AddInspectionAttachment InspAttachment\n  // Add an inspection attachment\n  // Request Parameters\n  // Int32 AttachmentType V15_4\n  // String Comments\n  // String Filename\n  // Int32 req InspectionId\n  // Ams/Attachments/AddInspectionAttachment?data={\n  //   \"Comments\": null,\n  //   \"Filename\": null,\n  //   \"InspectionId\": null,\n  //   \"AttachmentType\": null\n  // }\n\n  /**\n   * Delete inspection attachments\n   *\n   * @category Inspection Attachments\n   * @param {Array<number>} attachmentIds - An array of inspection attachment IDs to delete\n   * @return {Object} Returns object that represents a boolean for action resolution\n   */\n   deleteAttachments(attachmentIds: Array<number>) {\n     return new Promise((resolve, reject) => {\n       var data = {\n         AttachmentIds: attachmentIds\n       }\n       this.cw.runRequest('Ams/Attachments/DeleteInspectionAttachments', data).then(r => {\n         resolve(r.Value)\n       }).catch(e => {\n         reject(e)\n       })\n     })\n   }\n\n  /**\n   * Download an inspection attachment\n   *\n   * @category Inspection Attachments\n   * @param {number} attachmentId - ID of an inspection attachment to download\n   * @return {Object} Returns object that represents a file stream\n   */\n   downloadAttachment(attachmentId: number) {\n     return new Promise((resolve, reject) => {\n       var data = {\n         AttachmentId: attachmentId\n       }\n       this.cw.runRequest('Ams/Attachments/DownloadInspectionAttachment', data).then(r => {\n         // TODO, pass file through // resolve(r.Value)\n       }).catch(e => {\n         reject(e)\n       })\n     })\n   }\n\n  /**\n   * Get inspection attachment by ID\n   *\n   * @category Inspection Attachments\n   * @param {number} attachmentId - An attachment ID to get info for\n   * @return {Object} Returns object that represents an object that describes the matched inspection attachment\n   */\n   getAttachmentById(attachmentId: number) {\n     return new Promise((resolve, reject) => {\n       var data = {\n         AttachmentId: attachmentId\n       }\n       this.cw.runRequest('Ams/Attachments/InspectionAttachmentById', data).then(r => {\n         resolve(r.Value)\n       }).catch(e => {\n         reject(e)\n       })\n     })\n   }\n\n  /**\n   * Get inspection attachment by ID\n   *\n   * @category Inspection Attachments\n   * @param {Array<number>} inspectionIds - An array of inspection IDs to get attachments for\n   * @return {Object} Returns object that represents a collection of attachments from the matched inspections\n   */\n   getAttachments(inspectionIds: Array<number>) {\n     return new Promise((resolve, reject) => {\n       var data = {\n         InspectionIds: inspectionIds\n       }\n       this.cw.runRequest('Ams/Attachments/InspectionAttachments', data).then(r => {\n         resolve(r.Value)\n       }).catch(e => {\n         reject(e)\n       })\n     })\n   }\n\n\n  /**\n   * Get Map Layer Fields\n   *\n   * @category Inspections\n   * @param {number} requestId - The inspection ID to get the map layer fields for.\n   * @return {Object} Returns Promise that represents a collection of Objects describing the inspections\n   */\n  getMLFs(requestId: number) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        ServiceRequestId: requestId\n      }\n      var path = 'Ams/TemplateMapLayer/ServiceRequestInstanceMapLayersByRequestId';\n      this.cw.runRequest(path, data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Update Map Layer Fields\n   *\n   * @category Inspections\n   * @param {number} requestId - The inspection ID to get the map layer fields for.\n   * @param {number} x\n   * @param {number} y\n   * @param {number} domainId - Domain ID\n   * @param {number} [z] - Optional Z coordinate\n   * @return {Object} Returns Promise that represents a ...\n   */\n    updateMLFs(requestId: number, x?: number, y?: number, domainId?: number, z?: number) { // |number\n      return new Promise((resolve, reject) => {\n        var data = {}\n        var path = 'Ams/TemplateMapLayer/UpdateServiceRequestInstanceMapLayers';\n        _.set(data, 'ServiceRequestId', requestId)\n        if(_.isNumber(x)) {\n          _.set(data, 'X', x)\n        }\n        if(_.isNumber(y)) {\n          _.set(data, 'Y', y)\n        }\n        if(_.isNumber(z)) {\n          _.set(data, 'Z', z)\n        }\n        if(_.isNumber(domainId)) {\n          _.set(data, 'DomainId', domainId)\n        }\n        this.cw.runRequest(path, data).then(r => {\n          resolve(r.Value)\n        }).catch(e => {\n          reject(e)\n        })\n      })\n    }\n\n  /**\n   * Delete Map Layer Fields\n   *\n   * @category Inspections\n   * @param {number} inspectionId - The inspection ID to delete the map layer fields for.\n   * @return {Object} Returns Promise that represents a collection of Objects describing the workorders\n   */\n  deleteMLFs(inspectionId: number) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        InspectionId: inspectionId\n      }\n      var path = 'Ams/TemplateMapLayer/DeleteInspectionInstancesByInspectionId';\n      this.cw.runRequest(path, data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n}\n","import { CWError } from './error'\nconst _ = require('lodash')\n\n\nexport class WorkOrder {\n  /**\n   * @hidden\n   */\n  cw: any\n\n  /**\n   * WorkOrder Administration methods\n   */\n  admin: any\n\n  /**\n   * WorkOrder Costing methods\n   */\n  costs: any\n\n  /**\n   * WorkOrder Comments methods\n   */\n  comment: any\n\n  /**\n   * @hidden\n   */\n  constructor(cw) {\n    this.cw = cw\n    this.admin\n    this.comment\n  }\n\n  /**\n   * Create new workorders, including linkin to Requests & Inspections (optionally)\n   *\n   * @category WorkOrders\n   * @param {Object} wo_data - See /{subdirectory}/apidocs/#/data-type-infodataType=WorkOrder on the Cityworks instance\n   * @param {Array<number>} [inspectionIds] - The inspection IDs which the workorder should be linked to.\n   * @param {Array<number>} [requestIds] - The inspection IDs which the workorder should be linked to.\n   * @return {Object} Returns Promise that represents an object describing the newly-created workorder\n   */\n  create(wo_data: Object, inspectionIds?: Array<number>, requestIds?: Array<number>) {\n    return new Promise((resolve, reject) => {\n      if(!_.has(wo_data, 'WOTemplateId') || !_.has(wo_data, 'EntityType')) {\n        reject(new CWError(2, 'WOTemplateId & EntityType must be provided.', {'provided': wo_data}))\n      } else {\n        var data = wo_data;\n        if(typeof inspectionIds != 'undefined' && inspectionIds != null && !_.has(data, 'InspectionIds')) {\n          _.set(data, 'InspectionIds', inspectionIds);\n        }\n        if(typeof requestIds != 'undefined' && requestIds != null && !_.has(data, 'RequestIds')) {\n          _.set(data, 'RequestIds', requestIds);\n        }\n        this.cw.runRequest('Ams/WorkOrder/Create', data).then(r => {\n          resolve(r.Value)\n        }).catch(e => {\n          reject(e)\n        })\n      }\n    })\n  }\n\n  /**\n   * Create new workorder linked to parent workorder\n   *\n   * @category WorkOrders\n   * @param {Object} wo_data - See /{subdirectory}/apidocs/#/data-type-infodataType=WorkOrder on the Cityworks instance\n   * @param {string|number} workOrderSId - The workorder S/ID which the entities should be added to. # for SID, string for ID.\n   * @return {Object} Returns Promise that represents an object describing the newly-created workorder\n   */\n  createFromParent(wo_data: Object, workOrderSId: string|number, s: boolean = true) {\n    return new Promise((resolve, reject) => {\n      if(!_.has(wo_data, 'WOTemplateId') || !_.has(wo_data, 'EntityType')) {\n        reject(new CWError(2, 'WOTemplateId & EntityType must be provided.', {'provided': wo_data}))\n      } else {\n        var data = wo_data;\n        if(_.isString(workOrderSId)) {\n          _.set(data, 'WorkOrderId', workOrderSId)\n        } else {\n          _.set(data, 'WorkOrderSid', workOrderSId)\n        }\n        this.cw.runRequest('Ams/WorkOrder/Create', data).then(r => {\n          resolve(r.Value)\n        }).catch(e => {\n          reject(e)\n        })\n      }\n    })\n  }\n\n  /**\n   * Update a WorkOrder\n   *\n   * @category WorkOrders\n   * @param {object} wo_data - See /{subdirectory}/apidocs/#/data-type-infodataType=WorkOrder on the Cityworks instance\n   * @return {Object} Returns Promise that represents an object describing the updated workorder\n   */\n  update(wo_data: Object) {\n    return new Promise((resolve, reject) => {\n      if(!_.has(wo_data, 'WorkOrderSid') && !_.has(wo_data, 'WorkOrderId')) {\n        reject(new CWError(3, 'WorkOrderId or WorkOrderSid must be provided.', {'provided': wo_data}))\n      } else {\n        this.cw.runRequest('Ams/WorkOrder/Update', wo_data).then(r => {\n          resolve(r.Value)\n        }).catch(e => {\n          reject(e)\n        })\n      }\n    })\n  }\n\n  /**\n   * Combine WorkOrders\n   *\n   * @category WorkOrders\n   * @param {Array<string>} fromWorkOrderIds - The workorder IDs which should be combined.\n   * @param {string} toWorkOrderId - The WorkOrder ID for the single WorkOrder that should contain the info/entities from the other WorkOrders\n   * @param {boolean} cancelCombinedWorkOrders - If the WorkOrders combined into the single should then be canceled, default is true.\n   * @return {Object} Returns object that represents a collection of WorkOrders\n   */\n   combine(fromWorkOrderIds: Array<string>, toWorkOrderId: string, cancelCombinedWorkOrders: boolean = true) {\n     return new Promise((resolve, reject) => {\n       var data = {\n         CancelCombinedWorkOrders: cancelCombinedWorkOrders,\n         ToWorkOrderId: toWorkOrderId,\n         FromWorkOrderIds: fromWorkOrderIds\n       }\n       this.cw.runRequest('Ams/WorkOrder/Combine', data).then(r => {\n         if(r.Status>0) {\n           reject(new CWError(4, r.Message, {'response': r}))\n         } else {\n           resolve(r.Value)\n         }\n       }).catch(e => {\n         reject(e)\n       })\n     })\n   }\n\n\n  /**\n   * Move a workorder's point\n   *\n   * @category WorkOrders\n   * @param {string} workOrderId\n   * @param {number} x\n   * @param {number} y\n   * @param {Object} projection - Should include WKT or WKID attribute. Can also include VcsWKID attribute.\n   * @param {number} [z] - Optional Z coordinate\n   * @return {Object} Returns Promise that represents an object describing the updated workorder\n   */\n  move(workOrderId: string, x: number, y: number, projection: Object, z?: number) {\n    return new Promise((resolve, reject) => {\n      if(!_.has(projection, 'WKID') && !_.has(projection, 'WKT')) {\n        // Throw error\n        reject(new CWError(6, 'You must provide either the WKID or WKT for the x/y coordinates.', {'projection': projection}))\n      }\n      var base_data = {\n        WorkOrderId: workOrderId,\n        X: x,\n        Y: y\n      };\n      if(typeof(z)!='undefined') {\n        _.set(base_data, 'z', z)\n      }\n      var data = _.merge(base_data, projection);\n      this.cw.runRequest('Ams/WorkOrder/Move', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    });\n  }\n\n  /**\n   * Get a workorder by S/ID\n   *\n   * @category WorkOrders\n   * @param {string|number} workOrderSId - The S/ID of the workorder to retrieve. # for SID, string for ID.\n   * @param {boolean} s - Whether first argument is an SID (true) or an ID (false). Defaults to true.\n   * @return {Object} Returns Promise that represents an object describing the workorder\n   */\n  getById(workOrderSId: string|number, s: boolean = true) {\n    return new Promise((resolve, reject) => {\n      var data = {}\n      if(_.isString(workOrderSId)) {\n        _.set(data, 'WorkOrderId', workOrderSId)\n        var path = 'Ams/WorkOrder/ById';\n      } else {\n        _.set(data, 'WorkOrderSid', workOrderSId)\n        var path = 'Ams/WorkOrder/BySid';\n      }\n      this.cw.runRequest(path, data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get workorders by an array of S/IDs\n   *\n   * @category WorkOrders\n   * @param {Array<string|number>} workOrderSIds - The workorder S/IDs to retrieve. If providing WorkOrderID, should be all strings, else provide all numbers for WorkOrderSID\n   * @return {Object} Returns Promise that represents a collection of Objects describing the workorders\n   */\n  getByIds(workOrderSIds: Array<string|number>) {\n    return new Promise((resolve, reject) => {\n      var data = {}\n      if(workOrderSIds.length==0) {\n        // throw error\n        reject(new CWError(101, 'No workorder S/IDs were provided.', {'workorderSId': workOrderSIds}))\n      } else {\n        var path = 'Ams/WorkOrder/ByIds';\n        if(_.isString(workOrderSIds[0])) {\n          _.set(data, 'WorkOrderIds', workOrderSIds)\n          path = 'Ams/WorkOrder/ByIds';\n        } else if(_.isNumber(workOrderSIds[0])) {\n          _.set(data, 'WorkOrderSids', workOrderSIds)\n          path = 'Ams/WorkOrder/BySids';\n        } else {\n          // throw error - was not number or string\n          reject(new CWError(9, 'No workorder S/IDs were provided.', {'workorderSId': workOrderSIds}))\n        }\n        this.cw.runRequest(path, data).then(r => {\n          resolve(r.Value)\n        }).catch(e => {\n          reject(e)\n        })\n      }\n    })\n  }\n\n  /**\n   * Get instructions by an array of workorders S/IDs\n   *\n   * @category WorkOrders\n   * @param {Array<string|number>} workOrderSIds - The workorder S/IDs to retrieve. If providing WorkOrderID, should be all strings, else provide all numbers for WorkOrderSID\n   * @return {Object} Returns Promise that represents an array of String, String describing the workorder instructions\n   */\n  getInstructions(workOrderSIds: Array<string|number>) {\n    return new Promise((resolve, reject) => {\n      var data = {}\n      if(workOrderSIds.length==0) {\n        // throw error\n        reject(new CWError(102, 'No workorder S/IDs were provided.', {'workorderSId': workOrderSIds}))\n      } else {\n        var path = 'Ams/WorkOrder/ByIds';\n        if(_.isString(workOrderSIds[0])) {\n          _.set(data, 'WorkOrderIds', workOrderSIds)\n          path = 'Ams/WorkOrder/InstructionsByWorkOrderIds';\n        } else if(_.isNumber(workOrderSIds[0])) {\n          _.set(data, 'WorkOrderSids', workOrderSIds)\n          path = 'Ams/WorkOrder/InstructionsByWorkOrderSids';\n        } else {\n          // throw error - was not number or string\n          reject(new CWError(9, 'No workorder S/IDs were provided.', {'workorderSId': workOrderSIds}))\n        }\n        this.cw.runRequest(path, data).then(r => {\n          resolve(r.Value)\n        }).catch(e => {\n          reject(e)\n        })\n      }\n    })\n  }\n\n  /**\n   * Get the audit log for a specific workorder\n   *\n   * @category WorkOrder\n   * @param {number} workOrderSId - A WorkOrder S/ID to get the audit log for. SID is default.\n   * @return {Object} Returns Promise that represents a collection of Cityworks Metadata Objects\n   */\n  getAuditLog(workOrderSId: number) {\n    return new Promise((resolve, reject) => {\n      var data = {}\n      if(_.isString(workOrderSId)) {\n        _.set(data, 'WorkOrderId', workOrderSId)\n      } else if(_.isNumber(workOrderSId)) {\n        _.set(data, 'WorkOrderSid', workOrderSId)\n      } else {\n        // throw error - was not number or string\n        reject(new CWError(9, 'Workorder S/IDs was not provided.', {'workorderSId': workOrderSId}))\n      }\n      this.cw.runRequest('Ams/WorkOrder/AuditLog', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get custom field values for the workorder S/IDs\n   *\n   * @category WorkOrders\n   * @param {Array<string|number>} workOrderSIds - The workorder S/IDs to retrieve. #s for SID, strings for ID.\n   * @return {Object} Returns Promise that represents a collection of Objects describing the workorders\n   */\n  getCustomFieldValues(workOrderSIds: Array<string|number>) {\n    return new Promise((resolve, reject) => {\n      var data = {}\n      var path = 'Ams/WorkOrder/CustomFields';\n      if(_.isString(workOrderSIds[0])) {\n        _.set(data, 'WorkOrderIds', workOrderSIds)\n        var path = 'Ams/WorkOrder/CustomFields';\n      } else if(_.isNumber(workOrderSIds[0])) {\n        _.set(data, 'WorkOrderSids', workOrderSIds)\n        var path = 'Ams/WorkOrder/CustomFieldsByWorkOrderSids';\n      } else {\n        // throw error - was not number or string\n        reject(new CWError(9, 'No workorder S/IDs were provided.', {'workorderSIds': workOrderSIds}))\n      }\n      this.cw.runRequest(path, data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get entities on an existing WorkOrder\n   *\n   * @category WorkOrders\n   * @param {Array<string|number>} workOrderSIds - The workorder S/IDs which the entities should be added to. # for SID, string for ID.\n   * @param {boolean} getGisData - Query gis to populate Entity.Attributes with current gis data. Defaults to true.\n   * @return {Object} Returns object that represents a list of entities removed.\n   */\n  getEntities(workOrderSIds: Array<string|number>, getGisData: boolean = true) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        GetGisData: getGisData\n      }\n      if(workOrderSIds.length==0) {\n        // throw error\n        reject(new CWError(11, 'No workorder S/IDs were provided.', {'workorderSId': workOrderSIds}))\n      } else {\n        if(_.isString(workOrderSIds[0])) {\n          _.set(data, 'WorkOrderIds', workOrderSIds)\n        } else if(_.isNumber(workOrderSIds[0])) {\n          _.set(data, 'WorkOrderSids', workOrderSIds)\n        } else {\n          reject(new CWError(12, 'No workorder S/IDs were provided.', {'workorderSId': workOrderSIds}))\n        }\n      }\n      this.cw.runRequest('Ams/WorkOrder/Entities', data).then(r => {\n        if(r.Status>0) {\n          reject(new CWError(4, r.Message, {'response': r}))\n        } else {\n          resolve(r.Value)\n        }\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Add entities to an existing WorkOrder\n   *\n   * @category WorkOrders\n   * @param {string|number} workOrderSId - The workorder S/ID which the entities should be added to. # for SID, string for ID.\n   * @param {Object} entityInfo - Entity info object including: (req) EntityType: {string}, (req) EntityUids: {Array<string>}, Facility_Id: {string}, Level_Id: {string}\n   * @param {boolean} updateXY - Update WorkOrder xy after adding entit(y|ies), default is true.\n   * @return {Object} Returns object that represents a list of entities removed.\n   */\n   addEntities(workOrderSId: string|number, entityInfo: Object, updateXY: boolean = true) {\n     return new Promise((resolve, reject) => {\n       var data = {\n         UpdateXY: updateXY\n       }\n       if(_.isString(workOrderSId)) {\n         _.set(data, 'WorkOrderId', workOrderSId)\n       } else {\n         _.set(data, 'WorkOrderSid', workOrderSId)\n       }\n       if(_.has(entityInfo, 'Facility_Id'))\n         _.set(data, 'Facility_Id', _.get(entityInfo, 'Facility_Id'))\n       if(_.has(entityInfo, 'Level_Id'))\n         _.set(data, 'Level_Id', _.get(entityInfo, 'Level_Id'))\n       if(_.has(entityInfo, 'EntityUids') && _.has(entityInfo, 'EntityType')) {\n         _.set(data, 'EntityUids', _.get(entityInfo, 'EntityUids'))\n         _.set(data, 'EntityType', _.get(entityInfo, 'EntityType'))\n       } else {\n         reject(new CWError(7, 'No entity info was provided.', {'workorderSId': workOrderSId,'entityInfo': entityInfo}))\n       }\n\n       this.cw.runRequest('Ams/WorkOrder/AddEntities', data).then(r => {\n         if(r.Status>0) {\n           reject(new CWError(4, r.Message, {'response': r}))\n         } else {\n           resolve(r.Value)\n         }\n       }).catch(e => {\n         reject(e)\n       })\n     })\n   }\n\n   /**\n    * Update a WorkOrder entity\n    *\n    * @category WorkOrders\n    * @param {string|number} workOrderSId - The workorder S/ID which the entities should be added to. # for SID, string for ID.\n    * @param {Object} entityInfo - Entity info object including: (req) EntityType: {string}, (req) EntityUid: {string}, Facility_Id: {string}, Level_Id: {string}\n    * @param {boolean} workComplete - Update WorkOrder completeness, default is true.\n    * @return {Object} Returns object that represents a list of entities removed.\n    */\n    updateEntity(workOrderSId: string|number, entityInfo: Object, workComplete: boolean = false) {\n      return new Promise((resolve, reject) => {\n        var data = {\n          WorkComplete: workComplete\n        }\n        if(_.isString(workOrderSId)) {\n          _.set(data, 'WorkOrderId', workOrderSId)\n        } else {\n          _.set(data, 'WorkOrderSid', workOrderSId)\n        }\n        if(_.has(entityInfo, 'Facility_Id'))\n          _.set(data, 'Facility_Id', _.get(entityInfo, 'Facility_Id'))\n        if(_.has(entityInfo, 'Level_Id'))\n          _.set(data, 'Level_Id', _.get(entityInfo, 'Level_Id'))\n        if(_.has(entityInfo, 'EntityUids') && _.has(entityInfo, 'EntityType')) {\n          _.set(data, 'EntityUid', _.get(entityInfo, 'EntityUid'))\n          _.set(data, 'EntityType', _.get(entityInfo, 'EntityType'))\n        } else {\n          reject(new CWError(7, 'No entity info was provided.', {'workorderSId': workOrderSId,'entityInfo': entityInfo}))\n        }\n\n        this.cw.runRequest('Ams/WorkOrder/UpdateEntity', data).then(r => {\n          if(r.Status>0) {\n            reject(new CWError(4, r.Message, {'response': r}))\n          } else {\n            resolve(r.Value)\n          }\n        }).catch(e => {\n          reject(e)\n        })\n      })\n    }\n\n  /**\n   * Remove entities from a WorkOrder. Provide WorkOrderId and either ObjectIds or EntityType and EntityUids\n   *\n   * @category WorkOrders\n   * @param {number} workOrderSId - The workorder S/ID which the entities should be removed from. # for SID, string for ID.\n   * @param {Object} entityInfo - Remove entities by WorkOrderEntity.ObjectId (not gis objectId).\n   * @param {boolean} updateXY - Update WorkOrder xy after removing entities, default is true.\n   * @return {Object} Returns object that represents a list of entities removed.\n   */\n   removeEntities(workOrderSId: string|number, entityInfo: Object, updateXY: boolean = true) {\n     return new Promise((resolve, reject) => {\n       var data = {\n         UpdateXY: updateXY\n       }\n       if(_.isString(workOrderSId)) {\n         _.set(data, 'WorkOrderId', workOrderSId)\n       } else {\n         _.set(data, 'WorkOrderSid', workOrderSId)\n       }\n       if(_.has(entityInfo, 'ObjectIds')) {\n         _.set(data, 'ObjectIds', _.get(entityInfo, 'ObjectIds'))\n       } else if(_.has(entityInfo, 'EntityUids') && _.has(entityInfo, 'EntityType')) {\n         _.set(data, 'EntityUids', _.get(entityInfo, 'EntityUids'))\n         _.set(data, 'EntityType', _.get(entityInfo, 'EntityType'))\n       } else {\n         reject(new CWError(8, 'No entity info was provided.', {'workorderSId': workOrderSId,'entityInfo': entityInfo}))\n       }\n\n       this.cw.runRequest('Ams/WorkOrder/RemoveEntities', data).then(r => {\n         if(r.Status>0) {\n           reject(new CWError(4, r.Message, {'response': r}))\n         } else {\n           resolve(r.Value)\n         }\n       }).catch(e => {\n         reject(e)\n       })\n     })\n   }\n\n  /**\n   * Cancel workorders\n   *\n   * @category WorkOrders\n   * @param {Array<number>} workOrderIds - An array of the IDs to cancel the matched workorders\n   * @param {string} [cancelReason] - A reason for cancelling the workorder(s)\n   * @param {datetime} [dateCancelled] - The date/time that it should be indicated the workorder was cancelled\n   * @return {Object} Returns object that represents a collection of workorders\n   */\n  cancel(workOrderIds: Array<number>, cancelReason?: string, dateCancelled?: Date) {\n    return new Promise((resolve, reject) => {\n      var m = new Date()\n      var data: {WorkOrderIds: Array<number>, CancelReason?: string, DateCancelled?: Date} = { WorkOrderIds: workOrderIds }\n      if(typeof(cancelReason)!=='undefined')\n        _.set(data, 'CancelReason', cancelReason);\n      if(typeof(dateCancelled)!=='undefined')\n        _.set(data, 'DateCancelled', dateCancelled);\n      this.cw.runRequest('Ams/WorkOrder/Cancel', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Uncancel workorders\n   *\n   * @category WorkOrders\n   * @param {Array<number>} workOrderIds - An array of the IDs to uncancel the matched workorders\n   * @return {Object} Returns object that represents a collection of workorders\n   */\n   uncancel(workOrderIds: Array<number>) {\n     return new Promise((resolve, reject) => {\n       var data = {\n         WorkOrderIds: workOrderIds\n       }\n       this.cw.runRequest('Ams/WorkOrder/Uncancel', data).then(r => {\n         resolve(r.Value)\n       }).catch(e => {\n         reject(e)\n       })\n     })\n   }\n\n   /**\n    * Close WorkOrders\n    *\n    * @category WorkOrders\n    * @param {Array<number>} workOrderIds - An array of the IDs to close the matched WorkOrders\n    * @return {Object} Returns object that represents a collection of WorkOrders\n    */\n    close(workOrderIds: Array<number>) {\n      return new Promise((resolve, reject) => {\n        var data = {\n          WorkOrderIds: workOrderIds\n        }\n        this.cw.runRequest('Ams/WorkOrder/Close', data).then(r => {\n          if(r.Status>0) {\n            reject(new CWError(5, r.Message, {'response': r}))\n          } else {\n            resolve(r.Value)\n          }\n        }).catch(e => {\n          reject(e)\n        })\n      })\n    }\n\n    /**\n     * Reopen closed WorkOrders\n     *\n     * @category WorkOrders\n     * @param {Array<number>} workOrderIds - An array of the IDs to reopen the matched WorkOrders\n     * @return {Object} Returns object that represents a collection of WorkOrders\n     */\n     reopen(workOrderIds: Array<number>) {\n       return new Promise((resolve, reject) => {\n         var data = {\n           WorkOrderIds: workOrderIds\n         }\n         this.cw.runRequest('Ams/WorkOrder/ReOpen', data).then(r => {\n           resolve(r.Value)\n         }).catch(e => {\n           reject(e)\n         })\n       })\n     }\n\n  /**\n   * Delete WorkOrders\n   *\n   * @category WorkOrders\n   * @param {Array<number>} workOrderIds - An array of the IDs to delete the matched WorkOrders\n   * @return {Object} Returns object that represents a collection of WorkOrder Ids which have been deleted\n   */\n   delete(workOrderIds: Array<number>) {\n     return new Promise((resolve, reject) => {\n       var data = {\n         WorkOrderIds: workOrderIds\n       }\n       this.cw.runRequest('Ams/WorkOrder/Delete', data).then(r => {\n         if(r.Status>0) {\n           reject(new CWError(4, r.Message, {'response': r}))\n         } else {\n           resolve(r.Value)\n         }\n       }).catch(e => {\n         reject(e)\n       })\n     })\n   }\n\n   /**\n    * Get WorkOrderS/IDs connected to provided entities\n    *\n    * @category WorkOrder Search\n    * @param {string} entityType - The entity type to find connected WorkOrders\n    * @param {Array<string>} entityUIDs - The list of entities to search for connected WorkOrders\n    * @param {boolean} s - Get WorkOrderSids. Defaults to true. When false, returned list is WorkOrderIds\n    * @param {Object} [search] - Any additional search properties of the WorkOrder (open/closed, etc)\n    * @return {Object} Returns Promise that represents an array of WorkOrderS/IDs\n    */\n   getWOsByEntities(entityType: string, entityUids: Array<string>, search?: Array<string|number>, s: boolean = true) {\n     return new Promise((resolve, reject) => {\n       var data = {}\n       if(typeof(search)!='undefined') {\n         _.merge(data, search)\n       }\n       if(!_.has(data, 'EntityType')) {\n         _.set(data, 'EntityType', entityType)\n       }\n       if(!_.has(data, 'EntityUids')) {\n         _.set(data, 'EntityUids', entityUids)\n       }\n       var path = 'Ams/WorkOrder/SearchForSids'\n       if(!s) {\n         path = 'Ams/WorkOrder/Search'\n       }\n       this.cw.runRequest(path, data).then(r => {\n         if(r.Status>0) {\n           reject(new CWError(4, r.Message, {'response': r}))\n         } else {\n           resolve(r.Value)\n         }\n       }).catch(e => {\n         reject(e)\n       })\n     })\n   }\n\n   /**\n    * Get WorkOrderSid and description for provided WorkOrderId\n    *\n    * @category WorkOrder Search\n    * @param {string} workOrderId - The WorkOrderId for which to get the WorkOrderSid and description\n    * @return {Object} Returns Promise that represents an object with WorkOrderS/IDs & Description\n    */\n   getSearchList(workOrderId: string) {\n     return new Promise((resolve, reject) => {\n       var data = {}\n       _.set(data, 'WorkOrderId', workOrderId)\n       this.cw.runRequest('Ams/WorkOrder/SearchObject', data).then(r => {\n         if(r.Status>0) {\n           reject(new CWError(4, r.Message, {'response': r}))\n         } else {\n           resolve(r.Value)\n         }\n       }).catch(e => {\n         reject(e)\n       })\n     })\n   }\n\n   /**\n    * Get WorkOrder Employee lists\n    *\n    * @category WorkOrder Options\n    * @param {string} listType - Which list (endpoint) to get. Includes Supervisors & SubmitTos.\n    * @param {boolean} includeInactiveEmployees - Whether to include inactive employees in the returned list. Defaults to false.\n    * @param {Array<number>} [domainIds] - Filter to certain domains within the Cityworks instance.\n    * @return {Object} Returns Promise that represents a collection of employees. See: /{subdirectory}/apidocs/#/data-type-info;dataType=EmployeeNameId\n    */\n   getEmployeeLists(listType: string, includeInactiveEmployees: boolean = false, domainIds?: Array<number>) {\n     return new Promise((resolve, reject) => {\n       var data = {\n         IncludeInactiveEmployees: includeInactiveEmployees\n       }\n       if(typeof(domainIds)!='undefined' && domainIds!=null) {\n         _.set(data, 'DomainIds', domainIds)\n       }\n       if(!_.includes(['Supervisors', 'SubmitTos'], listType)) {\n         reject(new CWError(2, 'listType must be either SubmitTos or Supervisors.', {'provided': listType}))\n       } else {\n         this.cw.runRequest(`Ams/WorkOrder/${listType}`, data).then(r => {\n           resolve(r.Value)\n         }).catch(e => {\n           reject(e)\n         })\n       }\n     })\n   }\n\n   /**\n    * Get SubmitTo list\n    *\n    * @category WorkOrder Options\n    * @param {boolean} includeInactiveEmployees - Whether to include inactive employees in the returned list. Defaults to false.\n    * @param {Array<number>} [domainIds] - Filter to certain domains within the Cityworks instance.\n    * @return {Object} Returns Promise that represents a collection of employees. See: /{subdirectory}/apidocs/#/data-type-info;dataType=EmployeeNameId\n    */\n   getSubmitTos(includeInactiveEmployees: boolean = false, domainIds?: Array<number>) {\n     return this.getEmployeeLists('SubmitTos', includeInactiveEmployees, domainIds);\n   }\n\n   /**\n    * Get Supervisors list\n    *\n    * @category WorkOrder Options\n    * @param {boolean} includeInactiveEmployees - Whether to include inactive employees in the returned list. Defaults to false.\n    * @param {Array<number>} [domainIds] - Filter to certain domains within the Cityworks instance.\n    * @return {Object} Returns Promise that represents a collection of employees. See: /{subdirectory}/apidocs/#/data-type-info;dataType=EmployeeNameId\n    */\n   getSupervisors(includeInactiveEmployees: boolean = false, domainIds?: Array<number>) {\n     return this.getEmployeeLists('Supervisors', includeInactiveEmployees, domainIds);\n   }\n\n   /**\n    * Get Status Options\n    *\n    * @category WorkOrder Options\n    * @return {Object} Returns Promise that represents a collection of codes. See: /{subdirectory}/apidocs/#/data-type-info;dataType=CodeDesc\n    */\n   getStatuses() {\n     return new Promise((resolve, reject) => {\n       this.cw.runRequest('Ams/WorkOrder/Statuses', {}).then(r => {\n         resolve(r.Value)\n       }).catch(e => {\n         reject(e)\n       })\n     })\n   }\n\n  /**\n   * Get Categories\n   *\n   * @category WorkOrder Options\n   * @return {Object} Returns Promise that represents an array of configured workorder category code descriptions\n   */\n  getCategories() {\n    return new Promise((resolve, reject) => {\n      this.cw.runRequest('Ams/WorkOrder/Categories', {}).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get Priorities\n   *\n   * @category WorkOrder Options\n   * @return {Object} Returns Promise that represents an array of configured workorder priorities\n   */\n  getPriorities() {\n    return new Promise((resolve, reject) => {\n      this.cw.runRequest('Ams/WorkOrder/Priorities', {}).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get Cycle From\n   *\n   * @category WorkOrder Options\n   * @return {Object} Returns Promise that represents an array of string/string Cycle From options for workorders\n   */\n  getCycleFrom() {\n    return new Promise((resolve, reject) => {\n      this.cw.runRequest('Ams/WorkOrder/CycleFrom', {}).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get Cycle Intervals\n   *\n   * @category WorkOrder Options\n   * @return {Object} Returns Promise that represents an array of string/string Cycle Interval options for workorders\n   */\n  getCycleIntervals() {\n    return new Promise((resolve, reject) => {\n      this.cw.runRequest('Ams/WorkOrder/CycleIntervals', {}).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get Cycle Types\n   *\n   * @category WorkOrder Options\n   * @return {Object} Returns Promise that represents an array of string/string Cycle Type options for workorders\n   */\n  getCycleTypes() {\n    return new Promise((resolve, reject) => {\n      this.cw.runRequest('Ams/WorkOrder/CycleTypes', {}).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get WorkOrder Stages\n   *\n   * @category WorkOrder Options\n   * @return {Object} Returns Promise that represents an array of string/string Stage options for WorkOrders\n   */\n  getStages() {\n    return new Promise((resolve, reject) => {\n      this.cw.runRequest('Ams/WorkOrder/Stages', {}).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get Expense Types\n   *\n   * @category WorkOrder Options\n   * @return {Object} Returns Promise that represents an array of string/string Expense Type options for workorders\n   */\n  getExpenseTypes() {\n    return new Promise((resolve, reject) => {\n      this.cw.runRequest('Ams/WorkOrder/ExpenseTypes', {}).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get Map Layer Fields\n   *\n   * @category WorkOrders\n   * @param {string} workOrderSId - The workorder S/ID to get the map layer fields for.\n   * @return {Object} Returns Promise that represents a collection of Objects describing the workorders\n   */\n  getMLFs(workOrderSId: string) { // |number\n    return new Promise((resolve, reject) => {\n      var data = {\n        WorkOrderId: workOrderSId\n      }\n      var path = 'Ams/TemplateMapLayer/WorkOrderInstanceMapLayersByWorkOrderId';\n      this.cw.runRequest(path, data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Update Map Layer Fields\n   *\n   * @category WorkOrders\n   * @param {string} workOrderSId - The workorder S/ID to get the map layer fields for.\n   * @param {number} x\n   * @param {number} y\n   * @param {number} domainId - Should include WKT or WKID attribute. Can also include VcsWKID attribute.\n   * @param {number} [z] - Optional Z coordinate\n   * @return {Object} Returns Promise that represents a ...\n   */\n    updateMLFs(workOrderSId: string, x?: number, y?: number, domainId?: number, z?: number) { // |number\n      return new Promise((resolve, reject) => {\n        var data = {}\n        var path = 'Ams/TemplateMapLayer/UpdateWorkOrderInstanceMapLayers';\n        if(_.isString(workOrderSId)) {\n          _.set(data, 'WorkOrderId', workOrderSId)\n        } else if(_.isNumber(workOrderSId)) {\n          _.set(data, 'WorkOrderSid', workOrderSId)\n        } else {\n          // throw error - was not number or string\n          reject(new CWError(9, 'No workorder S/ID was provided.', {'workorderSId': workOrderSId}))\n        }\n        if(_.isNumber(x)) {\n          _.set(data, 'X', x)\n        }\n        if(_.isNumber(y)) {\n          _.set(data, 'Y', y)\n        }\n        if(_.isNumber(z)) {\n          _.set(data, 'Z', z)\n        }\n        if(_.isNumber(domainId)) {\n          _.set(data, 'DomainId', domainId)\n        }\n        this.cw.runRequest(path, data).then(r => {\n          resolve(r.Value)\n        }).catch(e => {\n          reject(e)\n        })\n      })\n    }\n\n  /**\n   * Delete Map Layer Fields\n   *\n   * @category WorkOrders\n   * @param {string} workOrderSId - The workorder S/ID to delete the map layer fields for.\n   * @return {Object} Returns Promise that represents a collection of Objects describing the workorders\n   */\n  deleteMLFs(workOrderSId: string) { // |number\n    return new Promise((resolve, reject) => {\n      var data = {\n        WorkOrderId: workOrderSId\n      }\n      var path = 'Ams/TemplateMapLayer/DeleteWorkOrderInstancesByWorkOrderId';\n      this.cw.runRequest(path, data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n}\n","import { CWError } from './error'\nconst _ = require('lodash')\n\nimport { CaseData } from './case_data'\nimport { CaseFinancial } from './case_financial'\nimport { CaseWorkflow} from './case_workflow'\nimport { CaseAdmin } from './case_admin'\nimport { Comments } from './comments'\nimport { CaseAssets } from './case_assets'\n\nexport class Briefcase {\n  /**\n   * @hidden\n   */\n  cw: any\n\n\n  /**\n   * Data Detail methods\n   */\n  data?: Object\n  /**\n   * Asset (Address) methods\n   */\n  asset?: Object\n  /**\n   * Workflow & task methods\n   */\n  workflow?: Object\n  /**\n   * Payment, Receipt, & Fee methods\n   */\n  financial?: Object\n  /**\n   * Commenting methods\n   */\n  comment?: Object\n  /**\n   * PLL Administration methods\n   */\n  admin?: Object\n\n  /**\n   * @hidden\n   */\n  constructor(cw) {\n    this.cw = cw\n  }\n\n  /**\n   * Create new case\n   *\n   * @category Cases\n   * @param {number} caseTypeId - The case Type ID\n   * @param {number} subTypeId - The case subType ID\n   * @param {Object} [options] - See /{subdirectory}/apidocs/#/data-type-info;dataType=CaObjectItemBase\n   * @return {Object} Returns Promise that represents an object describing the newly-created case\n   */\n  create(caseTypeId: number, subTypeId: number, options?: Object) {\n    return new Promise((resolve, reject) => {\n      var data_init = {\n        CaseTypeId: caseTypeId,\n        SubTypeId: subTypeId\n      }\n      var data = _.merge(data_init, options)\n      this.cw.runRequest('Pll/Case/Create', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Create a child case\n   *\n   * @category Cases\n   * @param {number} busCaseId - The case Type ID\n   * @param {number} parentCaObjectId - The case subType ID\n   * @param {Object} [options] - See /{subdirectory}/apidocs/#/data-type-info;dataType=CaObjectItemBase\n   * @return {Object} Returns Promise that represents an object describing the newly-created case\n   */\n  createChild(busCaseId: number, parentCaObjectId: number, options?: Object) {\n    return new Promise((resolve, reject) => {\n      var data_init = {\n        BusCaseId: busCaseId,\n        ParentCaObjectId: parentCaObjectId\n      }\n      var data = _.merge(data_init, options)\n      this.cw.runRequest('Pll/Case/CreateChild', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Create a case from a Service Request\n   *\n   * @category Cases\n   * @param {number} caseTypeId - The case Type ID\n   * @param {number} subTypeId - The case subType ID\n   * @param {number} requestId - The service request ID\n   * @param {Object} [options] - See /{subdirectory}/apidocs/#/data-type-info;dataType=CaObjectItemBase\n   * @return {Object} Returns Promise that represents an object describing the newly-created case\n   */\n  createFromRequest(caseTypeId: number, subTypeId: number, requestId: number, options?: Object) {\n    return new Promise((resolve, reject) => {\n      var data_init = {\n        CaseTypeId: caseTypeId,\n        SubTypeId: subTypeId,\n        ServiceRequestId: requestId\n      }\n      var data = _.merge(data_init, options)\n      this.cw.runRequest('Pll/CaseObject/CreateCaseFromServiceRequest', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Update a case\n   *\n   * @category Cases\n   * @param {number} caObjectId - The case Object ID to update\n   * @param {Object} [options] - See /{subdirectory}/apidocs/#/data-type-info;dataType=CaObjectItemBase\n   * @return {Object} Returns Promise that represents an object describing the updated case\n   */\n  update(caObjectId: number, options?: Object) {\n    return new Promise((resolve, reject) => {\n      var data_init = {\n        CaObjectId: caObjectId\n      }\n      var data = _.merge(data_init, options)\n      this.cw.runRequest('Pll/CaseObject/Update', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get cases by IDs\n   *\n   * @category Cases\n   * @param {Array<number>} caObjectIds - The case Object ID to update\n   * @return {Object} Returns Promise that represents a collection of objects describing the cases\n   */\n  getByIds(caObjectIds: Array<number>) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaObjectIds: caObjectIds\n      }\n      this.cw.runRequest('Pll/CaseObject/ByIds', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Search for Cases. Include at least one of the search fields. A logical 'and' operation is applied for multiple search fields.\n   *\n   * @category Cases\n   * @param {Object} filters - The parameter(s) to search by\n   * @return {Object} Returns Promise that represents an Array of case Object IDs\n   */\n  search(filters: Object) {\n    return new Promise((resolve, reject) => {\n      var data = filters\n      this.cw.runRequest('Pll/CaseObject/Search', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Move a Case point\n   *\n   * @category Cases\n   * @param {string} caObjectId\n   * @param {number} x\n   * @param {number} y\n   * @param {Object} projection - Should include at least WKT _or_ WKID attribute. Can also include VcsWKID attribute.\n   * @param {number} [z] - Optional Z coordinate\n   * @return {Object} Returns Promise that represents an object describing the updated GISPoint\n   */\n  move(caObjectId: number, x: number, y: number, projection: {WKID?: string, WKT?: string, VcsWKID?: string}, z?: number) {\n    return new Promise((resolve, reject) => {\n      if(!_.has(projection, 'WKID') && !_.has(projection, 'WKT')) {\n        // Throw error\n        reject(new CWError(1, 'You must provide either the WKID or WKT for the x/y coordinates.', {'projection': projection}))\n      }\n      var data_init = {\n        CaObjectId: caObjectId,\n        X: x,\n        Y: y\n      };\n      if(typeof(z)!='undefined') {\n        _.set(data_init, 'Z', z)\n      }\n      var data = _.merge(data_init, projection);\n      this.cw.runRequest('Pll/CaseObject/Move', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Delete case\n   *\n   * @category Cases\n   * @param {number} caObjectId - The case Object ID\n   * @return {Object} Returns Promise that represents an object describing the deleted case\n   */\n  delete(caObjectId: number) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaObjectId: caObjectId\n      }\n      this.cw.runRequest('Pll/CaseObject/DeleteCase', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get Map Layer Fields\n   *\n   * @category Cases\n   * @param {number} caObjectId - The case object ID to get the map layer fields for.\n   * @return {Object} Returns Promise that represents a collection of Objects describing the case object map layer fields\n   */\n  getMLFs(caObjectId: number) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaObjectId: caObjectId\n      }\n      var path = 'Ams/TemplateMapLayer/CaseInstanceMapLayersByCaObjectId';\n      this.cw.runRequest(path, data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Update Map Layer Fields\n   *\n   * @category Cases\n   * @param {number} caObjectId - The case object ID to get the map layer fields for.\n   * @param {number} x\n   * @param {number} y\n   * @param {number} domainId - The domain ID for the case in question\n   * @param {number} [z] - Optional Z coordinate\n   * @return {Object} Returns Promise that represents a collection of Objects describing the case object map layer fields\n   */\n    updateMLFs(caObjectId: number, x?: number, y?: number, domainId?: number, z?: number) {\n      return new Promise((resolve, reject) => {\n        var data = {\n          CaObjectId: caObjectId\n        }\n        var path = 'Ams/TemplateMapLayer/UpdateCaseInstanceMapLayers';\n        \n        if(_.isNumber(x)) {\n          _.set(data, 'X', x)\n        }\n        if(_.isNumber(y)) {\n          _.set(data, 'Y', y)\n        }\n        if(_.isNumber(z)) {\n          _.set(data, 'Z', z)\n        }\n        if(_.isNumber(domainId)) {\n          _.set(data, 'DomainId', domainId)\n        }\n        this.cw.runRequest(path, data).then(r => {\n          resolve(r.Value)\n        }).catch(e => {\n          reject(e)\n        })\n      })\n    }\n\n  /**\n   * Delete Map Layer Fields\n   *\n   * @category Cases\n   * @param {string} workOrderSId - The case object ID to delete the map layer fields for.\n   * @return {Object} Returns Promise that represents a collection of Objects describing the case object map layer fields deleted\n   */\n  deleteMLFs(caObjectId: number) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaObjectId: caObjectId\n      }\n      var path = 'Ams/TemplateMapLayer/DeleteCaseInstanceMapLayersByCaObjectId';\n      this.cw.runRequest(path, data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n  \n\n  // importCase(caseTypeId: number, subTypeId: number, caseName: string, location: string, x: number, y:number, appData: object, comment: string, expiration: string, assetIds: object) {\n  //   return new Promise(resolve => {\n  //     const _this = this;\n  //     let case_data = {\"CaseName\":caseName, \"Location\":location, \"DateExpiration\": expiration, \"X\":x,\"Y\":y}\n  //     this.create(caseTypeId, subTypeId, case_data).then((response: any) => {\n  //       if(response) {\n  //         if(typeof(response.CaObjectId)!='undefined') {\n  //           var CaObjectId = response.CaObjectId\n  //           if(typeof(comment) != 'undefined') {\n  //             _this.comments.add(CaObjectId, comment)\n  //           }\n  //           if(assetIds) {\n  //             _this.assets!.attach(CaObjectId, true, assetIds)\n  //           }\n  //           if(appData) {\n  //             _this.data!.getGroupsByCaseId(response.CaObjectId).then(response_one => {\n  //               // loop through all groups\n  //               let data_details_items = []\n  //               _this.data!.caseDataGroupIterator(appData, response_one, data_details_items).then(di => {\n  //                 _this.data!.caseDataDetailIterator(appData, di).then(resp => {\n  //                   resolve(response)\n  //                 })\n  //               })\n  //             })\n  //           } else {\n  //             resolve(response)\n  //           }\n  //         } else {\n  //           console.log('Error creating case: '+ JSON.stringify(case_data))\n  //           process.exit(0)\n  //         }\n  //       } else {\n  //         resolve(false)\n  //       }\n  //     })\n  //   })\n  // }\n\n}\n","import { CWError } from './error'\nconst _ = require('lodash')\n\nexport class CaseData {\n  /**\n   * @hidden\n   */\n  cw: any\n\n  /**\n   * @hidden\n   */\n  constructor(cw) {\n    this.cw = cw\n  }\n\n  /**\n   * Add Case Data Group\n   *\n   * @category Data Groups\n   * @param {number} caObjectId - The Case Object to attach the data group to.\n   * @param {number} caseDataGroupId - CaseDataGroupId as defined in CaseDataGroup admin.\n   * @param {string} groupCode - The Group Code.\n   * @param {Object} [options] - Options for CaseDataGroup including GroupDesc, GroupSum, and SumFlag\n   * @return {Object} Returns Promise that represents an object describing CaDataGroupItemBase.\n   */\n   addGroup(caObjectId: number, caseDataGroupId: number, groupCode: string, options?: {GroupDesc?: string, GroupSum?: number, SumFlag?: string}) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaObjectId: caObjectId,\n        CaseDataGroupId: caseDataGroupId,\n        GroupCode: groupCode\n      }\n      if(typeof(options)!='undefined') {\n        data = _.merge(data, options)\n      }\n      this.cw.runRequest('Pll/CaseDataGroup/Add', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Add Default Case Data Groups\n   *\n   * @category Data Groups\n   * @param {number} caObjectId - The Case Object to attach the data group to.\n   * @param {number} busCaseId - The business case ID\n   * @return {Object} Returns Promise that represents a collection of the default CaDataGroupItemBases.\n   */\n   addDefaultGroups(caObjectId: number, busCaseId: number) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaObjectId: caObjectId,\n        BusCaseId: busCaseId\n      }\n      this.cw.runRequest('Pll/CaseDataGroup/AddDefault', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Adds a data detail entry to the case data group specified by the CaDataGroupId. The CaDataGroupId is associated to a case.\n   *\n   * @category Data Groups\n   * @param {number} caseDataDetailId - The Data Detail template ID\n   * @param {number} caDataGroupId - The Case Instance Data Group ID\n   * @param {string} columnSequence - The column sequence\n   * @param {string} detailCode - The detail Code\n   * @param {number} detailSequence - The detail order number\n   * @param {Object} [options] - Other options for CaseDataDetail. See WIPAdd here: /{subdirectory}/apidocs/#/service-info/Pll/CaseDataDetail\n   * @return {Object} Returns Promise that represents an object describing CaDataDetailItemBase.\n   */\n   wipAddDetail(caseDataDetailId: number, caDataGroupId: number, columnSequence: string, detailCode: string, detailSequence: number, options?: Object) {\n    return new Promise((resolve, reject) => {\n      var data_init = {\n        CaseDataDetailId: caseDataDetailId,\n        CaDataGroupId: caDataGroupId,\n        ColumnSequence: columnSequence,\n        DetailCode: detailCode,\n        DetailSequence: detailSequence\n      }\n      var data = _.merge(data_init, options)\n      this.cw.runRequest('Pll/CaseDataGroup/Add', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get groups by CaObjectId\n   *\n   * @category Data Groups\n   * @param {number} caObjectId - The Case Object to get the attached data groups.\n   * @return {Object} Returns Promise that represents a collection of the CaDataGroupItemBases.\n   */\n   getGroupsByCaseId(caObjectId: number) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaObjectId: caObjectId\n      }\n      this.cw.runRequest('Pll/CaseDataGroup/ByCaObjectId', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Delete Case Data Groups by Case Object ID.\n   *\n   * @category Data Groups\n   * @param {number} caObjectId - The Case Object to attach the data group to.\n   * @return {Object} Returns Promise that represents a number that is the CaObjectId (?)\n   */\n   deleteGroupsByCaseId(caObjectId: number) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaObjectId: caObjectId\n      }\n      this.cw.runRequest('Pll/CaseDataGroup/DeleteByCaObjectId', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Search for Case Data Groups. Include one or more of the search fields. A logical 'and' operation is applied to muliple search fields\n   *\n   * @category Data Groups\n   * @param {Object} filters - The parameters to search by. (CaDataGroupId, CaseDataGroupId, GroupCode, GroupDesc, GroupSum, SumFlag)\n   * @return {Object} Returns Promise that represents a number that is the CaObjectId (?)\n   */\n   searchForGroups(filters?: Object) {\n    return new Promise((resolve, reject) => {\n      if(_.intersectionBy(_.keysIn(filters), ['CaDataGroupId', 'CaseDataGroupId', 'GroupCode', 'GroupDesc', 'GroupSum', 'SumFlag']).length==0) {\n        reject(new CWError(2, 'At least one of the attributes (CaDataGroupId, CaseDataGroupId, GroupCode, GroupDesc, GroupSum, SumFlag) must be defined.'))\n      }\n      var data = filters\n      this.cw.runRequest('Pll/CaseDataGroup/Search', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get Case Data Groups by Case ObjectId\n   *\n   * @category Data Groups\n   * @param {string} entityType - The entity type to check\n   * @param {string} entityUid - The specific entityUID to check\n   * @param {Object} options - The other options for checkGIS. Either CaObjectId or CaseDataGroupId is required.\n   * @return {Object} Returns Promise that represents a collection of the default CaDataGroupItemBases.\n   */\n   checkGIS(entityType: string, entityUid: string, options: {CaObjectId?:number, CaseDataGroupId?: number, CaseDataDetailId?: number}) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        EntityType: entityType,\n        EntityUid: entityUid\n      }\n      if(_.has(options, 'CaObjectId')) {\n        _.set(data, 'CaObjectId', _.get(options, 'CaObjectId'))\n      } else if(_.has(options, 'CaseDataGroupId')) {\n        _.set(data, 'CaseDataGroupId', _.get(options, 'CaseDataGroupId'))\n      } else {\n        reject(new CWError(1, 'Either CaObjectId or CaseDataGroupId is required.', {'provided': options}))\n      }\n      if(_.has(options, 'CaseDataDetailId')) {\n        _.set(data, 'CaseDataDetailId', _.get(options, 'CaseDataDetailId'))\n      }\n      this.cw.runRequest('Pll/CaseDataGroup/CheckGISChanges', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Update data groups on a case based on asset value mappings.\n   *\n   * @category Data Groups\n   * @param {number} caObjectId - The case to update\n   * @param {string} entityType - The entity type to check\n   * @param {string} entityUid - The specific entityUID to check\n   * @param {number} [caDataGroupId] - The specific data group ID to limit updates to\n   * @return {Object} Returns Promise that represents a collection of the default CaDataGroupItemBases.\n   */\n   updateGroupsFromAsset(caObjectId: number, entityType: string, entityUid: string, caDataGroupId?: number) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaObjectId: caObjectId,\n        EntityType: entityType,\n        EntityUid: entityUid\n      }\n      if(typeof(caDataGroupId)!='undefined') {\n        _.set(data, 'CaDataGroupId', caDataGroupId)\n      }\n      this.cw.runRequest('Pll/CaseDataGroup/UpdateFromAsset', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Attach Case Data Detail\n   *\n   * @category Data Details\n   * @param {number} caDataGroupId - The Case Data Group ID to attach the data detail to.\n   * @param {number} caseDataDetailId - caseDataDetailId to attach.\n   * @param {Object} [options] - Options\n   * @return {Object} Returns Promise that represents an object describing CaDataGroupItemBase.\n   */\n   addDetail(caDataGroupId: number, caseDataDetailId: number, options?: Object) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaDataGroupId: caDataGroupId,\n        CaseDataDetailId: caseDataDetailId\n      }\n      if(typeof(options)!='undefined') {\n        data = _.merge(data, options)\n      }\n      this.cw.runRequest('Pll/CaseDataDetail/Add', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Update Case Data Detail\n   *\n   * @category Data Details\n   * @param {number} caDataDetailId - The Case Data Group ID to attach the data detail to.\n   * @param {Object} [options] - Options\n   * @return {Object} Returns Promise that represents an object describing CaDataGroupItemBase.\n   */\n   updateDetail(caDataDetailId: number, options?: Object) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaDataDetailId: caDataDetailId\n      }\n      if(typeof(options)!='undefined') {\n        data = _.merge(data, options)\n      }\n      this.cw.runRequest('Pll/CaseDataDetail/Update', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Lock Case Data Detail\n   *\n   * @category Data Details\n   * @param {number} caDataDetailId - The Case Data Group ID to lock\n   * @return {Object} Returns Promise which represents an object describing the CaDataDetailItem.\n   */\n   lockDetail(caDataDetailId: number) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaDataDetailId: caDataDetailId,\n        Lock: true\n      }\n      this.cw.runRequest('Pll/CaseDataDetail/UpdateLock', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Unlock Case Data Detail\n   *\n   * @category Data Details\n   * @param {number} caDataDetailId - The Case Data Group ID to unlock\n   * @return {Object} Returns Promise which represents an object describing the CaDataDetailItem.\n   */\n   unlockDetail(caDataDetailId: number) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaDataDetailId: caDataDetailId,\n        Lock: false\n      }\n      this.cw.runRequest('Pll/CaseDataDetail/UpdateLock', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Adds a list of possible values to the data detail entry specified by the CaDataDetailId.\n   *\n   * @category Data List Values\n   * @param {number} caDataDetailId - The Case Object to attach the data group to.\n   * @param {string} listValue - The Group Code.\n   * @return {Object} Returns Promise that represents an object describing CaDataListValuesItemBase.\n   */\n   addListValue(caDataDetailId: number, listValue: string) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaDataDetailId: caDataDetailId,\n        ListValue: listValue\n      }\n      this.cw.runRequest('Pll/CaseDataListValues/Add', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Delete by Id (Ca Data List Id)\n   *\n   * @category Data List Values\n   * @param {number} CaDataListId - The Case Data List ID\n   * @return {Object} Returns Promise that represents an object describing CaDataListValuesItemBase.\n   */\n   deleteListValue(caDataDetailId: number) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaDataDetailId: caDataDetailId\n      }\n      this.cw.runRequest('Pll/CaseDataListValues/Delete', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Search for List Value IDs. Include one or more of the search fields. A logical 'and' operation is applied to muliple search fields\n   *\n   * @category Data List Values\n   * @param {Object} filters - The parameters to search by. (CaDataDetailId, CaDataListId, ListValue)\n   * @return {Object} Returns Promise that represents an Array of resulting CaDataListIds\n   */\n   searchForListValueIds(filters?: Object) {\n    return new Promise((resolve, reject) => {\n      if(_.intersectionBy(_.keysIn(filters), ['CaDataDetailId', 'CaDataListId', 'ListValue']).length==0) {\n        reject(new CWError(3, 'At least one of the attributes (CaDataDetailId, CaDataListId, ListValue) must be defined.'))\n      }\n      var data = filters\n      this.cw.runRequest('Pll/CaseDataGroup/Search', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Search for List Value Objects. Include one or more of the search fields. A logical 'and' operation is applied to muliple search fields\n   *\n   * @category Data List Values\n   * @param {Object} filters - The parameters to search by. (CaDataDetailId, CaDataListId, ListValue, CaDataGroupId)\n   * @return {Object} Returns Promise that represents a collection of resulting CaDataListValuesItemBase objects\n   */\n   searchForListValueObjects(filters?: Object) {\n    return new Promise((resolve, reject) => {\n      if(_.intersectionBy(_.keysIn(filters), ['CaDataDetailId', 'CaDataListId', 'ListValue', 'CaDataGroupId']).length==0) {\n        reject(new CWError(4, 'At least one of the attributes (CaDataDetailId, CaDataListId, ListValue, CaDataGroupId) must be defined.'))\n      }\n      var data = filters\n      this.cw.runRequest('Pll/CaseDataGroup/SearchObject', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  // caseDataGroupIterator(appData: object, groups: Array<number>, items: Array<object>) {\n  //   return new Promise(resolve => {\n  //     var detail_items = items\n  //     var dataDetailGroup = groups.pop()\n  //     this.searchForListValueObjects({CaDataGroupId: dataDetailGroup!.CaDataGroupId}).then(r => {\n  //       r.forEach(function (item) {\n  //         detail_items.push(item)\n  //       })\n  //       if(groups.length>0) {\n  //         this.caseDataGroupIterator(appData, groups, detail_items).then(di => {\n  //           resolve(di)\n  //         })\n  //       } else {\n  //         resolve(detail_items)\n  //       }\n  //     })\n  //   })\n  // }\n\n  // caseDataDetailIterator(appData: object, detail_items: Array<object>) {\n  //   return new Promise(resolve => {\n  //     const this_data_detail = detail_items.pop()\n  //     const detailCode = this_data_detail.DetailCode\n  //     const detailId = this_data_detail.CaDataDetailId\n  //     if(typeof(this_data_detail)!='undefined' && typeof(appData[detailCode])!='undefined') {\n  //       this.searchForListValueObjects(detailId).then(r => {\n  //         var CaseDataDetailUpdate = r.Value\n  //         var rType = r.Value\n  //         CaseDataDetailUpdate[rType] = appData[CaseDataDetailUpdate.DetailCode]\n  //         this.updateDetail(CaseDataDetailUpdate).then(response => {\n  //           if(detail_items.length > 0) {\n  //             this.caseDataDetailIterator(appData, detail_items).then(resp => {\n  //               resolve(resp)\n  //             })\n  //           } else {\n  //             resolve(true)\n  //           }\n  //         })\n  //       })\n  //     } else {\n  //       if(detail_items.length > 0) {\n  //         this.caseDataDetailIterator(appData, detail_items).then(resp => {\n  //           resolve(resp)\n  //         })\n  //       } else {\n  //         resolve(true)\n  //       }\n  //     }\n  //   });\n  // }\n\n}\n","import { CWError } from './error'\nconst _ = require('lodash')\n\nexport class CaseFinancial {\n  /**\n   * @hidden\n   */\n  cw: any\n\n  /**\n   * @hidden\n   */\n  constructor(cw: Object) {\n    this.cw = cw\n  }\n\n  /**\n   * Adds a fee to the case specified by the CaObectId.\n   *\n   * @category Case Fees\n   * @param {number} caObjectId - The Case Object ID for the case to which to add the fee\n   * @param {number} feeSetupId - The fee setup id for the fee to add to the case.\n   * @param {Object} [options] - See /{subdirectory}/apidocs/#/service-info/Pll/CaseFees for more options. (Checkboxes -- Autorecalculate -- are Y/N strings)\n   * @return {Object} Returns Promise that represents an object describing the newly-added fee. See /{subdirectory}/apidocs/#/data-type-info;dataType=CaFeesItemBase\n   */\n  addFee(caObjectId: number, feeSetupId: number, options?: Object) {\n    return new Promise((resolve, reject) => {\n      var init_data = {\n        CaObjectId: caObjectId,\n        FeeSetupId: feeSetupId\n      }\n      var data = _.merge(init_data, options);\n      this.cw.runRequest('Pll/CaseFees/Add', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Add Case Fee Payment. Adds a payment to the case fee specified by caObjectId.\n   *\n   * @category Case Payments\n   * @param {number} caObjectId - The Case Object ID for the case to which to add the fee\n   * @param {Object} options - See /{subdirectory}/apidocs/#/service-info/Pll/CasePayment for more options, including required fields.\n   * @return {Object} Returns Promise that represents an object describing the newly-added payment. See /{subdirectory}/apidocs/#/data-type-info;dataType=CaPaymentItemBase\n   */\n  addPayment(caObjectId: number, options: Object) {\n    return new Promise((resolve, reject) => {\n      var init_data = {\n        CaObjectId: caObjectId\n      }\n      var data = _.merge(init_data, options);\n      this.cw.runRequest('Pll/CasePayment/Add', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Add Case Payment Refund. Refunds a payment on the case payment specified by caPaymentId.\n   *\n   * @category Case Payment Refunds\n   * @param {number} caPaymentId - The Case Payment ID for the case payment which to refund\n   * @param {number} refundAmount - The amount to refund\n   * @param {string} comment - A comment to append to the refund\n   * @return {Object} Returns Promise that represents an object describing the newly-added payment refund. See /{subdirectory}/apidocs/#/data-type-info;dataType=CaPaymentRefundItemBase\n   */\n  addRefund(caPaymentId: number, refundAmount: number, comment: string) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaPaymentId: caPaymentId,\n        RefundAmount: refundAmount,\n        Comments: comment\n      }\n      this.cw.runRequest('Pll/CasePaymentRefund/Add', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Add Case Deposit Payment. Adds a payment to the case deposit specified by CaDepositId.\n   *\n   * @category Case Payments\n   * @param {number} caDepositId - The Case Deposit ID for the case deposit to which to add the fee\n   * @param {Object} options - See /{subdirectory}/apidocs/#/service-info/Pll/CasePayment for more options, including required fields.\n   * @return {Object} Returns Promise that represents an object describing the newly-added payment. See /{subdirectory}/apidocs/#/data-type-info;dataType=CaPaymentItemBase\n   */\n  addDepositPayment(caDepositId: number, options: Object) {\n    return new Promise((resolve, reject) => {\n      var init_data = {\n        CaDepositId: caDepositId\n      }\n      var data = _.merge(init_data, options);\n      this.cw.runRequest('Pll/CasePayment/AddDeposit', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Adds a deposit to the case specified by the CaObectId.\n   *\n   * @category Case Deposits\n   * @param {number} caObjectId - The Case Object ID for the case to which to add the fee\n   * @param {number} depositId - The deposit setup id for the deposit to add to the case.\n   * @param {number} [amount] - The amount of the deposit (optional)\n   * @param {string} [comment] - Comment text to add to the deposit (optional)\n   * @return {Object} Returns Promise that represents an object describing the newly-added deposit. See /{subdirectory}/apidocs/#/data-type-info;dataType=CaDepositItemBase\n   */\n  addDeposit(caObjectId: number, depositId: number, amount?: number, comment?: string) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaObjectId: caObjectId,\n        DepositId: depositId\n      }\n      if(typeof(amount)!='undefined') {\n        _.set(data, 'Amount', amount)\n      }\n      if(typeof(comment)!='undefined') {\n        _.set(data, 'CommentText', comment)\n      }\n      this.cw.runRequest('CaseDeposit/Add', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Adds an instrument to the case specified by the CaObectId.\n   *\n   * @category Case Instruments\n   * @param {number} caObjectId - The Case Object ID for the case to which to add the instrument\n   * @param {number} instTypeId - The instrument type id for the instrument being added to the case.\n   * @param {number} amount - The amount of the instrument\n   * @param {Date} dateExpire - The datetime for the instrument to expire.\n   * @param {Object} [options] - See /{subdirectory}/apidocs/#/service-info/Pll/CaseInstrument for more options.\n   * @return {Object} Returns Promise that represents an object describing the newly-added instrument. See /{subdirectory}/apidocs/#/service-info/Pll/CaseInstrument\n   */\n  addInstrument(caObjectId: number, instTypeId: number, amount: number, dateExpire: Date, options?: Object) {\n    return new Promise((resolve, reject) => {\n      var init_data = {\n        CaObjectId: caObjectId,\n        InstTypeId: instTypeId,\n        Amount: amount,\n        DateExpire: dateExpire\n      }\n      var data = _.merge(init_data, options);\n      this.cw.runRequest('Pll/CaseInstrument/Add', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Updates a fee specified by the CaFeeId.\n   *\n   * @category Case Fees\n   * @param {number} caFeeId - The Fee ID for the specific instance of the fee you wish to update\n   * @param {Object} [options] - See /{subdirectory}/apidocs/#/service-info/Pll/CaseFees for more options. (Checkboxes -- Autorecalculate -- are Y/N strings)\n   * @return {Object} Returns Promise that represents an object describing the updated fee. See /{subdirectory}/apidocs/#/data-type-info;dataType=CaFeesItemBase\n   */\n  updateFee(caFeeId: number, options?: Object) {\n    return new Promise((resolve, reject) => {\n      var init_data = {\n        CaFeeId: caFeeId\n      }\n      var data = _.merge(init_data, options);\n      this.cw.runRequest('Pll/CaseFees/Update', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Void a refund.\n   *\n   * @category Case Refund Payment\n   * @param {number} caPaymentRefundId - The Refund ID for the specific refund to void\n   * @param {String} voided - A string. No clue.\n   * @return {Object} Returns Promise that represents an object describing the voided refund. See /{subdirectory}/apidocs/#/data-type-info;dataType=CaPaymentRefundItemBase\n   */\n  voidRefund(caPaymentRefundId: number, voided: string) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaPaymentRefundId: caPaymentRefundId,\n        Voided: voided\n      }\n      this.cw.runRequest('Pll/CasePaymentRefund/Update', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Adds Default Case Fees. Adds fees to the case specified by the CaObectId and BusCaseId.\n   *\n   * @category Case Fees\n   * @param {number} caObjectId - The Case Object ID for the case to which to add the default fees\n   * @param {number} busCaseId - The business case ID whose default fees should be added to the case\n   * @return {Object} Returns Promise that represents a collection of Fee Items. See /{subdirectory}/apidocs/#/data-type-info;dataType=CaFeesItemBase\n   */\n  addDefaultFees(caObjectId: number, busCaseId: number) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaObjectId: caObjectId,\n        BusCaseId: busCaseId\n      }\n      this.cw.runRequest('Pll/CaseFees/AddDefault', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Adds Default Case Deposits. Adds deposits to the case specified by the CaObectId and BusCaseId.\n   *\n   * @category Case Deposits\n   * @param {number} caObjectId - The Case Object ID for the case to which to add the default deposits\n   * @param {number} busCaseId - The business case ID whose default deposits should be added to the case\n   * @return {Object} Returns Promise that represents a collection of Deposit Items. See /{subdirectory}/apidocs/#/data-type-info;dataType=CaDepositItemBase\n   */\n  addDefaultDeposits(caObjectId: number, busCaseId: number) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaObjectId: caObjectId,\n        BusCaseId: busCaseId\n      }\n      this.cw.runRequest('Pll/CaseDeposit/AddDefault', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Gets the fees from the case specified by the CaObectId.\n   *\n   * @category Case Fees\n   * @param {number} caObjectId - The Case Object ID for the case to which to get the fees\n   * @return {Object} Returns Promise that represents a collection of Case Fees.\n   */\n  getFees(caObjectId: number) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaObjectId: caObjectId\n      }\n      this.cw.runRequest('Pll/CaseFees/ByCaObjectId', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get Case Deposit by Case ObjectId.\n   *\n   * @category Case Deposits\n   * @param {number} caObjectId - The Case Object ID for the case to which to get the deposits\n   * @return {Object} Returns Promise that represents a collection of Case Deposits.\n   */\n  getDeposits(caObjectId: number) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaObjectId: caObjectId\n      }\n      this.cw.runRequest('Pll/CaseDeposit/ByCaObjectId', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get Case Payments by Case ObjectId\n   *\n   * @category Case Payments\n   * @param {number} caObjectId - The Case Object ID for the case to which to get the payments\n   * @return {Object} Returns Promise that represents a collection of Case Payments.\n   */\n  getPayments(caObjectId: number) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaObjectId: caObjectId\n      }\n      this.cw.runRequest('Pll/CasePayment/ByCaObjectId', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Gets the instruments from the case specified by the CaObectId.\n   *\n   * @category Case Instruments\n   * @param {number} caObjectId - The Case Object ID for the case to which to get the fees\n   * @return {Object} Returns Promise that represents a collection of Case Instruments.\n   */\n  getInstruments(caObjectId: number) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaObjectId: caObjectId\n      }\n      this.cw.runRequest('Pll/CaseInstrument/ByCaObjectId', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Delete the fee specified by the caFeeId.\n   *\n   * @category Case Fees\n   * @param {number} caFeeId - The Case Fee ID which should be deleted\n   * @return {Object} Returns Promise that represents a Case Fee object.\n   */\n  deleteFee(caFeeId: number) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaFeeId: caFeeId\n      }\n      this.cw.runRequest('Pll/CaseFees/Delete', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Delete Case Fees by Case ObjectId. Delete from the system all Fees linked to a specific Case as specified by the Case Id parameter (CaObjectId).\n   *\n   * @category Case Fees\n   * @param {number} caObjectId - The Case Object ID whose fees should be deleted\n   * @return {Object} Returns Promise that represents a number (?)\n   */\n  deleteFeesByCaseId(caObjectId: number) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaObjectId: caObjectId\n      }\n      this.cw.runRequest('Pll/CaseFees/DeleteByCaObjectId', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Delete a Case Payment by Id. Delete a specific case payment by CaPaymentId.\n   *\n   * @category Case Payments\n   * @param {number} caPaymentId - The Case Payment ID which should be deleted\n   * @return {Object} Returns Promise that represents a Case Payment object.\n   */\n  deletePayment(caFeeId: number) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaFeeId: caFeeId\n      }\n      this.cw.runRequest('Pll/CasePayment/Delete', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Delete Case Payment Refund. Removes a refund on a payment.\n   *\n   * @category Case Payment Refunds\n   * @param {number} caPaymentRefundId - The Case Payment ID for the case payment which to refund\n   * @return {Object} Returns Promise that represents an object describing the deleted payment refund. See /{subdirectory}/apidocs/#/data-type-info;dataType=CaPaymentRefundItemBase\n   */\n  deleteRefund(caPaymentRefundId: number) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaPaymentRefundId: caPaymentRefundId\n      }\n      this.cw.runRequest('Pll/CasePaymentRefund/Delete', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Delete Case Payments by Case ObjectId. Delete from the system all payments associated to a specific case as specified by the case id (CaObjectId)\n   *\n   * @category Case Payments\n   * @param {number} caObjectId - The Case Object ID whose payments should be deleted\n   * @return {Object} Returns Promise that represents a number (?)\n   */\n  deletePaymentsByCaseId(caObjectId: number) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaObjectId: caObjectId\n      }\n      this.cw.runRequest('Pll/CasePayment/DeleteByCaObjectId', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Delete the fee specified by the caFeeId.\n   *\n   * @category Case Deposits\n   * @param {number} caDepositId - The Case Deposit ID which should be deleted\n   * @return {Object} Returns Promise that represents a collection of Case Deposits.\n   */\n  deleteDeposit(caDepositId: number) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaDepositId: caDepositId\n      }\n      this.cw.runRequest('Pll/CaseDeposit/Delete', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Delete Case Fees by Case ObjectId. Delete from the system all Fees linked to a specific Case as specified by the Case Id parameter (CaObjectId).\n   *\n   * @category Case Deposits\n   * @param {number} caObjectId - The Case Object ID whose fees should be deleted\n   * @return {Object} Returns Promise that represents a number (?)\n   */\n  deleteDepositsByCaseId(caObjectId: number) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaObjectId: caObjectId\n      }\n      this.cw.runRequest('Pll/CaseDeposit/DeleteByCaObjectId', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Delete the instrument specified by the caInstrumentId.\n   *\n   * @category Case Instruments\n   * @param {number} caInstrumentId - The Case Instrument ID which should be deleted\n   * @return {Object} Returns Promise that represents a Case Instrument.\n   */\n  deleteInstrument(caInstrumentId: number) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaInstrumentId: caInstrumentId\n      }\n      this.cw.runRequest('Pll/CaseInstrument/Delete', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Delete Case Instruments by Case ObjectId. Delete from the system all Instruments linked to a specific Case as specified by the Case Id parameter (CaObjectId).\n   *\n   * @category Case Instruments\n   * @param {number} caObjectId - The Case Object ID whose instruments should be deleted\n   * @return {Object} Returns Promise that represents a number (?)\n   */\n  deleteInstrumentsByCaseId(caObjectId: number) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaObjectId: caObjectId\n      }\n      this.cw.runRequest('Pll/CaseInstrument/DeleteByCaObjectId', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Search for Case Fees. Include at least one of the search fields. A logical 'and' operation is applied for multiple search fields.\n   *\n   * @category Case Fees\n   * @param {Object} filters - The parameter(s) to search by\n   * @return {Object} Returns Promise that represents an Array of case fee IDs\n   */\n  searchFees(filters: Object) {\n    return new Promise((resolve, reject) => {\n      if(_.intersectionBy(_.keysIn(filters), ['CaFeeId', 'CaObjectId', 'FeeCode', 'FeeDesc']).length==0) {\n        reject(new CWError(4, 'At least one of the attributes (CaFeeId, CaObjectId, FeeCode, FeeDesc) must be defined.'))\n      }\n      var data = filters\n      this.cw.runRequest('Pll/CaseFees/Search', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Search for Case Payments. Include one or more of the search fields. A logical 'and' operation is applied for multiple search fields.\n   *\n   * @category Case Payments\n   * @param {Object} filters - The filters to search for matched Case Payments\n   * @return {Object} Returns Promise that represents an Array of case payment IDs\n   */\n  searchPayments(filters: Object) {\n    return new Promise((resolve, reject) => {\n      if(_.intersectionBy(_.keysIn(filters), ['CaPaymentId', 'CommentText', 'FeeAmount', 'FeeCode', 'FeeDesc', 'PaymentAccount', 'PaymentAmount', 'TenderType']).length==0) {\n        reject(new CWError(5, 'At least one of the attributes (CaPaymentId, CommentText, FeeAmount, FeeCode, FeeDesc, PaymentAccount, PaymentAmount, TenderType) must be defined.'))\n      }\n      var data = filters\n      this.cw.runRequest('Pll/CasePayment/Search', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Search for Case Payment Refunds. Include one or more of the search fields. A logical 'and' operation is applied for multiple search fields.\n   *\n   * @category Case Payment Refunds\n   * @param {Object} filters - The filters to search for matched Case Payments.\n   * @return {Object} Returns Promise that represents an Array of case payment refund IDs\n   */\n  searchRefunds(filters: Object) {\n    return new Promise((resolve, reject) => {\n      if(_.intersectionBy(_.keysIn(filters), ['CaPaymentId', 'CaPaymentRefundId', 'Comments', 'RefundAmount']).length==0) {\n        reject(new CWError(6, 'At least one of the attributes (CaPaymentId, CaPaymentRefundId, Comments, RefundAmount) must be defined.'))\n      }\n      var data = filters\n      this.cw.runRequest('Pll/CasePayment/Search', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Search for Case Deposits. Include at least one of the search fields. A logical 'and' operation is applied for multiple search fields.\n   *\n   * @category Case Deposits\n   * @param {Object} filters - The parameters to search by.\n   * @return {Object} Returns Promise that represents an Array of case fee IDs\n   */\n  searchDeposits(filters: Object) {\n    return new Promise((resolve, reject) => {\n      if(_.intersectionBy(_.keysIn(filters), ['CaDepositId', 'CaObjectId', 'DepositCode', 'DepositDesc']).length==0) {\n        reject(new CWError(1, 'At least one of the arguments (CaDepositId, CaObjectId, DepositCode, DepositDesc) must be defined.'))\n      }\n      var data = filters\n      this.cw.runRequest('Pll/CaseDeposit/Search', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get All Fee Templates\n   *\n   * @category Case Fees\n   * @return {Object} Returns Promise that represents an object describing the newly-added fee. See /{subdirectory}/apidocs/#/data-type-info;dataType=CaFeesItemBase\n   */\n  getAllFeeTemplates() {\n    return new Promise((resolve, reject) => {\n      var data = {}\n      this.cw.runRequest('Pll/FeeSetup/All', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Search for Fees. Include at least one of the search fields. A logical 'and' operation is applied for multiple search fields.\n   *\n   * @category Case Fees\n   * @param {Object} filters - The parameters to search by\n   * @return {Object} Returns Promise that represents an Array of case fee IDs\n   */\n  searchFeeTemplates(filters: Object) {\n    return new Promise((resolve, reject) => {\n      if(_.intersectionBy(_.keysIn(filters), ['FeeSetupId', 'FeeTypeId', 'FeeCode', 'FeeDesc', 'AccountCode']).length==0) {\n        reject(new CWError(7, 'At least one of the arguments (FeeSetupId, FeeTypeId, FeeCode, FeeDesc, AccountCode) must be defined.'))\n      }\n      var data = filters\n      this.cw.runRequest('Pll/FeeSetup/Search', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Search for Case Instruments. Include at least one of the search fields. A logical 'and' operation is applied for multiple search fields.\n   *\n   * @category Case Instruments\n   * @param {Object} filters - The parameters to search by (AddressLine1, Amount, CaInstrumentId, CityName, CommentText, Company, ContactEmail, ContactName, ContactPhone, CountryCode, InstTypeId, SerialNumber, StateCode, ZipCode)\n   * @return {Object} Returns Promise that represents an Array of case instrument IDs\n   */\n  searchCaseInstruments(filters: Object) {\n    return new Promise((resolve, reject) => {\n      if(_.intersectionBy(_.keysIn(filters), ['AddressLine1', 'Amount', 'CaInstrumentId', 'CityName', 'CommentText', 'Company', 'ContactEmail', 'ContactName', 'ContactPhone', 'CountryCode', 'InstTypeId', 'SerialNumber', 'StateCode', 'ZipCode']).length==0) {\n        reject(new CWError(9, 'At least one of the arguments (AddressLine1, Amount, CaInstrumentId, CityName, CommentText, Company, ContactEmail, ContactName, ContactPhone, CountryCode, InstTypeId, SerialNumber, StateCode, ZipCode) must be defined.'))\n      }\n      var data = filters\n      this.cw.runRequest('Pll/CaseInstrument/Search', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get the Defined Instruments\n   *\n   * @category Instruments\n   * @param {Object} options - the options to filter the instruments returned by\n   * @return {Object} Returns Promise that represents an Array of CaInstrumentItem\n   */\n  getInstrumentList(options: Object) {\n    return new Promise((resolve, reject) => {\n      var data = options\n      this.cw.runRequest('Pll/CaseInstrument/GetList', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Adds a release to a case instrument specified by the caInstrumentId. Must provide either amountReleased OR percentReleased\n   *\n   * @category Case Instrument Releases\n   * @param {number} caInstrumentId - The Case Instrument ID to which to add the instrument release\n   * @param {number} releasedBy - UserID to attach to the release.\n   * @param {Date} dateReleased - The date of the release\n   * @param {number} [amountReleased] - The amount to be released\n   * @param {number} [percentReleased] - OR the percent to be released\n   * @param {string} [comment] - Comment to attach to the release\n   * @return {Object} Returns Promise that represents an object describing the newly-added instrument release. See /{subdirectory}/apidocs/#/data-type-info;dataType=CaInstReleasesItemBase\n   */\n  addCaseInstrumentRelease(caInstrumentId: number, releasedBy: number, dateReleased: Date, amountReleased?: number, percentReleased?: number, comment?: string) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaInstrumentId: caInstrumentId,\n        DateReleased: dateReleased,\n        ReleasedBy: releasedBy\n      }\n      if((typeof(percentReleased)!='undefined' || percentReleased!=null) && (typeof(amountReleased)!='undefined' || amountReleased!=null)) {\n        reject(new CWError(2, 'Either amountReleased or percentReleased must be specified.'))\n      } else if(typeof(percentReleased)!='undefined' && percentReleased!=null) {\n        _.set(data, 'PercentReleased', percentReleased)\n      } else if(typeof(amountReleased)!='undefined' && amountReleased!=null) {\n        _.set(data, 'AmountReleased', amountReleased)\n      }\n      if(typeof(comment)!='undefined') {\n        _.set(data, 'CommentText', comment)\n      }\n      this.cw.runRequest('Pll/CaseInstReleases/Add', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Deletes a release specified by the caInstReleasesId.\n   *\n   * @category Case Instrument Releases\n   * @param {number} caInstReleasesId - The Case Instrument Release ID to delete\n   * @return {Object} Returns Promise that represents an object describing the deleted instrument release. See /{subdirectory}/apidocs/#/data-type-info;dataType=CaInstReleasesItemBase\n   */\n  deleteCaseInstrumentRelease(caInstReleasesId: number) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaInstReleasesId: caInstReleasesId\n      }\n      this.cw.runRequest('Pll/CaseInstReleases/Delete', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Search for Case Instrument Releases. Include one or more of the search fields. A logical 'and' operation is applied for muliple search fields.\n   *\n   * @category Case Instrument Releases\n   * @param {Object} filters - Specify at least one of the following: AmountReleased, CaInstReleasesId, CaInstrumentId, CommentText, PercentReleased, ReleasedBy\n   * @return {Object} Returns Promise that represents an Array of Case Instruments resulting from the search\n   */\n  searchCaseInstrumentReleases(filters: Object) {\n    return new Promise((resolve, reject) => {\n      var data = filters\n      if(_.intersectionBy(_.keysIn(filters), ['AmountReleased', 'CaInstReleasesId', 'CaInstrumentId', 'CommentText', 'PercentReleased', 'ReleasedBy']).length==0) {\n        reject(new CWError(3, 'At least one of the attributes (AmountReleased, CaInstReleasesId, CaInstrumentId, CommentText, PercentReleased, ReleasedBy) must be defined.'))\n      }\n      this.cw.runRequest('Pll/CaseInstReleases/Search', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get All Fees\n   *\n   * @category Fees\n   * @return {Object} Returns Promise that represents a collection of FeeSetups. See /{subdirectory}/apidocs/#/data-type-info;dataType=FeeSetupItemBase\n   */\n  fees() {\n    return new Promise((resolve, reject) => {\n      this.cw.runRequest('Pll/FeeSetup/All', {}).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Search for Fees. Include one or more of the search fields. A logical 'and' operation is applied for muliple search fields.\n   *\n   * @category Fees\n   * @param {Object} filters - Specify at least one.\n   * @return {Object} Returns Promise that represents a collection of FeeSetups. See /{subdirectory}/apidocs/#/data-type-info;dataType=FeeSetupItemBase\n   */\n  searchAvailableFees(filters: {AccountCode?: string, FeeCode?: string, FeeDesc?: string, FeeSetupId?: number, FeeTypeId?: number}) {\n    return new Promise((resolve, reject) => {\n      if(_.intersectionBy(_.keysIn(filters), ['AccountCode', 'FeeCode', 'FeeDesc', 'FeeSetupId', 'FeeTypeId']).length==0) {\n        reject(new CWError(8, 'At least one of the attributes (AccountCode, FeeCode, FeeDesc, FeeSetupId, FeeTypeId) must be defined.'))\n      }\n      var data = filters\n      this.cw.runRequest('Pll/FeeSetup/Search', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get all tender types configured\n   *\n   * @category Tender Types\n   * @return {Object} Returns Promise that represents a collection of tender type objects. See /{subdirectory}/apidocs/#/data-type-info;dataType=TenderTypeItem\n   */\n  getTenderTypes() {\n    return new Promise((resolve, reject) => {\n      var data = {}\n      this.cw.runRequest('Pll/TenderType/All', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Adds a tender type configuration\n   *\n   * @category Tender Types\n   * @param {Object} options - See /{subdirectory}/apidocs/#/service-info/Pll/TenderType\n   * @return {Object} Returns Promise that represents an object describing the newly-added tender type. See /{subdirectory}/apidocs/#/data-type-info;dataType=TenderTypeItem\n   */\n  addTenderType(options: Object) {\n    return new Promise((resolve, reject) => {\n      var data = options\n      this.cw.runRequest('Pll/TenderType/Add', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Update a tender type configuration\n   *\n   * @category Tender Types\n   * @param {number} tenderTypeId - ID of the tender type to update\n   * @param {Object} options - See /{subdirectory}/apidocs/#/service-info/Pll/TenderType\n   * @return {Object} Returns Promise that represents an object describing the newly-added tender type. See /{subdirectory}/apidocs/#/data-type-info;dataType=TenderTypeItem\n   */\n  updateTenderType(tenderTypeId: number, options: Object) {\n    return new Promise((resolve, reject) => {\n      var data_init = {\n        TenderTypeId: tenderTypeId\n      }\n      var data = _.merge(data_init, options)\n      this.cw.runRequest('Pll/TenderType/Update', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n}\n","import { CWError } from './error'\nimport ReversibleMap from 'reversible-map'\nconst _ = require('lodash')\n\n\n/**\n * A plugin that contains \"comments\" methods\n */\nexport class Comments {\n  /**\n   * @hidden\n   */\n  cw: any\n\n  /**\n   * Storage of all potential activity types which comments can be attached to: Unknown, Request, WorkOrder, CaTask, CaObject, CaCorrection, Project, Contract\n   */\n  activityTypes: ReversibleMap<string, number>\n\n  /**\n   * Storage of object's active activityType\n   */\n  currentActivityType: string\n\n  /**\n   * @hidden\n   */\n  constructor(cw: any, activityType: string) {\n    this.cw = cw\n    this.activityTypes = new ReversibleMap<string, number>()\n    this.activityTypes.set(\"Unknown\", 0)\n    this.activityTypes.set(\"Request\", 1)\n    this.activityTypes.set(\"WorkOrder\", 2)\n    this.activityTypes.set(\"CaTask\", 3)\n    this.activityTypes.set(\"CaObject\", 4)\n    this.activityTypes.set(\"CaCorrection\", 5)\n    this.activityTypes.set(\"Project\", 6)\n    this.activityTypes.set(\"Contract\", 7)\n\n    if(!this.activityTypes.has(activityType)) {\n      throw new CWError(1, 'Comment activity type not found.', {'provided': activityType, 'options':this.activityTypes})\n    }\n    this.currentActivityType = activityType\n  }\n\n  /**\n   * Add a comment - for adding a comment to an object when the object is already known. Always call comment.add from request, case, workorder, or inspection.\n   * \n   * @param {number} sid - The SID of the activity to which the comment should be attached\n   * @param {string} comment - The text for the comment\n   * @return {Object} Returns a Promise which represents a CommentRecord object\n   */\n  add(sid: number, comment: string) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        ActivityType: this.activityTypes.get(this.currentActivityType),\n        ActivitySid: sid,\n        Comments: comment\n      }\n      this.cw.runRequest('Ams/Comment/Add', data).then((response: any) => {\n        resolve(response.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Update a comment\n   *\n   * @param {number} id - The ID of the comment which should be updated\n   * @param {string} comment - The new text for the updated comment\n   * @return {Object} Returns a Promise which represents a CommentRecord object\n   */\n  update(id: number, comment: string) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        ActivityType: this.activityTypes.get(this.currentActivityType),\n        CommentId: id,\n        Comments: comment\n      }\n      this.cw.runRequest('Ams/Comment/Update', data).then((response: any) => {\n        resolve(response.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get comments for activity items\n   *\n   * @param {Array<number>} sids - The options SIDs to get comments for.\n   * @return {Object} Returns Promise object that represents a collection of available comments\n   */\n  get(sids: Array<number>) {\n    return new Promise((resolve, reject) => {\n      if(typeof(sids)!='undefined' && sids !=null) {\n        var data = {\n          ActivitySids: sids,\n          ActivityType: this.activityTypes.get(this.currentActivityType),\n        }\n        this.cw.runRequest('Ams/Comment/ByActivitySids', data).then((response: any) => {\n          if(sids.length==1) {\n            resolve(response.Value[sids[0]])\n          } else {\n            resolve(response.Value)\n          }\n        })\n      }\n    })\n  }\n\n  /**\n   * Get pre-defined comments for activityTypes\n   *\n   * @param {number} problemSid - The ProblemSid if currentActivityType is (Service) Request\n   * @param {string} [category] - Only applies to WorkOrder and ServiceRequest category comments.\n   * @return {Object} Returns Promise object that represents a collection of available comment templates.\n   */\n  getPredefined(problemSid?: number, category?: string) {\n    return new Promise((resolve, reject) => {\n      var data = {}\n      if(this.currentActivityType=='Request') {\n        _.set(data, 'ProblemSid', problemSid)\n      }\n      if(typeof(category)!='undefined' && (this.currentActivityType=='Request' || this.currentActivityType=='WorkOrder')) {\n        _.set(data, 'Category', category)\n      }\n      _.set(data, 'ActivityType', this.activityTypes.get(this.currentActivityType))\n      this.cw.runRequest('Ams/Comment/PredefinedComments', data).then((response: any) => {\n        resolve(response.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  // /**\n  //  * Get pre-set comments for activityTypes\n  //  *\n  //  * @param {Array<string>} [activityTypes] - Provide a list of activity types. Defaults to current activity type.\n  //  * @param {Array<string>} [categories] - Only applies to WorkOrder and ServiceRequest category comments.\n  //  * @return {Object} Returns Promise object that represents a collection of available comment templates.\n  //  */\n  // getForActivityList(activityTypes?: Array<string>, categories?: Array<string>) {\n  //   return new Promise((resolve, reject) => {\n  //     var data = {}\n  //     if(typeof(activityTypes)!='undefined') {\n  //       // TODO: iterate through it and output numeric types\n  //       _.set(data, 'ActivityTypes', activityTypes)\n  //     } else {\n  //       _.set(data, 'ActivityTypes', [this.activityTypes.get(this.currentActivityType)])\n  //     }\n  //     if(typeof(categories)!='undefined') {\n  //       _.set(data, 'Categories', categories)\n  //     }\n  //     console.log(data, 'data')\n  //     this.cw.runRequest('Ams/Comment/ByActivityTypes', data).then((response: any) => {\n  //       resolve(response.Value)\n  //     }).catch(e => {\n  //      reject(e)\n  //    })\n  //   })\n  // }\n\n}\n","import { CWError } from './error'\nconst _ = require('lodash')\nimport { Comments } from './comments'\n\nexport class CaseWorkflow {\n  /**\n   * @hidden\n   */\n  cw: any\n\n  /**\n   * Task sub-methods\n   */\n  task: Object\n\n  /**\n   * @hidden\n   */\n  constructor(cw) {\n    this.cw = cw\n    this.task = {\n      comment: new Comments(cw, 'CaTask')\n    }\n  }\n\n  /**\n   * Adds a task to the case specified by the CaObectId.\n   *\n   * @category Tasks\n   * @param {number} caObjectId - The Case Object to attach the task to\n   * @param {number} taskId - The task ID to add to the case workflow\n   * @param {number} startPoint - The start point in the workflow for the task\n   * @param {number} endPoint - The end point in the workflow for the task\n   * @param {Object} [options] - Options for the Task. See /{subdirectory}/apidocs/#/service-info/Pll/CaseTask\n   * @return {Object} Returns Promise that represents an object describing CaTaskItemBase.\n   */\n   addTask(caObjectId: number, taskId: number, startPoint: number, endPoint: number, options?: Object) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaObjectId: caObjectId,\n        TaskId: taskId,\n        StartPoint: startPoint,\n        EndPoint: endPoint\n      }\n      if(typeof(options)!='undefined') {\n        data = _.merge(data, options)\n      }\n      this.cw.runRequest('Pll/CaseTask/Add', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Add Task Result\n   *\n   * @category Task Results\n   * @param {number} caObjectId - The Case Object to attach the task to\n   * @param {number} caTaskId - The Case task ID to add the result to\n   * @param {number} resultCode - The result Code\n   * @param {number} resultID - The result ID\n   * @param {number} resultSetID - The result set ID\n   * @param {Object} [options] - Options for the Task. See /{subdirectory}/apidocs/#/service-info/Pll/CaseTaskResults\n   * @return {Object} Returns Promise that represents an object describing CaTaskResultsItem.\n   */\n   addTaskResult(caObjectId: number, caTaskId: number, resultCode: number, resultID: number, resultSetID: number, options?: Object) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaObjectId: caObjectId,\n        CaTaskId: caTaskId,\n        ResultCode: resultCode,\n        ResultID: resultID,\n        ResultSetID: resultSetID\n      }\n      if(typeof(options)!='undefined') {\n        data = _.merge(data, options)\n      }\n      this.cw.runRequest('Pll/CaseTaskResults/Add', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Add Task Comment\n   *\n   * @category Comments\n   * @param {number} caTaskId - The Case task ID of the task to add the comment to\n   * @param {string} comment - The comment text\n   * @return {Object} Returns Promise that represents an object describing CaTaskCommentsItemBase.\n   */\n   addTaskComment(caTaskId: number, comment: string) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaTaskId: caTaskId,\n        CommentText: comment\n      }\n      this.cw.runRequest('Pll/CaseTaskComments/Add', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get tasks by CaObjectId\n   *\n   * @category Tasks\n   * @param {number} caObjectId - The Case Object to get the attached tasks\n   * @param {boolean} checkRelatedItems - Wherther to check related items. Defaults to false.\n   * @return {Object} Returns Promise that represents a collection of the CaTaskItemBases.\n   */\n   getTasksByCaseId(caObjectId: number, checkRelatedItems: boolean = false) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaObjectId: caObjectId,\n        CheckRelatedItems: checkRelatedItems\n      }\n      this.cw.runRequest('Pll/CaseTask/ByCaObjectId', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get tasks by TaskIds\n   *\n   * @category Tasks\n   * @param {Array<number>} caTaskIds - The IDs of the tasks to retrieve\n   * @param {boolean} checkRelatedItems - Wherther to check related items. Defaults to false.\n   * @return {Object} Returns Promise that represents a collection of the CaTaskItemBases.\n   */\n   getTasksById(caTaskIds: Array<number>, checkRelatedItems: boolean = false) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaTaskIds: caTaskIds,\n        CheckRelatedItems: checkRelatedItems\n      }\n      this.cw.runRequest('Pll/CaseTask/ByIds', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get CaTaskResultsItem by CaTaskIds\n   *\n   * @category Task Results\n   * @param {Array<number>} caTaskIds - The IDs of the tasks for which to retrieve results\n   * @return {Object} Returns Promise that represents a collection of CaTaskResultsItems.\n   */\n   getResultsByTaskId(caTaskIds: Array<number>) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaTaskIds: caTaskIds\n      }\n      this.cw.runRequest('Pll/CaseTaskResults/ByCaTaskIds', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Search for CaseTaskComments by CaTaskId\n   *\n   * @category Comments\n   * @param {number} caTaskId - The task ID for which to retrieve attached comments\n   * @return {Object} Returns Promise that represents a collection of CommentRecords.\n   */\n   getCommentsForTask(caTaskId: number) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        caTaskId: caTaskId\n      }\n      this.cw.runRequest('Pll/CaseTaskComments/ByCaTaskId', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Search for CaseTaskComments by CaTaskId\n   *\n   * @category Comments\n   * @param {Array<number>} caTaskIds - The task IDs for which to retrieve attached comments\n   * @return {Object} Returns Promise that represents a collection of CaTaskCommentsItemBase.\n   */\n   getCommentsForTasks(caTaskIds: Array<number>) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        caTaskIds: caTaskIds\n      }\n      this.cw.runRequest('Pll/CaseTaskComments/ByCaTaskIds', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Updates a task\n   *\n   * @category Tasks\n   * @param {number} caTaskId - The Case Object to attach the task to\n   * @param {Object} [options] - Options for Task. See /{subdirectory}/apidocs/#/service-info/Pll/CaseTask\n   * @return {Object} Returns Promise that represents an object describing CaTaskItemBase.\n   */\n   updateTask(caTaskId: number, options?: Object) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaTaskId: caTaskId\n      }\n      if(typeof(options)!='undefined') {\n        data = _.merge(data, options)\n      }\n      this.cw.runRequest('Pll/CaseTask/Update', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Update Task Comment\n   *\n   * @category Comments\n   * @param {number} caTaskCommentId - The Case task ID of the task to add the comment to\n   * @param {string} comment - The comment text\n   * @param {number} commentId - Probably unnecessary?\n   * @return {Object} Returns Promise that represents an object describing CaTaskCommentsItemBase.\n   */\n   updateTaskComment(caTaskCommentId: number, comment: string, commentId?: number) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaTaskCommentId: caTaskCommentId,\n        CommentText: comment\n      }\n      if(typeof(commentId)!='undefined') {\n        _.set(data, 'CommentId', commentId)\n      }\n      this.cw.runRequest('Pll/CaseTaskComments/Update', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Updates a task\n   *\n   * @category Tasks\n   * @param {number} caTaskId - The Case Object to attach the task to\n   * @param {string} resultCode - The result code to set for the specified Task\n   * @param {Object} [options] - Options for Task. Specify either or both TaskCompletedBy & TaskCompleteDate. See /{subdirectory}/apidocs/#/service-info/Pll/CaseTask\n   * @return {Object} Returns Promise that represents an object describing CaTaskItemBase.\n   */\n   setTaskResult(caTaskId: number, resultCode: string, options?: Object) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaTaskId: caTaskId\n      }\n      if(_.intersectionBy(_.keysIn(options), ['TaskCompleteDate', 'TaskCompletedBy']).length==0) {\n        reject(new CWError(2, 'At least one of the attributes (TaskCompletedBy, TaskCompleteDate) must be defined.'))\n      }\n      if(typeof(options)!='undefined') {\n        data = _.merge(data, options)\n      }\n      this.cw.runRequest('Pll/CaseTask/SetResult', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Deletes a task by TaskID\n   *\n   * @category Tasks\n   * @param {number} caTaskId - The caTaskId for the task which should be deleted\n   * @return {Object} Returns Promise that represents an object describing CaTaskItemBase.\n   */\n   deleteTask(caTaskId: number) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaTaskId: caTaskId\n      }\n      this.cw.runRequest('Pll/CaseTask/Delete', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Deletes a task by TaskID\n   *\n   * @category Tasks\n   * @param {number} caTaskId - The caTaskId for the task which should be deleted\n   * @return {Object} Returns Promise that represents the number of the CaObjectID\n   */\n   deleteTasksOnCase(caObjectId: number) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaObjectId: caObjectId\n      }\n      this.cw.runRequest('Pll/CaseTask/DeleteByCaObjectId', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Deletes tasks by TaskID\n   *\n   * @category Comments\n   * @param {Array<number>} caTaskCommentIds - The comments to delete\n   * @return {Object} Returns Promise that represents a dictionary of comment IDs.\n   */\n   deleteTaskComments(caTaskCommentIds: Array<number>) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaTaskCommentIds: caTaskCommentIds\n      }\n      this.cw.runRequest('Pll/CaseTaskComments/Delete', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Search for Case Tasks. Include one or more of the search fields. A logical 'and' operation is applied to muliple search fields\n   *\n   * @category Tasks\n   * @param {Object} filters - The parameters to search by. (ResponsibleUserId, TaskAvailable, TaskComplete, TaskType)\n   * @return {Object} Returns Promise that represents a collection of resulting CaTaskIDs\n   */\n   searchForTasks(filters?: Object) {\n    return new Promise((resolve, reject) => {\n      if(_.intersectionBy(_.keysIn(filters), ['ResponsibleUserId', 'TaskAvailable', 'TaskComplete', 'TaskType']).length==0) {\n        reject(new CWError(1, 'At least one of the attributes (ResponsibleUserId, TaskAvailable, TaskComplete, TaskType) must be defined.'))\n      }\n      var data = filters\n      this.cw.runRequest('Pll/CaseTask/Search', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Search for CaseTaskResults Objects. Include one or more of the search fields. A logical 'and' operation is applied to muliple search fields\n   *\n   * @category Task Results\n   * @param {Object} filters - The parameters to search by. See: /{subdirectory}/apidocs/#/service-info/Pll/CaseTaskResults\n   * @return {Object} Returns Promise that represents a collection of resulting CaTaskResultsItem\n   */\n   searchForTaskResults(filters?: Object) {\n    return new Promise((resolve, reject) => {\n      var data = filters\n      this.cw.runRequest('Pll/CaseTaskResults/Search', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n     * Adds a task to the case specified by the CaObectId.\n     *\n     * @category Task Attachments\n     * @param {number} caTaskId - The Task ID to attach the document to\n     * @param {number} caObjectId - The Case Object ID\n     * @param {string} docName - The file name as it should display in the system\n     * @param {string} locationType - The location of the file...leave blank\n     * @param {any} file - The binary string for the file\n     * @return {Object} Returns Promise that represents an object describing added Attachment\n     */\n  addTaskAttachment(caTaskId: number, caObjectId: number, docName: number, file: any, locationType?: string) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaObjectId: caObjectId,\n        CaTaskId: caTaskId,\n        DocName: docName\n      }\n      if(typeof(locationType)!='undefined') {\n        _.set(data, 'LocationType', locationType)\n      }\n      this.cw.runRequest('Pll/CaseRelDocs/AddTaskRelDoc', data, file).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n     * Gets each Document Attached to the specified Task\n     *\n     * @category Task Attachments\n     * @param {number} caTaskId - The Task ID to attach the document to\n     * @return {Object} Returns Promise that represents a collection of objects describing each Attachment on the provided task\n     */\n  getTaskAttachments(caTaskId: number) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaTaskId: caTaskId\n      }\n      this.cw.runRequest('Pll/CaseRelDocs/ByCaTaskId', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Deletes a task attachment by caRelDocId (Related Case Document ID). Same as RelDocs delete for case.\n   *\n   * @category Task Attachments\n   * @param {number} caRelDocId - The caRelDocId for the related document which should be deleted\n   * @return {Object} Returns Promise that represents the an object describing the deleted document.\n   */\n  deleteTaskAttachment(caRelDocId: number) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaRelDocId: caRelDocId\n      }\n      this.cw.runRequest('PLL/CaseRelDocs/Delete', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n}\n\n\n\n","import { CWError } from './error'\nconst _ = require('lodash')\n\nexport class CaseAdmin {\n  /**\n   * @hidden\n   */\n  cw: any\n\n  /**\n   * @hidden\n   */\n  constructor(cw) {\n    this.cw = cw\n  }\n\n  /**\n   * Add Business Case Template\n   *\n   * @category Case Templates\n   * @param {Object} data - The Business Case Template options.\n   * @return {Object} Returns Promise that represents an object describing the created case template. See: /{subdirectory}/apidocs/#/data-type-info;dataType=BusinessCaseItem\n   */\n  addBusinessCaseTemplate(data: Object) {\n    return new Promise((resolve, reject) => {\n      this.cw.runRequest('Pll/BusinessCase/Add', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Update Business Case Template\n   *\n   * @category Case Templates\n   * @param {number} busCaseId - The Business Case ID to update\n   * @param {Object} data - The Business Case Template options.\n   * @return {Object} Returns Promise that represents an object describing the updated case template. See: /{subdirectory}/apidocs/#/data-type-info;dataType=BusinessCaseItem\n   */\n  updateBusinessCaseTemplate(busCaseId: number, options: Object) {\n    return new Promise((resolve, reject) => {\n      var data_init = {\n        BusCaseId: busCaseId\n      }\n      var data = _.merge(data_init, options)\n      this.cw.runRequest('Pll/BusinessCase/Update', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get Business Case Templates\n   *\n   * @category Case Templates\n   * @return {Object} Returns Promise that represents a collection of Business Case Templates\n   */\n  getBusinessCaseTemplates() {\n    return new Promise((resolve, reject) => {\n      var data = {}\n      this.cw.runRequest('Pll/BusinessCase/GetList', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Add Case Type\n   *\n   * @category Types & SubTypes\n   * @param {string} caseTypeName - The case type name\n   * @param {string} caseTypeDesciption - The case type description\n   * @param {Object} options - The other options for the Case Type\n   * @return {Object} Returns Promise that represents an object describing the added case type\n   */\n  addCaseType(caseTypeName: string, caseTypeDesciption: string, options: Object) {\n    return new Promise((resolve, reject) => {\n      var data_init = {\n        CaseType: caseTypeName,\n        CaseTypeDesciption: caseTypeDesciption\n      }\n      var data = _.merge(data_init, options)\n      this.cw.runRequest('Pll/CaseType/Add', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Update Case Type\n   *\n   * @category Types & SubTypes\n   * @param {number} caseTypeId - The case Type ID\n   * @param {Object} options - The other options for the Case Type\n   * @return {Object} Returns Promise that represents an object describing the updated case type\n   */\n  updateCaseType(caseTypeId: number, options?: Object) {\n    return new Promise((resolve, reject) => {\n      var data_init = {\n        CaseTypeId: caseTypeId\n      }\n      var data = _.merge(data_init, options)\n      this.cw.runRequest('Pll/CaseType/GetList', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get Case Types\n   *\n   * @category Types & SubTypes\n   * @return {Object} Returns Promise that represents a collection of CaseTypeItems\n   */\n  getCaseTypes() {\n    return new Promise((resolve, reject) => {\n      var data = {}\n      this.cw.runRequest('Pll/CaseType/GetList', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Search for CaseTypes. Include at least one of the search fields. A logical 'and' operation is applied for multiple search fields.\n   *\n   * @category Types & SubTypes\n   * @param {Object} filters - The parameter(s) to search by (CaseType, CaseTypeDesc, CaseTypeId)\n   * @return {Object} Returns Promise that represents an Array of CaseTypeIDs\n   */\n  searchCaseTypeIDs(filters: Object) {\n    return new Promise((resolve, reject) => {\n      if(_.intersectionBy(_.keysIn(filters), ['CaseType', 'CaseTypeDesc', 'CaseTypeId']).length==0) {\n        reject(new CWError(2, 'At least one of the attributes (CaFeeId, CaObjectId, FeeCode, FeeDesc) must be defined.'))\n      }\n      var data = filters\n      this.cw.runRequest('Pll/CaseType/Search', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Search for CaseTypes. Include at least one of the search fields. A logical 'and' operation is applied for multiple search fields.\n   *\n   * @category Types & SubTypes\n   * @param {Object} filters - The parameter(s) to search by (CaseType, CaseTypeDesc, CaseTypeId)\n   * @return {Object} Returns Promise that represents a collection of CaseTypeItems. See: /{subdirectory}/apidocs/#/data-type-info;dataType=CaseTypeItem\n   */\n  searchCaseTypeObjects(filters: Object) {\n    return new Promise((resolve, reject) => {\n      if(_.intersectionBy(_.keysIn(filters), ['CaseType', 'CaseTypeDesc', 'CaseTypeId']).length==0) {\n        reject(new CWError(3, 'At least one of the attributes (CaseType, CaseTypeDesc, CaseTypeId) must be defined.'))\n      }\n      var data = filters\n      this.cw.runRequest('Pll/CaseType/SearchObject', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Add SubType\n   *\n   * @category Types & SubTypes\n   * @param {string} subTypeName - The SubTypeId\n   * @param {string} subTypeDescription - The SubTypeId\n   * @param {Object} options - Other SubType options.\n   * @return {Object} Returns Promise that represents an object describing the added SubTypeItem. See: /{subdirectory}/apidocs/#/data-type-info;dataType=SubTypeItem\n   */\n  addSubtype(subTypeName: string, subTypeDescription: string, options?: Object) {\n    return new Promise((resolve, reject) => {\n      var data_init = {\n        SubType: subTypeName,\n        SubTypeDesc: subTypeDescription\n      }\n      var data = _.merge(data_init, options)\n      this.cw.runRequest('Pll/SubType/Add', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Update SubType\n   *\n   * @category Types & SubTypes\n   * @param {number} subTypeId - The SubTypeId\n   * @param {Object} options - The case Object ID\n   * @return {Object} Returns Promise that represents an object describing the updated SubTypeItem. See: /{subdirectory}/apidocs/#/data-type-info;dataType=SubTypeItem\n   */\n  updateSubtype(subTypeId: number, options?: Object) {\n    return new Promise((resolve, reject) => {\n      var data_init = {\n        SubTypeId: subTypeId\n      }\n      var data = _.merge(data_init, options)\n      this.cw.runRequest('Pll/SubType/Update', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get SubTypes\n   *\n   * @category Types & SubTypes\n   * @return {Object} Returns Promise that represents a collection of SubTypeItems. See: /{subdirectory}/apidocs/#/data-type-info;dataType=SubTypeItem\n   */\n  getSubtypes() {\n    return new Promise((resolve, reject) => {\n      var data = {}\n      this.cw.runRequest('Pll/SubType/GetList', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get all Fees\n   *\n   * @category Fees\n   * @return {Object} Returns Promise that represents an object describing the added DepartmentItem. See: /{subdirectory}/apidocs/#/data-type-info;dataType=DepartmentItem\n   */\n  getFees() {\n    return new Promise((resolve, reject) => {\n      var data = {}\n      this.cw.runRequest('Pll/FeeSetup/All', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Search for Fees. Include at least one of the search fields. A logical 'and' operation is applied for multiple search fields.\n   *\n   * @param {Object} filters - The parameter(s) to search by (AccountCode, FeeCode, FeeDesc, FeeSetupId, FeeTypeId).\n   * @return {Object} Returns Promise that represents an Array of FeeSetupIDs\n   */\n  searchFees(filters: {AccountCode?: string, FeeCode?: string, FeeDesc?: string, FeeSetupId?: number, FeeTypeId?: number}) {\n    return new Promise((resolve, reject) => {\n      if(_.intersectionBy(_.keysIn(filters), ['AccountCode', 'FeeCode', 'FeeDesc', 'FeeSetupId', 'FeeTypeId']).length==0) {\n        reject(new CWError(4, 'At least one of the attributes (AccountCode, FeeCode, FeeDesc, FeeSetupId, FeeTypeId) must be defined.'))\n      }\n      var data = filters\n      this.cw.runRequest('Pll/FeeSetup/Search', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get all Expirations\n   *\n   * @category Expirations\n   * @return {Object} Returns Promise that represents a collection of ExpirationTypeItems. See: /{subdirectory}/apidocs/#/data-type-info;dataType=ExpirationTypeItem\n   */\n  getExpirations() {\n    return new Promise((resolve, reject) => {\n      var data = {}\n      this.cw.runRequest('Pll/ExpirationType/GetList', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Add an Expiration type\n   *\n   * @category Expirations\n   * @param {Object} options - Must specify OrgId and ExpirationDescType attributes. See: /{subdirectory}/apidocs/#/service-info/Pll/ExpirationType\n   * @return {Object} Returns Promise that represents an object describing the newly-added ExpirationTypeItem. See: /{subdirectory}/apidocs/#/data-type-info;dataType=ExpirationTypeItem\n   */\n  addExpiration(options?: Object) {\n    return new Promise((resolve, reject) => {\n      if(!_.has(options, 'OrgId') || !_.has(options, 'ExpirationTypeDesc')) {\n        reject(new CWError(5, 'OrgId and ExpirationTypeDesc must both be defined.'))\n      }\n      var data = options\n      this.cw.runRequest('Pll/ExpirationType/Add', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get all Deposits\n   *\n   * @category Deposits\n   * @return {Object} Returns Promise that represents a collection of DepositItems. See: /{subdirectory}/apidocs/#/data-type-info;dataType=DepositItemBase\n   */\n  getDeposits() {\n    return new Promise((resolve, reject) => {\n      var data = {}\n      this.cw.runRequest('Pll/Deposit/All', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Search Deposits. Include at least one of the search fields. A logical 'and' operation is applied for multiple search fields.\n   *\n   * @param {Object} filters - The parameter(s) to search by (AccountCode, DepositCode, DepositDesc, DepositId, DepositTypeId).\n   * @return {Object} Returns Promise that represents an Array of FeeSetupIDs\n   */\n  searchDeposits(filters: {AccountCode?: string, DepositCode?: string, DepositDesc?: string, DepositId?: number, DepositTypeId?: number}) {\n    return new Promise((resolve, reject) => {\n      if(_.intersectionBy(_.keysIn(filters), ['AccountCode', 'DepositCode', 'DepositDesc', 'DepositId', 'DepositTypeId']).length==0) {\n        reject(new CWError(4, 'At least one of the attributes (AccountCode, DepositCode, DepositDesc, DepositId, DepositTypeId) must be defined.'))\n      }\n      var data = filters\n      this.cw.runRequest('Pll/Deposit/Search', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get all Disciplines\n   *\n   * @category Disciplines\n   * @return {Object} Returns Promise that represents a collection of DisciplineItems. See: /{subdirectory}/apidocs/#/data-type-info;dataType=DisciplineItem\n   */\n  getDisciplines() {\n    return new Promise((resolve, reject) => {\n      var data = {}\n      this.cw.runRequest('Pll/Discipline/All', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Add Department\n   *\n   * @category Departments & Divisions\n   * @param {string} departmentCode - The SubTypeId\n   * @param {string} departmentName - The SubTypeId\n   * @param {Object} options - Other SubType options.\n   * @return {Object} Returns Promise that represents an object describing the added DepartmentItem. See: /{subdirectory}/apidocs/#/data-type-info;dataType=DepartmentItem\n   */\n  addDepartment(departmentCode: string, departmentName: string, options?: Object) {\n    return new Promise((resolve, reject) => {\n      var data_init = {\n        DepartmentCode: departmentCode,\n        DepartmentName: departmentName\n      }\n      var data = _.merge(data_init, options)\n      this.cw.runRequest('Pll/Department/Add', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get Departments\n   *\n   * @category Departments & Divisions\n   * @return {Object} Returns Promise that represents a collection of SubTypeItems. See: /{subdirectory}/apidocs/#/data-type-info;dataType=DepartmentItem\n   */\n  getDepartments() {\n    return new Promise((resolve, reject) => {\n      var data = {}\n      this.cw.runRequest('Pll/Department/GetList', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Add Division\n   *\n   * @category Departments & Divisions\n   * @return {Object} Returns Promise that represents an object describing the newly-added DivisionItem. See: /{subdirectory}/apidocs/#/data-type-info;dataType=DivisionItem\n   */\n  addDivision(departmentId: number, divisionName: string, options?: Object) {\n    return new Promise((resolve, reject) => {\n      var data_init = {\n        DepartmentId: departmentId,\n        DivisionName: divisionName\n      }\n      var data = _.merge(data_init, options)\n      this.cw.runRequest('Pll/Division/Add', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get all Divisions\n   *\n   * @category Departments & Divisions\n   * @return {Object} Returns Promise that represents a collection of DivisionItems. See: /{subdirectory}/apidocs/#/data-type-info;dataType=DivisionItem\n   */\n  getDivisions() {\n    return new Promise((resolve, reject) => {\n      var data = {}\n      this.cw.runRequest('Pll/Division/GetList', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Add Holiday\n   *\n   * @category Holidays\n   * @return {Object} Returns Promise that represents an object describing the newly-added DivisionItem. See: /{subdirectory}/apidocs/#/data-type-info;dataType=HolidaysItem\n   */\n  addHoliday(holidayDate: Date, holidayDesc: string, halfDayFlag?: string) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        HolidayDate: holidayDate,\n        HolidayDesc: holidayDesc\n      }\n      if(typeof(halfDayFlag)!='undefined') {\n        _.set(data, 'HalfDayFlag', halfDayFlag)\n      }\n      this.cw.runRequest('Pll/Holiday/Add', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Delete Holiday\n   *\n   * @category Holidays\n   * @param {number} holidayId - ID of Holiday to delete\n   * @return {Object} Returns Promise that represents an object describing the newly-added HolidaysItem. See: /{subdirectory}/apidocs/#/data-type-info;dataType=HolidaysItem\n   */\n  deleteHoliday(holidayId: number) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        HolidayId: holidayId\n      }\n      this.cw.runRequest('Pll/Holiday/Delete', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get all Holidays\n   *\n   * @category Holidays\n   * @return {Object} Returns Promise that represents a collection of HolidaysItems. See: /{subdirectory}/apidocs/#/data-type-info;dataType=HolidaysItem\n   */\n  getHolidays() {\n    return new Promise((resolve, reject) => {\n      var data = {}\n      this.cw.runRequest('Pll/Holiday/GetList', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Add Inspection Time Block\n   *\n   * @category Inspections\n   * @param {string} labelText - Label for the time block\n   * @param {string} startTime - Start time in 24 hour format (HH:mm)\n   * @param {string} endTime - End time in 24 hour format (HH:mm)\n   * @param {Object} inspTimeBlocksDetails - See: /{subdirectory}/apidocs/#/data-type-info;dataType=InspTimeBlocksDetailItem\n   * @return {Object} Returns Promise that represents an object describing the newly-added InspectionTimeBlocksItem. See: /{subdirectory}/apidocs/#/data-type-info;dataType=InspectionTimeBlocksItem\n   */\n  addInspectionTimeBlock(labelText: string, startTime: string, endTime: string, inspTimeBlocksDetails?: Object) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        LabelText: labelText,\n        StartTime: startTime,\n        EndTime: endTime\n      }\n      if(typeof(inspTimeBlocksDetails)!='undefined') {\n        _.set(data, 'InspTimeBlocksDetails', inspTimeBlocksDetails)\n      }\n      this.cw.runRequest('Pll/InspectionTimeBlock/Add', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get all Inspection Time Blocks\n   *\n   * @category Inspections\n   * @return {Object} Returns Promise that represents a collection of InspectionTimeBlocksItems. See: /{subdirectory}/apidocs/#/data-type-info;dataType=InspectionTimeBlocksItem\n   */\n  getInspectionTimeBlocks() {\n    return new Promise((resolve, reject) => {\n      var data = {}\n      this.cw.runRequest('Pll/InspectionTimeBlock/GetList', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get all NotificationCases\n   *\n   * @category Notifications\n   * @return {Object} Returns Promise that represents a collection of NotificationCaseItems. See: /{subdirectory}/apidocs/#/data-type-info;dataType=NotificationCaseItem\n   */\n  getNotificationCases() {\n    return new Promise((resolve, reject) => {\n      var data = {}\n      this.cw.runRequest('Pll/NotificationCase/GetNotificationCaseList', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get all Notification Types\n   *\n   * @category Notifications\n   * @return {Object} Returns Promise that represents a collection of NotificationCaseItems. See: /{subdirectory}/apidocs/#/data-type-info;dataType=NotificationTypeItem\n   */\n  getNotificationTypes() {\n    return new Promise((resolve, reject) => {\n      var data = {}\n      this.cw.runRequest('Pll/NotificationType/GetNotificationTypeList', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Add Numbering Group\n   *\n   * @category NumberingGroups\n   * @param {number} options - attributes or update\n   * @return {Object} Returns Promise that represents an object describing the newly-added NumberingGroupItem. See: /{subdirectory}/apidocs/#/data-type-info;dataType=NumberingGroupItem\n   */\n  addNumberingGroup(options: Object) {\n    return new Promise((resolve, reject) => {\n      var data = options\n      this.cw.runRequest('Pll/NumberingGroup/Add', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Update Numbering Group\n   *\n   * @category NumberingGroups\n   * @param {number} numberingGroupId - ID of NumberGroup to update\n   * @param {number} options - updates attributes\n   * @return {Object} Returns Promise that represents an object describing the newly-added HolidaysItem. See: /{subdirectory}/apidocs/#/data-type-info;dataType=NumberingGroupItem\n   */\n  updateNumberingGroup(numberingGroupId: number, options?: Object) {\n    return new Promise((resolve, reject) => {\n      var data_init = {\n        NumberingGroupId: numberingGroupId\n      }\n      var data = _.merge(data_init, options)\n      this.cw.runRequest('Pll/NumberingGroup/Update', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get all Numbering Groups\n   *\n   * @category NumberingGroups\n   * @return {Object} Returns Promise that represents a collection of NumberingGroupItems. See: /{subdirectory}/apidocs/#/data-type-info;dataType=NumberingGroupItem\n   */\n  getNumberingGroups() {\n    return new Promise((resolve, reject) => {\n      var data = {}\n      this.cw.runRequest('Pll/NumberingGroup/GetList', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Add Person\n   *\n   * @category People\n   * @param {string} name - Name of person\n   * @param {Object} options - attributes for new person\n   * @return {Object} Returns Promise that represents an object describing the newly-added NumberingGroupItem. See: /{subdirectory}/apidocs/#/data-type-info;dataType=NumberingGroupItem\n   */\n  addPerson(name: string, options: Object) {\n    return new Promise((resolve, reject) => {\n      var data_init = {\n        Name: name\n      }\n      var data = _.merge(options, data_init)\n      this.cw.runRequest('Pll/People/Add', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get all People\n   *\n   * @category People\n   * @return {Object} Returns Promise that represents a collection of PeopleItems. See: /{subdirectory}/apidocs/#/data-type-info;dataType=PeopleItem\n   */\n  getPeople() {\n    return new Promise((resolve, reject) => {\n      var data = {}\n      this.cw.runRequest('Pll/People/GetList', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Add People Role\n   *\n   * @category People\n   * @param {string} name - Name of person\n   * @param {Object} options - attributes for new person. See: /{subdirectory}/apidocs/#/service-info/Pll/PeopleRole\n   * @return {Object} Returns Promise that represents an object describing the newly-added PeopleRoleItem. See: /{subdirectory}/apidocs/#/data-type-info;dataType=PeopleRoleItem\n   */\n  addPeopleRole(roleCode: string, options: Object) {\n    return new Promise((resolve, reject) => {\n      var data_init = {\n        RoleCode: roleCode\n      }\n      var data = _.merge(options, data_init)\n      this.cw.runRequest('Pll/People/Add', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get all PeopleRoles\n   *\n   * @category People\n   * @return {Object} Returns Promise that represents a collection of PeopleRoleItems. See: /{subdirectory}/apidocs/#/data-type-info;dataType=PeopleRoleItem\n   */\n  getPeopleRoles() {\n    return new Promise((resolve, reject) => {\n      var data = {}\n      this.cw.runRequest('Pll/PeopleRole/GetList', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Add TaskResultDetail\n   *\n   * @category TaskResults\n   * @param {Object} options - attributes for new TaskResultDetail. See: /{subdirectory}/apidocs/#/service-info/Pll/TaskResultDetail\n   * @return {Object} Returns Promise that represents an object describing the newly-added TaskResultDetailItem. See: /{subdirectory}/apidocs/#/data-type-info;dataType=TaskResultDetailItem\n   */\n  addTaskResultDetail(options: Object) {\n    return new Promise((resolve, reject) => {\n      var data = options\n      this.cw.runRequest('Pll/TaskResultDetail/Add', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Update TaskResultDetail\n   *\n   * @category TaskResults\n   * @param {string} resultDetailId - Result Detail ID\n   * @param {Object} options - attributes for new person. See: /{subdirectory}/apidocs/#/service-info/Pll/TaskResultDetail\n   * @return {Object} Returns Promise that represents an object describing the newly-added TaskResultDetailItem. See: /{subdirectory}/apidocs/#/data-type-info;dataType=TaskResultDetailItem\n   */\n  updateTaskResultDetail(resultDetailId: number, options: Object) {\n    return new Promise((resolve, reject) => {\n      var data_init = {\n        ResultDetailId: resultDetailId\n      }\n      var data = _.merge(options, data_init)\n      this.cw.runRequest('Pll/TaskResultDetail/Add', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get all TaskResultDetails\n   *\n   * @category TaskResults\n   * @return {Object} Returns Promise that represents a collection of PeopleRoleItems. See: /{subdirectory}/apidocs/#/data-type-info;dataType=PeopleRoleItem\n   */\n  getTaskResultDetails() {\n    return new Promise((resolve, reject) => {\n      var data = {}\n      this.cw.runRequest('Pll/TaskResultDetail/GetList', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Add TaskResultFeeInsert\n   *\n   * @category TaskResults\n   * @param {Object} options - attributes for new TaskResultFeeInsert. See: /{subdirectory}/apidocs/#/service-info/Pll/TaskResultFeeInsert\n   * @return {Object} Returns Promise that represents an object describing the newly-added TaskResultFeeInsertItem. See: /{subdirectory}/apidocs/#/data-type-info;dataType=TaskResultFeeInsertItem\n   */\n  addTaskResultFeeInsert(options: Object) {\n    return new Promise((resolve, reject) => {\n      var data = options\n      this.cw.runRequest('Pll/TaskResultFeeInsert/Add', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Delete TaskResultFeeInsert\n   *\n   * @category TaskResults\n   * @param {number} taskResultFeeInsertId - ID for TaskResultFeeInsert to be deleted.\n   * @return {Object} Returns Promise that represents the ID Number of the deleted TaskResultFeeInsertItem.\n   */\n   deleteTaskResultFeeInsert(taskResultFeeInsertId: number) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        TaskResultFeeInsertId: taskResultFeeInsertId\n      }\n      this.cw.runRequest('Pll/TaskResultFeeInsert/Delete', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Delete TaskResultFeeInsert(s) by Task ID\n   *\n   * @category TaskResults\n   * @param {number} taskId - ID for Task parent of TaskResultFeeInsert(s) to be deleted.\n   * @return {Object} Returns Promise that represents the ID Number of the Task parent of the deleted TaskResultFeeInsertItem(s).\n   */\n   deleteTaskResultFeeInsertByTaskId(taskId: number) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        TaskId: taskId\n      }\n      this.cw.runRequest('Pll/TaskResultFeeInsert/DeleteByTaskId', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Update TaskResultFeeInsert\n   *\n   * @category TaskResults\n   * @param {number} taskResultFeeInsertId - ID for TaskResultFeeInsert to be updated.\n   * @param {number} taskId - Updated TaskID\n   * @param {number} taskResultId - Updated TaskResultId\n   * @param {number} [feeSetupId] - Fee setup ID update for TaskResultFeeInsert\n   * @return {Object} Returns Promise that represents the ID Number of the updated TaskResultFeeInsertItem.\n   */\n   updateTaskResultFeeInsert(taskResultFeeInsertId: number, taskId: number, taskResultId: number, feeSetupId?: number) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        TaskResultFeeInsertId: taskResultFeeInsertId,\n        TaskId: taskId,\n        TaskResultId: taskResultId\n      }\n      if(typeof(feeSetupId)!='undefined') {\n        _.set(data, 'FeeSetupId', feeSetupId)\n      }\n      this.cw.runRequest('Pll/TaskResultFeeInsert/Update', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n\n  /**\n   * Get all TaskResultFeeInsert\n   *\n   * @category TaskResults\n   * @return {Object} Returns Promise that represents a collection of TaskResultFeeInsertItems. See: /{subdirectory}/apidocs/#/data-type-info;dataType=TaskResultFeeInsertItem\n   */\n  getTaskResultFeeInsert() {\n    return new Promise((resolve, reject) => {\n      var data = {}\n      this.cw.runRequest('Pll/TaskResultFeeInsert/GetList', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n}\n","import { CWError } from './error'\n\nconst _ = require('lodash')\n\nexport class CaseAssets {\n  /**\n   * @hidden\n   */\n  cw: any\n\n  /**\n   * @hidden\n   */\n  constructor(cw) {\n    this.cw = cw\n  }\n\n  /**\n   * Attach asset to case\n   *\n   * @category Case Assets\n   * @param {number} caObjectId - The Case Object to attach the data group to.\n   * @param {boolean} updateXY - Whether or not to update the Case's X/Y values when attaching the asset. Defaults to true.\n   * @param {Object} [options] - Options for CaseDataGroup including Address, AddressId, AssetId, AssetObjectId, AssetType, CityName, CrossStreet, DateExpired, ExpiredFlag, Facility_Id, FeatureAssetId, FeatureClass, FeatureObjectId, LegacyId, Level_Id, LndObjectId, Location, MasterFlag, ObjectId, StateCode, StreetDirection, StreetFraction, StreetName, StreetNumber, StreetPostDir, StreetType, Suite, TileNo, UpdateCaseData, XCoord, YCoord, ZCoord, and ZipCode\n   * @return {Object} Returns Promise that represents an object describing CaAddress.\n   */\n   attach(caObjectId: number, updateXY: boolean = true, options?: {Address?: string, AddressId?: number, AssetId?: string, AssetObjectId?: number, AssetType?: string, CityName?: string, CrossStreet?: string, DateExpired?: string, ExpiredFlag?: string, Facility_Id?: string, FeatureAssetId?: string, FeatureClass?: string, FeatureObjectId?: number, LegacyId?: string, Level_Id?: string, LndObjectId?: number, Location?: string, MasterFlag?: string, ObjectId?: string, StateCode?: string, StreetDirection?: string, StreetFraction?: string, StreetName?: string, StreetNumber?: number, StreetPostDir?: string, StreetType?: string, Suite?: string, TileNo?: string, UpdateCaseData?: boolean, XCoord?: number, YCoord?: number, ZCoord?: number, ZipCode?: string}) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaObjectId: caObjectId,\n        UpdateXY: updateXY\n      }\n      if(typeof(options)!='undefined') {\n        data = _.merge(data, options)\n      }\n      this.cw.runRequest('Pll/CaseAddress/Add', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Detach specific asset from case\n   *\n   * @category Case Assets\n   * @param {number} caObjectId - The Case Object to attach the data group to.\n   * @param {boolean} updateXY - Whether or not to update the Case's X/Y values when detaching the assets. Defaults to true.\n   * @return {Object} Returns Promise that represents a collection of the default CaDataGroupItemBases.\n   */\n  detach(caAddressId: number, updateXY: boolean = true) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaAddressId: caAddressId,\n        UpdateXY: updateXY\n      }\n      this.cw.runRequest('Pll/CaseAddress/Delete', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Detach all assets from case\n   *\n   * @category Case Assets\n   * @param {number} caObjectId - The Case Object to detach the assets from.\n   * @param {boolean} updateXY - Whether or not to update the Case's X/Y values when detaching the asset(s). Defaults to false.\n   * @return {Object} Returns Promise that represents a collection of detached CaAddressIds.\n   */\n  detachAll(caObjectId: number, updateXY: boolean = false) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaObjectId: caObjectId,\n        UpdateXY: updateXY\n      }\n      this.cw.runRequest('Pll/CaseAddress/DeleteByCaObjectId', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get assets attached to a specific case\n   *\n   * @category Case Assets\n   * @param {number} caObjectId - The Case Object from which to get attached assets\n   * @return {Object} Returns Promise that represents a collection of the default CaAddresses.\n   */\n  getForCase(caObjectId: number) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        CaObjectId: caObjectId\n      }\n      this.cw.runRequest('Pll/CaseAddress/ByCaObjectId', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n\n  /**\n   * Search for Case Assets. Include one or more of the search fields. A logical 'and' operation is applied to muliple search fields\n   *\n   * @category Case Assets\n   * @param {Object} filters - The parameters to search by. (AssetType, CaAddressId, CaObjectId, CityName, ExpiredFlag, StateCode, StateName, StreetName, StreetNumber, Suite, ZipCode)\n   * @return {Object} Returns Promise that represents an Array of resulting CaAddresses\n   */\n   search(filters?: Object) {\n    return new Promise((resolve, reject) => {\n      if(_.intersectionBy(_.keysIn(filters), ['AssetType', 'CaAddressId', 'CaObjectId', 'CityName', 'ExpiredFlag', 'StateCode', 'StateName', 'StreetName', 'StreetNumber', 'Suite', 'ZipCode']).length==0) {\n        reject(new CWError(3, 'At least one of the attributes (AssetType, CaAddressId, CaObjectId, CityName, ExpiredFlag, StateCode, StateName, StreetName, StreetNumber, Suite, ZipCode) must be defined.'))\n      }\n      var data = filters\n      this.cw.runRequest('Pll/CaseAddress/Search', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n}\n","import { CWError } from './error'\nconst _ = require('lodash')\n\nexport class WorkOrderAdmin {\n  /**\n   * @hidden\n   */\n  cw: any\n\n  /**\n   * @hidden\n   */\n  constructor(cw) {\n    this.cw = cw\n  }\n\n  /**\n   * Get entity groups\n   *\n   * @category WorkOrders Admin\n   * @return {Object} Returns Promise that represents a collection of all entity groups\n   */\n  getEntityGroups() {\n    return new Promise((resolve, reject) => {\n      var data = {}\n      this.cw.runRequest('Ams/Entity/Groups', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get entity types\n   *\n   * @category WorkOrders Admin\n   * @return {Object} Returns Promise that represents a collection of all GIS WorkOrder entity types\n   */\n  getEntityTypes(entityGroups:Array<string>) {\n    return new Promise((resolve, reject) => {\n      var data = {EntityGroups: entityGroups}\n      this.cw.runRequest('Ams/Designer/WOTemplates', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get WorkOrder templates\n   *\n   * @category WorkOrders Admin\n   * @return {Object} Returns Promise that represents a collection of all WorkOrder templates\n   */\n  getTemplates(entityType:string, includeComments:boolean=true, includeInstructions:boolean=true) {\n    return new Promise((resolve, reject) => {\n      var data = {EntityType: entityType, IncludeComments: includeComments, IncludeInstructions: includeInstructions}\n      this.cw.runRequest('Ams/Designer/WOTemplates', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Update WorkOrder template\n   *\n   * @category WorkOrders Admin\n   * @param {Object} wOTemplate - Obect that describes the WorkOrder Template\n   * @return {Object} Returns Promise that represents a collection of all\n   */\n  updateTemplate(wOTemplate:Object) {\n    let valid_fields = [\"AcctNum\", \"AutoCreateTask\", \"Cancel\", \"Comments\", \"CopyCustomFieldVal\", \"CycleFrom\", \"CycleIncludeWeekends\", \"CycleIntervalNum\", \"CycleIntervalUnit\", \"CycleType\", \"DaysToComplete\", \"DefaultProject\", \"DefaultProjectSid\", \"Description\", \"Effort\", \"ExpenseType\", \"Instructions\", \"IsReactive\", \"MaintScore\", \"NumDaysBefore\", \"Priority\",   \"RequireAssetOnClose\", \"Shop\", \"Stage\", \"SubmitToEmployeeSid\", \"SupervisorEmployeeSid\", \"UnitsAccompDesc\", \"UnitsAccompDescLock\", \"WOCategory\", \"WOCustFieldCatId\", \"WOPrintTmpt\", \"WOTemplateId\", \"WorkMonth\"]\n    return new Promise((resolve, reject) => {\n      var data = wOTemplate\n      this.cw.runRequest('Ams/Designer/WOTemplates', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get template group rights for provided WorkOrder Templates\n   *\n   * @category WorkOrders Admin\n   * @param {Array<number>} wOTemplateIds - Array one or more WorkOrder Template IDs\n   * @return {Object} Returns Promise that represents a collection of all\n   */\n  getTemplateGroupRights(wOTemplateIds:Array<number>) {\n    return new Promise((resolve, reject) => {\n      var data = {WOTemplateIds: wOTemplateIds}\n      this.cw.runRequest('Ams/Designer/WOTemplates', data).then(r => { // TODO: Update this URL\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get template activity services for provided WorkOrder Templates\n   *\n   * @category WorkOrders Admin\n   * @param {Array<number>} wOTemplateIds - Array one or more WorkOrder Template IDs\n   * @return {Object} Returns Promise that represents a collection of all\n   */\n  getTemplateActivity(wOTemplateIds:Array<number>) {\n    return new Promise((resolve, reject) => {\n      var data = {WOTemplateIds: wOTemplateIds}\n      this.cw.runRequest('Ams/Designer/WOTemplateActivityService', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get fields which will be updated when provided WorkOrder Template instance closes\n   *\n   * @category WorkOrders Admin\n   * @param {Array<number>} wOTemplateIds - Array one or more WorkOrder Template IDs\n   * @return {Object} Returns Promise that represents a collection of all\n   */\n  getUpdateFields(wOTemplateIds:Array<number>) {\n    return new Promise((resolve, reject) => {\n      var data = {WOTemplateIds: wOTemplateIds}\n      this.cw.runRequest('Ams/Designer/WOTemplateUpdateFields', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get equipment\n   *\n   * @category WorkOrders Admin\n   * @param {Array<number>} wOTemplateIds - WorkOrder Template ID\n   * @return {Object} Returns Promise that represents a collection of all\n   */\n  getTemplateEquipment(wOTemplateId:number) {\n    return new Promise((resolve, reject) => {\n      var data = {WOTemplateId: wOTemplateId}\n      this.cw.runRequest('Ams/Designer/WOTemplateEquipment', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get labor\n   *\n   * @category WorkOrders Admin\n   * @param {Array<number>} wOTemplateIds - WorkOrder Template ID\n   * @return {Object} Returns Promise that represents a collection of all\n   */\n  getTemplateLabor(wOTemplateId:number) {\n    return new Promise((resolve, reject) => {\n      var data = {WOTemplateId: wOTemplateId}\n      this.cw.runRequest('Ams/Designer/WOTemplateLabor', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get material\n   *\n   * @category WorkOrders Admin\n   * @param {number} wOTemplateId - WorkOrder Template ID\n   * @return {Object} Returns Promise that represents a collection of all\n   */\n  getTemplateMaterial(wOTemplateId:number) {\n    return new Promise((resolve, reject) => {\n      var data = {WOTemplateId: wOTemplateId}\n      this.cw.runRequest('Ams/Designer/WOTemplateMaterial', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get map layer fields configured for provided WorkOrder template\n   *\n   * @category WorkOrders Admin\n   * @param {number} wOTemplateId - WorkOrder Template ID\n   * @return {Object} Returns Promise that represents a collection of all\n   */\n  getTemplateMapLayerFields(wOTemplateId:number) {\n    return new Promise((resolve, reject) => {\n      var data = {WorkOrderTemplateId: wOTemplateId}\n      this.cw.runRequest('Ams/Designer/WorkOrderTemplateMapLayerFields', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get tasks configured for provided WorkOrder template\n   *\n   * @category WorkOrders Admin\n   * @param {number} wOTemplateId - WorkOrder Template ID\n   * @return {Object} Returns Promise that represents a collection of all tasks on WorkOrder template\n   */\n  getTemplateTasks(wOTemplateId:number) {\n    return new Promise((resolve, reject) => {\n      var data = {WOTemplateId: wOTemplateId}\n      this.cw.runRequest('Ams/Tasks/ByWorkOrderTemplate', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get inspections connected to provided WorkOrder template\n   *\n   * @category WorkOrders Admin\n   * @param {number} wOTemplateId - WorkOrder Template ID\n   * @return {Object} Returns Promise that represents a collection of all tasks on WorkOrder template\n   */\n  getRelatedInspectionTemplates(wOTemplateId:number) {\n    return new Promise((resolve, reject) => {\n      var data = {WOTemplateId: wOTemplateId}\n      this.cw.runRequest('Ams/Designer/WOTemplateInspections', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n}\n","import { CWError } from './error'\nconst _ = require('lodash')\n\nexport class InspectionAdmin {\n  /**\n   * @hidden\n   */\n  cw: any\n\n  /**\n   * @hidden\n   */\n  constructor(cw) {\n    this.cw = cw\n  }\n\n  /**\n   * Get inspection templates\n   *\n   * @category Inspection Templates\n   * @param {Array<string>} [entityTypes] - The Entity Type(s) to return potential inspections for\n   * @param {boolean} [canCreate] - If true, only return templates the user can create, ignored if false or null, default is true\n   * @param {Object} [options] - An object which can include: [IncludeInactive]: boolean, MaximumDateModified: Date, MinimumDateModified: Date, TemplateIds: Array<number>\n   * @return {Object} Returns Promise that represents a collection of all Inspections matching the provided parameters\n   */\n  getTemplates(entityTypes?: Array<string>, canCreate?: boolean, options?: {IncludeInactive?: boolean, MaximumDateModified?: Date, MinimumDateModified?: Date, TemplateIds?: Array<number>}) {\n    return new Promise((resolve, reject) => {\n      var data: {EntityTypes?: Array<string>, CanCreate?: boolean, IncludeInactive?: boolean, MaximumDateModified?: Date, MinimumDateModified?: Date, TemplateIds?: Array<number>} = {}\n      if(typeof(entityTypes)!=='undefined') {\n        data.EntityTypes = entityTypes\n      }\n      data.CanCreate = typeof(canCreate)!=='undefined' ? canCreate : true\n      if(typeof(options)==='object') {\n        _.forIn(options, (v, k) => {\n          data[k] = v\n        })\n      }\n      this.cw.runRequest('Ams/InspectionTemplate/Templates', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n}\n","import { CWError } from './error'\nconst _ = require('lodash')\n\nexport class RequestAdmin {\n  /**\n   * @hidden\n   */\n  cw: any\n\n  /**\n   * @hidden\n   */\n  constructor(cw) {\n    this.cw = cw\n  }\n\n  /**\n   * Get service request templates\n   *\n   * @category Requests Admin\n   * @param {Object} searchData - search data\n   * @return {Object} Returns Promise that represents a collection of all Service Request Templates\n   */\n  getTemplates(searchData: Object) {\n    return new Promise((resolve, reject) => {\n      var data = searchData\n      this.cw.runRequest('Ams/ServiceRequestTemplate/Templates', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n}\n","import { CWError } from './error'\nimport ReversibleMap from 'reversible-map'\nconst _ = require('lodash')\n\nexport class WorkOrderCosts {\n  /**\n   * @hidden\n   */\n  cw: any\n\n  /**\n   * Storage of object's active activityType\n   */\n  currentActivityType: string\n\n  /**\n   * @hidden\n   */\n  constructor(cw:any) {\n    this.cw = cw\n    this.currentActivityType = \"WorkOrder\"\n  }\n\n  /**\n   * Get Cost Codes\n   *\n   * @category Labor Costs\n   * @param {Array<number>} employeeSids - A list of Employee IDs for which to get the job codes.\n   * @param {boolean} commonOnly - Set to true to get the Cost Codes that are common to ALL employees in the list, otherwise get all job codes that apply to at least one employee in the list.\n   * @return {Object} Returns Promise that represents an object describing\n   */\n  getCodes(employeeSids: Object, commonOnly: boolean = false) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        EmployeeSids: employeeSids,\n        CommonCodesOnly: commonOnly\n      }\n      this.cw.runRequest('Ams/LaborCost/CostCodes', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get Job Codes\n   *\n   * @category Labor Costs\n   * @return {Object} Returns Promise that represents an object describing\n   */\n   getJobCodes() {\n    return new Promise((resolve, reject) => {\n    this.cw.runRequest('Ams/LaborCost/JobCodes').then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Add WorkOrder Labor Costs\n   *\n   * @category WorkOrder Costs\n   * @param {number} workOrderSid - Array of inspection labor costings\n   * @param {number} hours - Number of hours to add\n   * @param {Object} options - options for the work order\n   * @return {Object} Returns Promise that represents an object describing\n   */\n  addLabor(workOrderSid: number, hours: number, options: Object) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        WorkOrderSid: workOrderSid,\n        Hours: hours\n      }\n      if(typeof(options)!='undefined') {\n        data = _.merge(data, options)\n      }\n      // TODO: ensure each object has Hours & InspectionId\n      this.cw.runRequest('Ams/LaborCost/AddWorkOrderCosts', data).then((response: any) => {\n        resolve(response.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n   /**\n   * Get Labor Costs for WorkOrder(s)\n   *\n   * @category WorkOrder Costs\n   * @param {Array<number>} workOrderSids - Array of request Ids to get costs for\n   * @param {boolean} estimated - Whether to get estimates or actuals (defaults to false -- get actuals)\n   * @return {Object} Returns Promise that represents an object describing\n   */\n   getLabor(workOrderSids: Array<number>, estimated: boolean = false) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        Estimated: estimated,\n        WorkOrderSids: workOrderSids\n      }\n      this.cw.runRequest('Ams/LaborCost/WorkOrderCostsByWorkOrder', data).then((response: any) => {\n        resolve(response.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Delete WorkOrder Labor Costs\n   *\n   * @category WorkOrder Costs\n   * @param {Array<number>} laborCostIds - List of labor cost IDs to delete\n   * @param {boolean} estimated - Whether to delete estimates or actuals (defaults to false -- delete actuals)\n   * @return {Object} Returns Promise that represents an object describing\n   */\n    deleteLabor(laborCostIds: Array<number>, estimated: boolean = false) {\n      return new Promise((resolve, reject) => {\n        var data = {\n          LaborCostIds: laborCostIds,\n          Estimated: estimated\n        }\n        this.cw.runRequest('Ams/LaborCost/DeleteWorkOrderCosts', data).then((response: any) => {\n          resolve(response.Value)\n        }).catch(e => {\n          reject(e)\n        })\n      })\n    }\n\n  /**\n   * Add WorkOrder Equipment Costs\n   *\n   * @category WorkOrder Costs\n   * @param {Object} workOrderSid - the work order to add the equipment costs to\n   * @param {Object} options - additional options\n   * @return {Object} Returns Promise that represents an object describing\n   */\n  addEquipment(workOrderSid: number, options: Object) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        WorkOrderSid: workOrderSid\n      }\n      if(typeof(options)!='undefined') {\n        data = _.merge(data, options)\n      }\n      // TODO: ensure each object has Hours & InspectionId\n      this.cw.runRequest('Ams/EquipmentCost/AddWorkOrderCosts', data).then((response: any) => {\n        resolve(response.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n   /**\n   * Get Equipment Costs for WorkOrder(s)\n   *\n   * @category WorkOrder Costs\n   * @param {number} workOrderSid - the work order to add the equipment costs to\n   * @param {boolean} estimated - true to get estimated costs. defaults to false\n   * @return {Object} Returns Promise that represents an object describing\n   */\n  //  WorkOrderCostsByWorkOrderList<EquipmentCost>\n  getEquipment(workOrderSid: number, estimated: boolean = false) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        WorkOrderSid: workOrderSid,\n        Estimated: estimated\n      }\n      // TODO: ensure each object has Hours & InspectionId\n      this.cw.runRequest('Ams/EquipmentCost/WorkOrderCostsByWorkOrder', data).then((response: any) => {\n        resolve(response.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Delete WorkOrder Equipment Costs\n   *\n   * @category WorkOrder Costs\n   * @param {Object} \n   * @return {Object} Returns Promise that represents an object describing\n   */\n  deleteEquipment(equipmentCostIds: Array<number>, estimated: boolean = false) { // \"WorkOrderId\", \"WorkOrderSid\", \"Estimated\", \"MaterialSids\", \"Units\", \"AcctNum\", \"Source\", \"TransDate\", \"ContractorSids\", \"ContractorMaterialId\", \"ContractorMaterialDescription\", \"ContractorMaterialCost\", \"TaskIds\", \"Entities\", \"CombineIssuesByMaterialSid\"\n    return new Promise((resolve, reject) => {\n      var data = {\n        EquipmentCostIds: equipmentCostIds,\n        Estimated: estimated\n      }\n      this.cw.runRequest('Ams/EquipmentCost/DeleteWorkOrderCosts', data).then((response: any) => {\n        resolve(response.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Add WorkOrder Material Costs\n   *\n   * @category WorkOrder Costs\n   * @param {number} workOrderSid - Work Order SID number to add the material to\n   * @param {number} units - Decimal units for material \n   * @param {Object} options - Additional work order options\n   * @param {boolean} combineIssuesByMaterialSid - Combine issues with the same MaterialSid into a single commit, default is true\n   * @return {Object} Returns Promise that represents a collection describing the work order material costs\n   */\n  addMaterial(workOrderSid: number, units: number, options: Object, combineIssuesByMaterialSid: boolean = true) { // \"WorkOrderId\", \"WorkOrderSid\", \"Estimated\", \"MaterialSids\", \"Units\", \"AcctNum\", \"Source\", \"TransDate\", \"ContractorSids\", \"ContractorMaterialId\", \"ContractorMaterialDescription\", \"ContractorMaterialCost\", \"TaskIds\", \"Entities\", \"CombineIssuesByMaterialSid\"\n    return new Promise((resolve, reject) => {\n      var data = {\n        Units: units,\n        WorkOrderSid: workOrderSid,\n        CombineIssuesByMaterialSid: combineIssuesByMaterialSid\n      }\n      if(typeof(options)!='undefined') {\n        data = _.merge(data, options)\n      }\n      this.cw.runRequest('Ams/MaterialCost/AddWorkOrderCosts', data).then((response: any) => {\n        resolve(response.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get Material Costs for WorkOrder(s)\n   *\n   * @category WorkOrder Costs\n   * @param {number} workOrderSid - the work order to add the equipment costs to\n   * @param {boolean} estimated - true to get estimated costs. defaults to false and gets actuals.\n   * @return {Object} Returns Promise that represents an object describing\n   */\n  getMaterial(workOrderSid: number, estimated: boolean = false) { // \"WorkOrderId\", \"WorkOrderSid\", \"Estimated\", \"MaterialSids\", \"Units\", \"AcctNum\", \"Source\", \"TransDate\", \"ContractorSids\", \"ContractorMaterialId\", \"ContractorMaterialDescription\", \"ContractorMaterialCost\", \"TaskIds\", \"Entities\", \"CombineIssuesByMaterialSid\"\n    return new Promise((resolve, reject) => {\n      var data = {\n        WorkOrderSid: workOrderSid,\n        Estimated: estimated\n      }\n      this.cw.runRequest('Ams/MaterialCost/AddWorkOrderCosts', data).then((response: any) => {\n        resolve(response.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Delete WorkOrder Material Costs\n   *\n   * @category WorkOrder Costs\n   * @param {Array<number>} materialCostIds - list of material cost IDs to delete\n   * @param {boolean} estimated - true to delete the estimated costs. defaults to false and deletes actuals.\n   * @return {Object} Returns Promise that represents an object describing\n   */\n  deleteMaterial(materialCostIds: number, estimated: boolean = false) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        MaterialCostIds: materialCostIds,\n        Estimated: estimated\n      }\n      this.cw.runRequest('Ams/MaterialCost/DeleteWorkOrderCosts', data).then((response: any) => {\n        resolve(response.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n}\n","import { CWError } from './error'\nimport ReversibleMap from 'reversible-map'\nconst _ = require('lodash')\n\nexport class InspectionCosts {\n  /**\n   * @hidden\n   */\n  cw: any\n\n  /**\n   * Storage of object's active activityType\n   */\n  currentActivityType: string\n\n  /**\n   * @hidden\n   */\n  constructor(cw:any) {\n    this.cw = cw\n    this.currentActivityType = \"Inspection\"\n  }\n\n  /**\n   * Get Cost Codes\n   *\n   * @category Labor Costs\n   * @param {Array<number>} employeeSids - A list of Employee IDs for which to get the job codes.\n   * @param {boolean} commonOnly - Set to true to get the Cost Codes that are common to ALL employees in the list, otherwise get all job codes that apply to at least one employee in the list.\n   * @return {Object} Returns Promise that represents an object describing\n   */\n  getCodes(employeeSids: Object, commonOnly: boolean = false) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        EmployeeSids: employeeSids,\n        CommonCodesOnly: commonOnly\n      }\n      this.cw.runRequest('Ams/LaborCost/CostCodes', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get Job Codes\n   *\n   * @category Labor Costs\n   * @return {Object} Returns Promise that represents an object describing\n   */\n   getJobCodes() {\n    return new Promise((resolve, reject) => {\n    this.cw.runRequest('Ams/LaborCost/JobCodes').then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Add Inspection Labor Costs\n   *\n   * @category Inspection Costs\n   * @param {number} inspectionId - Inspection ID to add labor costs to\n   * @param {number} hours - The hours to add to the inspection\n   * @param {Object} options - Additional settings for hours setting\n   * @param {boolean} estimated - Boolean, get estimated or real costs, defaults to false (get real by default)\n   * @return {Object} Returns Promise that represents an object describing\n   */\n  addLabor(inspectionId: number, hours: number, options?: object, estimated: boolean = false) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        Estimated: estimated,\n        InspectionIds: inspectionId,\n        Hours: hours\n      }\n      if(typeof(options)!='undefined') {\n        data = _.merge(data, options)\n      }\n      this.cw.runRequest('Ams/LaborCost/AddInspectionCosts', data).then((response: any) => {\n        resolve(response.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n   /**\n   * Get Labor Costs for a specific list of Inspections\n   *\n   * @category Inspection Costs\n   * @param {Array<int>} inspectionIds - An array of inspection IDs to get associated costs for.\n   * @param {boolean} estimated - Boolean, get estimated or real costs, defaults to false (get real by default)\n   * @return {Object} Returns Promise that represents an object describing\n   */\n  getLabor(inspectionIds: Array<number>, estimated: boolean = false) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        Estimated: estimated,\n        InspectionIds: inspectionIds\n      }\n      this.cw.runRequest('Ams/LaborCost/InspectionCostsByInspection', data).then((response: any) => {\n        resolve(response.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Delete Inspection Labor Costs\n   *\n   * @category Inspection Costs\n   * @param {Array<int>} laborCostIds - An array of inspection labor cost IDs to delete\n   * @param {boolean} estimated - Boolean, delete estimated or real costs, defaults to false (delete real by default)\n   * @return {Object} Returns Promise that represents an object describing\n   */\n  deleteLabor(laborCostIds: Array<number>, estimated: boolean = false) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        Estimated: estimated,\n        reqLaborCostIds: laborCostIds\n      }\n      this.cw.runRequest('Ams/LaborCost/DeleteInspectionCosts', data).then((response: any) => {\n        resolve(response.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n    /**\n   * Add Inspection Equipment Costs\n   *\n   * @category Inspection Costs\n   * @param {Object} inspectionId - the inspection to add the equipment costs to\n   * @param {Object} options - additional options\n   * @return {Object} Returns Promise that represents an object describing\n   */\n    addEquipment(inspectionId: number, options: Object) {\n      return new Promise((resolve, reject) => {\n        var data = {\n          InspectionId: inspectionId\n        }\n        if(typeof(options)!='undefined') {\n          data = _.merge(data, options)\n        }\n        // TODO: ensure each object has Hours & InspectionId\n        this.cw.runRequest('Ams/EquipmentCost/AddInspectionCosts', data).then((response: any) => {\n          resolve(response.Value)\n        }).catch(e => {\n          reject(e)\n        })\n      })\n    }\n  \n   /**\n   * Get Equipment Costs for Inspection(s)\n   *\n   * @category Inspection Costs\n   * @param {Array<number>} inspectionIds - the inspection to get the equipment costs for.\n   * @param {Object} estimated - get estimated equipment costs. Defaults to false.\n   * @return {Object} Returns Promise that represents an object describing\n   */\n   getEquipment(inspectionIds: number, estimated: boolean = false) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        InspectionIds: inspectionIds,\n        Estimated: estimated\n      }\n      this.cw.runRequest('Ams/EquipmentCost/InspectionCostsByInspection', data).then((response: any) => {\n        resolve(response.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Delete Inspection Equipment Costs\n   *\n   * @category Inspection Costs\n   * @param {Array<number>} equipmentCostIds - the equipment cost IDs to delete.\n   * @param {Object} estimated - delete estimated equipment costs. Defaults to false.\n   * @return {Object} Returns Promise that represents an object describing\n   */\n  deleteEquipment(equipmentCostIds: Array<number>, estimated: boolean = false) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        EquipmentCostIds: equipmentCostIds,\n        Estimated: estimated\n      }\n      this.cw.runRequest('Ams/EquipmentCost/DeleteInspectionCosts', data).then((response: any) => {\n        resolve(response.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n}\n","import { CWError } from './error'\nimport ReversibleMap from 'reversible-map'\nconst _ = require('lodash')\n\nexport class RequestCosts {\n  /**\n   * @hidden\n   */\n  cw: any\n\n  /**\n   * Storage of object's active activityType\n   */\n  currentActivityType: string\n\n  /**\n   * @hidden\n   */\n  constructor(cw:any) {\n    this.cw = cw\n    this.currentActivityType = \"Request\"\n  }\n\n  /**\n   * Get Cost Codes\n   *\n   * @category Labor Costs\n   * @param {Array<number>} employeeSids - A list of Employee IDs for which to get the job codes.\n   * @param {boolean} commonOnly - Set to true to get the Cost Codes that are common to ALL employees in the list, otherwise get all job codes that apply to at least one employee in the list.\n   * @return {Object} Returns Promise that represents an object describing\n   */\n  getCodes(employeeSids: Object, commonOnly: boolean = false) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        EmployeeSids: employeeSids,\n        CommonCodesOnly: commonOnly\n      }\n      this.cw.runRequest('Ams/LaborCost/CostCodes', data).then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Get Job Codes\n   *\n   * @category Labor Costs\n   * @return {Object} Returns Promise that represents an object describing\n   */\n   getJobCodes() {\n    return new Promise((resolve, reject) => {\n    this.cw.runRequest('Ams/LaborCost/JobCodes').then(r => {\n        resolve(r.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Add Request Labor Costs\n   *\n   * @category Request Costs\n   * @param {Object} requestCosts - Array of inspection labor costings\n   * @return {Object} Returns Promise that represents an object describing\n   */\n  addLabor(requestCosts: Array<Object>) {\n    return new Promise((resolve, reject) => {\n      var data = requestCosts\n      // TODO: ensure each object has Hours & InspectionId\n      this.cw.runRequest('Ams/LaborCost/AddRequestCosts', data).then((response: any) => {\n        resolve(response.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n   /**\n   * Get Labor Costs for Request(s)\n   *\n   * @category Request Costs\n   * @param {Array<number>} requestIds - Array of request Ids to get costs for\n   * @return {Object} Returns Promise that represents an object describing\n   */\n  getLabor(requestIds: Array<number>) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        RequestIds: requestIds\n      }\n      this.cw.runRequest('Ams/LaborCost/RequestCostsByRequest', data).then((response: any) => {\n        resolve(response.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n  /**\n   * Delete Request Labor Costs\n   *\n   * @category Request Costs\n   * @param {Array<number>} laborCostIds - Array of request labor cost Ids to delete\n   * @return {Object} Returns Promise that represents an object describing\n   */\n  deleteLabor(laborCostIds: Array<number>) {\n    return new Promise((resolve, reject) => {\n      var data = {\n        LaborCostIds: laborCostIds\n      }\n      this.cw.runRequest('Ams/LaborCost/DeleteRequestCosts', data).then((response: any) => {\n        resolve(response.Value)\n      }).catch(e => {\n        reject(e)\n      })\n    })\n  }\n\n}\n","import { CWError } from './error'\nimport { General } from './general'\nimport { ActivityLinks } from './activity_link'\nimport { Gis } from './gis'\nimport { MessageQueue } from './message_queue'\nimport { Search } from './search'\nimport { Request } from './request'\nimport { Inspection } from './inspection'\nimport { WorkOrder } from './workorder'\nimport { Briefcase } from './briefcase'\nimport { CaseData } from './case_data'\nimport { CaseFinancial } from './case_financial'\nimport { CaseWorkflow} from './case_workflow'\nimport { CaseAdmin } from './case_admin'\nimport { Comments } from './comments'\nimport { CaseAssets } from './case_assets'\nimport { WorkOrderAdmin } from './workorder_admin'\nimport { InspectionAdmin } from './inspection_admin'\nimport { RequestAdmin } from './request_admin'\nimport { WorkOrderCosts } from './workorder_costs'\nimport { InspectionCosts } from './inspection_costs'\nimport { RequestCosts } from './request_costs'\n\nconst https = require('https')\nconst querystring = require('querystring')\nconst _ = require('lodash')\n\ninterface postData {\n  data?: string\n  token?: string\n  file?: any\n}\n\ninterface Citywork {\n}\n\n/**\n * Core class Cityworks with most of the authentication and install capabilities functions\n */\nclass Cityworks implements Citywork {\n  /**\n   * The domain of the cityworks install. Defaults to Cityworks Online\n   */\n  private base_url: string\n  /**\n   * Stores the currently in use authentication token\n   */\n  private Token?: string\n  /**\n   * Stores the login username\n   */\n  private login?: string\n  /**\n   * Holds the login password\n   */\n  private password?: string\n  /**\n   * Holds the GIS Token for GIS-based Authentication (Portal)\n   */\n  private gisToken?: string\n  /**\n   * Holds the GIS Token URL for GIS-based Authentication (Portal)\n   */\n  private gisTokenUrl?: string\n  /**\n   * Stores settings including path (defaults to \"cityworks\"), secure (defaults to true), expires (defaults to null - does not expire), default_domain\n   */\n  private settings: {\n    path: string,\n    secure: boolean,\n    expires: any,\n    default_domain?: any\n  }\n  error?: any\n\n  private extensions: Object\n  private features: Object\n  private potential_loads: Array<string>\n\n  /**\n     * Contructor for a new cityworks instance's object, allows one to optionally configure the domain and other settings right from the get-go\n     * @param {string} [base_url] - The first color, in hexadecimal format.\n     * @param {object} [settings] - The second color, in hexadecimal format.\n     * @param {array} [load] - allows user to choose which modules to load and make available. Full availability array: ['general', 'activity_link', 'message_queue', 'gis', 'workorder', 'inspection', 'request', 'case']\n     */\n  constructor(base_url?: string, settings?: Object, load?: Array<string>) {\n    this.base_url = 'cityworksonline'\n    this.extensions = {\"UnknownExtension\": 0, \"CwAnalytics\": 1, \"WebHooks\": 2, \"PLLPublicApp\": 3, \"ActivityUpdate\": 4, \"SingleSignOn\": 5}\n    this.features = {\"UnknownFeature\": 0, \"ViewInspections\": 1, \"EditInspections\": 2, \"ViewServiceRequest\": 3, \"EditServiceRequest\": 4, \"ViewWorkOrder\": 5, \"EditWorkOrder\": 6, \"EquipmentCheckOut\": 7, \"OfficeField\": 8, \"Respond\": 9, \"Eurl\": 10, \"PaverInterface\": 11, \"Contracts\": 12, \"Storeroom\": 13, \"PLL\": 14, \"Cw4XL\": 15, \"TableEditor\": 16, \"CCTVInterface\": 17, \"MobileAndroid\": 18, \"MobileiOS\": 19, \"PerformanceBudgeting\": 20, \"Insights\": 21, \"RespondCase\": 22, \"RespondInspection\": 23, \"RespondServiceRequest\": 24, \"RespondTaskManager\": 25, \"RespondWorkOrder\": 26, \"Workload\": 27, \"OpX\": 28, \"TrimbleUnityMobile\": 29, \"TrimbleVegetationManager\": 30}\n    this.settings = {\n      path: 'cityworks',\n      secure: true,\n      expires: null,\n      default_domain: null\n    }\n    this.potential_loads = ['general', 'activity_link', 'message_queue', 'gis', 'search', 'request', 'case', 'case_financial']\n    if(typeof(base_url)!='undefined') {\n      this.configure(base_url, settings, load)\n    }\n  }\n\n  /**\n     * Configure a new cityworks instance's domain and other settings\n     *\n     * @param {string} [base_url] - The first color, in hexadecimal format.\n     * @param {object} [settings] - The second color, in hexadecimal format.\n     * @param {array} [load] - allows user to choose which modules to load and make available. Full availability array: ['general', 'activity_link', 'message_queue', 'gis', 'search', 'workorder', 'inspection', 'request', 'case']\n     * @return {boolean} Returns true if successful, otherwise, throws error\n     */\n  configure(base_url?: string, settings?: Object, load?: Array<string>) {\n    if(typeof base_url !== 'undefined') { this.base_url = base_url } else { this.base_url = 'cityworksonline' }\n    this.settings = {\n      path: 'cityworks',\n      secure: true,\n      expires: null,\n      default_domain: null\n    }\n\n    if(typeof(settings)!='undefined') {\n      _.forEach(settings, (v,k) => {\n        if(typeof(this.settings[k])!='undefined') {this.settings[k] = v}\n      })\n    }\n  }\n\n  /**\n     * Send a request to the Cityworks API\n     *\n     * If one ever needs to access or call an unimplemented API endpoint of a Cityworks install, one can call this method directly with the path and data payload:\n     *\n     * `cityworks.runRequest(path, data)`\n     *\n     * @param {string} path - The path to the particular endpoint\n     * @param {Object} data - The data object to be sent to the Cityworks API\n     * @param {any} file - The file to send in binary to the Cityworks API\n     * @return {Object} Returns Promise object that represents the json object returned from the Cityworks API\n     */\n  runRequest(path, data?, file?: any) {\n    return new Promise((resolve, reject) => {\n      let pd = {} as postData\n\n      if(typeof(data) !== 'undefined') {\n        pd.data = JSON.stringify(data)\n      }\n      \n      if(typeof(file) !== 'undefined' && (path=='Pll/CaseRelDocs/AddTaskRelDoc' || path=='Pll/CaseRelDocs/Add')) {\n        pd.file = file\n      }\n\n      if(typeof(this.Token) !== 'undefined' && this.Token != '' && path!='General/Authentication/CityworksOnlineAuthenticate' && path!='General/Authentication/Authenticate') {\n        pd.token = this.Token\n      }\n\n      let obj: {\n        Status: number,\n        Message: string\n      }\n\n      let options = {\n        hostname: this.base_url,\n        port: 443,\n        path: '/' + this.settings.path + '/services/' + path,\n        method: 'POST',\n        headers: {\n           'Content-Type': 'application/x-www-form-urlencoded',\n           'Content-Length': Buffer.byteLength(querystring.stringify(pd))\n        },\n        timeout: 10000000\n      }\n      let request = https.request(options, (response) => {\n          let str=''\n          response.on('error',function(e){\n              console.log(e, 'Caught on error')\n              reject(new CWError(13, \"Unknown error.\", e))\n          })\n\n          response.on('data',function(chunk){\n              str+=chunk\n          })\n\n          response.on('end',function(){\n            try {\n              var test_str = JSON.stringify(str) + \"[test string]\"\n              if(test_str.match(/\\<h2\\>Object\\ moved\\ to/)==null) {\n                var obj=JSON.parse(str)\n                // if(path=='General/ActivityNotification/UserWatching') {\n                //   console.log(str, options, pd, obj)\n                // }\n                if(typeof(obj)=='undefined') {\n                  // failed\n                  reject(new CWError(10, 'No response received from Cityworks API.'))\n                } else if(typeof(obj)!='undefined' && typeof(obj.Value)!='undefined') { // && typeof(response.Value.Token)!='undefined') {\n                  switch(obj.Status) {\n                    case 1:\n                      reject(new CWError(1, 'Error', obj))\n                      break;\n                    case 2:\n                      reject(new CWError(2, 'Unauthorized', obj))\n                      break;\n                    case 3:\n                      reject(new CWError(3, 'InvalidCredentials', obj))\n                      break;\n                    case 0:\n                    default:\n                      resolve(obj);\n                      break;\n                  }\n                } else {\n                  reject(new CWError(4, \"Unknown error.\", {options: options, postedData: pd, api_returned_string: obj}))\n                }\n              } else {\n                reject(new CWError(5, \"Error parsing JSON. Cityworks returned HTML.\", {response: str}))\n              }\n            } catch (e) {\n              if (e instanceof SyntaxError) {\n                console.log('try/catch error on JSON')\n                reject(new CWError(6, \"Error parsing JSON.\", {error: e}))\n              } else {\n                console.log('try/catch error on JSON - but not an instance of SyntaxError')\n                reject(new CWError(7, \"Error parsing JSON.\"))\n              }\n            }\n          })\n      })\n      request.write(querystring.stringify(pd))\n      request.end()\n    })\n  }\n\n  /**\n     * Authenticate with the Cityworks API and store an access token for use. Stores the token on cityworks.Token.\n     * @param {string} login - User's login name\n     * @param {password} password - User's password\n     * @return {Object} Returns Promise object that represents a boolean which tells you the login succeeded (true) or failed (false).\n     */\n  authenticate(login: string, password: string) {\n    return new Promise((resolve, reject) => {\n      let data = { LoginName:login, Password:password }\n      let path = 'General/Authentication/Authenticate'\n      if(this.base_url == 'cityworksonline') {\n        path = 'General/Authentication/CityworksOnlineAuthenticate'\n      }\n      this.runRequest(path, data).then((response: any) => {\n        // if(response.Status>0) {\n        //   // failed\n        //   reject(new CWError(100, response.Message))\n        // } else if(typeof(response.Value)!='undefined' && typeof(response.Value.Token)!='undefined') {\n          this.login = login\n          this.password = password\n          this.Token = response.Value.Token\n          resolve(true)\n        // } else {\n        //   // failed\n        //   reject(new CWError(11, 'Unknown Error'))\n        // }\n      }).catch(error => {\n        reject(error);\n      })\n    })\n  }\n\n  /**\n     * Authenticate a username with a GIS Token\n     * @param {login} - Gis user name, should match a Cityworks employee login name\n     * @param {string} gisToken - Gis Oauth2 access token\n     * @param {string} gisTokenUrl - Base url to GIS server (not the '/generateToken' endpoint)\n     * @param {number} [expires] - Authenticate to Cityworks for a specified number of milliseconds, defaults to 2 weeks\n     */\n  authenticateWithGISToken(login: string, gisToken: string, gisTokenUrl: string, expires?: number) {\n    this.login = login\n    this.gisToken = gisToken\n    this.gisTokenUrl = gisTokenUrl\n    if(typeof(expires)!='undefined') {\n      expires = 1209600000\n    }\n\n    return new Promise((resolve, reject) => {\n      let path = 'General/Authentication/AuthenticateGisToken'\n      let data = { LoginName:this.login, GisToken: this.gisToken, GisTokenUrl: this.gisTokenUrl, Expires: expires}\n\n      this.runRequest(path, data).then((response: any) => {\n        if((typeof(response.Status)!='undefined' && response.Status>0)) {\n          // failed\n          // TODO: CWError here.\n        } else if(typeof(response.Value)!='undefined' && typeof(response.Value.Token)!='undefined') {\n          this.Token = response.Value.Token\n          resolve(true)\n        } else {\n          // failed\n          resolve(false)\n        }\n      }).catch(error => {\n        throw error\n      })\n    })\n  }\n\n  /**\n     * Validate provided token\n     * @param {string} token - User's login name\n     * @param {boolean} [set] - Set a valid token as the cityworks instance's active token\n     * @return {Object} Returns Promise object that represents a boolean which apprises one of the token's validity and that is was set (true) or throws an error if was not valid (and not set).\n     */\n  validateToken(token:string, set?:boolean) {\n    return new Promise((resolve, reject) => {\n      if(typeof(set)=='undefined') {\n        let set = false\n      }\n      let data = { Token: token }\n      let path = 'General/Authentication/Validate'\n      this.runRequest(path, data).then((response: any) => {\n        if(response.Status>0) {\n          // failed\n          resolve(false)\n        } else {\n          if(set) {\n            this.Token = token\n          }\n          resolve(response.Value)\n        }\n      }).catch(error => {\n        throw error\n      })\n    })\n  }\n\n  /**\n     * Set a token you've retrieved from your storage system as the active token for the cityworks instance. Note that this doesn't check the token for validity.\n     * @param {token} token - The token string to set as the active token.\n     * @return {boolean} Returns a boolean which apprises one that the token was set (true) or not set (false).\n     */\n  setToken(token) {\n    if(token!='' && token!=null) {\n      this.Token = token\n      return true\n    } else {\n      return false\n    }\n  }\n\n  /**\n     * Get currently set, valid token\n     * @param {token} token - The token string to set as the active token.\n     * @return {string} Returns a string which is the currently-set token or the boolean false value if no (valid) token set\n     */\n  getToken() {\n    if(this.Token=='' || this.Token==null) {\n      return false\n    } else {\n      return this.Token\n    }\n  }\n\n  /**\n     * Revoke all current user's tokens or only tokens created before a particular date and time.\n     * @param {number} [revokeBefore] - Datetime as an Epoch integer (number), if you wish to revoke only tokens created before a particular datetime\n     * @return {Object} Returns Promise object that represents a boolean which apprises one of the revocation outcome's success (true) or failure (false)\n     */\n  revokeToken(revokeBefore?:number) {\n    return new Promise((resolve, reject) => {\n      let data = { RevokeDate: revokeBefore }\n      let path = 'General/Token/RevokeUser'\n      this.runRequest(path, data).then((response: any) => {\n        if((typeof(response.Status)!='undefined' && response.Status>0)) {\n          // failed\n          resolve(false)\n        } else {\n          resolve(true)\n        }\n      }).catch(error => {\n        throw error\n      })\n    })\n  }\n\n  // App data\n\n  /**\n     * Get the localization settings for current Cityworks install\n     * @return {Object} Returns Promise object that represents an Object which contains all the localization settings for the current Cityworks install\n     */\n  getLocalizationSettings() {\n    return new Promise((resolve, reject) => {\n      let path = 'General/Localization/LocalizationSettings'\n      this.runRequest(path, {}).then((response: any) => {\n        resolve(response.Value)\n      })\n    })\n  }\n\n  /**\n     * Get the system timezone options for current Cityworks install\n     * @return {Object} Returns Promise object that represents an Object which contains all the timezone settings for the currentCityworks install\n     */\n  getTimezoneOptions() {\n    return new Promise((resolve, reject) => {\n      let path = 'General/Localization/TimeZones'\n      this.runRequest(path, {}).then((response: any) => {\n        resolve(response.Value)\n      })\n    })\n  }\n\n  /**\n     * Get the current install's location information\n     * @return {Object} Returns Promise object that represents an Object which contains the location information\n     */\n  getCurrentLocation() {\n    return new Promise((resolve, reject) => {\n      let path = 'General/AppData/CurrentLocation'\n      this.runRequest(path, {}).then((response: any) => {\n        resolve(response.Value)\n      })\n    })\n  }\n\n  // Licensing Checks\n  /**\n     * Check if a particular license is available to the currently-authenticated user\n     * @param {string} area - Area of access\n     * @param {string} service - Service to access\n     * @return {boolean} Returns Promise object that represents a boolean which informs access is granted (true) or denied (false)\n     */\n  licensedApiCheck(area: string, service: string) {\n    return new Promise((resolve, reject) => {\n      let data = {\n        \"Area\": area,\n        \"Service\": service\n      }\n      let path = 'General/AppData/SelectedEntities'\n      this.runRequest(path, data).then((response: any) => {\n        resolve(response.Value)\n      })\n    })\n  }\n\n  /**\n     * Check if a current Cityworks install is licensed to use a particular extension\n     *\n     * Possible extensions currently include: \"UnknownExtension\", \"CwAnalytics\", \"WebHooks\", \"PLLPublicApp\", \"ActivityUpdate\", \"SingleSignOn\"\n     *\n     * @param {string} extension - Extension name\n     * @return {boolean} Returns Promise object that represents a boolean which informs extension is licensed (true) or not (false)\n     */\n  licensedExtensionCheck(extension: string) {\n    return new Promise((resolve, reject) => {\n      if(typeof(this.extensions[extension])=='undefined') {\n        reject(new CWError(4, 'Extension provided does not exist or is mispelled.', {'provided': extension, 'available': this.extensions}))\n      }\n      let data = {\n        \"Extension\": this.extensions[extension]\n      }\n      let path = 'General/Authorization/LicensedExtensionCheck'\n      this.runRequest(path, data).then((response: any) => {\n        resolve(response.Value)\n      })\n    })\n  }\n\n  /**\n     * Check a whole list to see if current Cityworks install is licensed to use extensions\n     *\n     * Possible extensions currently include: \"UnknownExtension\", \"CwAnalytics\", \"WebHooks\", \"PLLPublicApp\", \"ActivityUpdate\", \"SingleSignOn\"\n     *\n     * @param {Array<string>} extension - Extension names\n     * @return {Object} Returns Promise object that represents a boolean which informs extension is licensed (true) or not (false)\n     */\n  licensedExtensionsCheck(extensions: Array<string>) {\n    return new Promise((resolve, reject) => {\n        var data: { Extensions: Array<number> } = {\n          Extensions: []\n        }\n      _.forEach(extensions, (v) => {\n        if(typeof(this.extensions[v])=='undefined') {\n          reject(new CWError(5, 'Extension provided does not exist or is mispelled.', {'provided': v, 'available': this.extensions}))\n        } else {\n          data.Extensions.push(this.extensions[v])\n        }\n      })\n      let path = 'General/Authorization/LicensedExtensionsCheck'\n      this.runRequest(path, data).then((response: any) => {\n        let rez: Object = {}\n        // reverse boolean to numeric dictionary to a boolean to string dictionary\n        let inv_extensions = _.invert(this.extensions)\n        _.forEach(response, (ext_num, bool) => {\n          if(typeof(inv_extensions[ext_num])=='undefined') {\n            reject(new CWError(6, 'Extension index provided does not exist or isn\\'t configured properly.', {'provided_num_returned': ext_num, 'available': this.extensions}))\n          } else {\n            // Put string name of extension in rezponse object and set boolean on it.\n            rez[inv_extensions[ext_num]] = bool\n          }\n        })\n        resolve(rez)\n      })\n    })\n  }\n\n  /**\n     * Check if current user is licensed to use a feature:\n     *\n     * \"UnknownFeature\", \"ViewInspections\", \"EditInspections\", \"ViewServiceRequest\", \"EditServiceRequest\", \"ViewWorkOrder\", \"EditWorkOrder\", \"EquipmentCheckOut\", \"OfficeField\", \"Respond\", \"Eurl\", \"PaverInterface\", \"Contracts\", \"Storeroom\", \"PLL\", \"Cw4XL\", \"TableEditor\", \"CCTVInterface\", \"MobileAndroid\", \"MobileiOS\", \"PerformanceBudgeting\", \"Insights\", \"RespondCase\", \"RespondInspection\", \"RespondServiceRequest\", \"RespondTaskManager\", \"RespondWorkOrder\", \"Workload\", \"OpX\", \"TrimbleUnityMobile\", \"TrimbleVegetationManager\"\n     *\n     * @param {string} [feature] - Feature to check to see if ciurrently authenticated user can utilize\n     * @return {Object} Returns Promise object that represents a boolean which communicates license state as licensed (true) or not (false)\n     */\n  licensedFeatureCheck(feature: string) {\n    return new Promise((resolve, reject) => {\n      if(typeof(this.features[feature])=='undefined') {\n        reject(new CWError(7, 'Feature provided does not exist or is mispelled.', {'provided': feature, 'available': this.features}))\n      }\n      let data = {\n        \"Feature\": this.features[feature]\n      }\n      let path = 'General/Authorization/LicensedFeatureCheck'\n      this.runRequest(path, data).then((response: any) => {\n        resolve(response.Value)\n      })\n    })\n  }\n\n  /**\n     * Check if current user is licensed to use features:\n     *\n     * \"UnknownFeature\", \"ViewInspections\", \"EditInspections\", \"ViewServiceRequest\", \"EditServiceRequest\", \"ViewWorkOrder\", \"EditWorkOrder\", \"EquipmentCheckOut\", \"OfficeField\", \"Respond\", \"Eurl\", \"PaverInterface\", \"Contracts\", \"Storeroom\", \"PLL\", \"Cw4XL\", \"TableEditor\", \"CCTVInterface\", \"MobileAndroid\", \"MobileiOS\", \"PerformanceBudgeting\", \"Insights\", \"RespondCase\", \"RespondInspection\", \"RespondServiceRequest\", \"RespondTaskManager\", \"RespondWorkOrder\", \"Workload\", \"OpX\", \"TrimbleUnityMobile\", \"TrimbleVegetationManager\"\n     *\n     * @param {Array<string>} [feature] - Features to check to see if currently authenticated user can utilize\n     * @return {Object} Returns Promise object that represents a boolean which communicates license state as licensed (true) or not (false)\n     */\n  licensedFeaturesCheck(features: Array<string>) {\n    return new Promise((resolve, reject) => {\n      var data: { Features: Array<number> } = {\n        Features: []\n      }\n      _.forEach(features, (v: string) => {\n        if(typeof(this.features[v])=='undefined') {\n          reject(new CWError(8, 'Feature provided does not exist or is mispelled.', {'provided': v, 'available': this.features}))\n        } else {\n          data.Features.push(this.features[v])\n        }\n      })\n      let path = 'General/Authorization/LicensedFeaturesCheck'\n      this.runRequest(path, data).then((response: any) => {\n        let rez: Object = {}\n        // reverse boolean to numeric dictionary to a boolean to string dictionary\n        let inv_features = _.invert(this.features)\n        _.forEach(response.Value, (feat_num, bool) => {\n          if(typeof(inv_features[feat_num])=='undefined') {\n            reject(new CWError(9, 'Feature index provided does not exist or isn\\'t configured properly.', {'provided': feat_num, 'available': inv_features}))\n          } else {\n            // Put string name of extension in rezponse object and set boolean on it.\n            rez[inv_features[feat_num]] = bool\n          }\n        })\n        resolve(rez)\n      })\n    })\n  }\n\n  // LicensedServicesCheck\n  // Check if current user is licensed to use services\n  // List req ServicesList of 'Area/Service', i.e. ['AMS/Inspection','AMS/WorkOrder','PLL/Case']\n  /**\n     * Check if current user is licensed to use services. List req ServicesList of 'Area/Service', i.e.:\n     *\n     * ['AMS/Inspection','AMS/WorkOrder','PLL/Case']\n     *\n     * @param {Array<string>} [services] - Services to check to see if currently authenticated user can utilize\n     * @return {Object} Returns Promise object that represents a boolean which communicates license state as licensed (true) or not (false)\n     */\n  licensedServicesCheck(services: Array<string>) {\n    return new Promise((resolve, reject) => {\n      let path = 'General/Authorization/LicensedServicesCheck'\n      var data: { Services: Array<string> } = {\n        Services: services\n      }\n      this.runRequest(path, data).then((response: any) => {\n        resolve(response.Value)\n      })\n    })\n  }\n\n  /**\n     * Get a list of CityworksOnline sites for this user\n     *\n     * @param {string} [login] - Login Name to use when checking. Defaults to previously-stored login name.\n     * @param {string} [password] - Password to use when checking. Defaults to previously-stored password.\n     * @return {Object} Returns Promise object that represents an array of cityworks online sites available to this user.\n     */\n  cityworksOnlineSites(login?: string, password?: string) {\n    return new Promise((resolve, reject) => {\n      let path = 'General/Authentication/CityworksOnlineSites'\n      var data = {\n        LoginName: (typeof(login)!='undefined') ? login: this.login,\n        Password:  (typeof(password)!='undefined') ? password : this.password\n      }\n      this.runRequest(path, data).then((response: any) => {\n        resolve(response.Value)\n      })\n    })\n  }\n\n  /**\n     * Get a list of Domains (not tld, but organizations) in the currently-connected Cityworks install\n     *\n     * @return {Object} Returns Promise object that represents a collection of the configured domains.\n     */\n  domains() {\n    return new Promise((resolve, reject) => {\n      let path = 'General/Authentication/Domains'\n      var data = {}\n      this.runRequest(path, data).then((response: any) => {\n        resolve(response.Value)\n      })\n    })\n  }\n\n  /**\n     * Get a list of Domains (not tld, but organizations) in the currently-connected Cityworks install\n     *\n     * @param {string} [login] - Optional login name to get user information for. Defaults to currently-set user name used for login.\n     * @return {Object} Returns Promise object that represents an Object with the user information\n     */\n  user(login?: string) {\n    return new Promise((resolve, reject) => {\n      let path = 'General/Authentication/User'\n      let data = { LoginName: (typeof(login)!='undefined') ? login: this.login }\n      this.runRequest(path, data).then((response: any) => {\n        resolve(response.Value)\n      })\n    })\n  }\n\n  /**\n     * Get the software version number of the currently-connected Cityworks install\n     *\n     * @return {Object} Returns Promise object that represents a string of the version number\n     */\n  version() {\n    return new Promise((resolve, reject) => {\n      let path = 'General/Authentication/Version'\n      var data = {}\n      this.runRequest(path, data).then((response: any) => {\n        resolve(response.Value)\n      })\n    })\n  }\n}\n\nconst cw = new Cityworks()\n\nconst general = new General(cw)\nconst activity_link = new ActivityLinks(cw)\nconst message_queue = new MessageQueue(cw)\nconst search = new Search(cw)\nconst gis = new Gis(cw)\nconst request = new Request(cw)\nconst inspection = new Inspection(cw)\nconst workorder = new WorkOrder(cw)\nconst briefcase = new Briefcase(cw)\n\nbriefcase.data = new CaseData(cw)\nbriefcase.financial = new CaseFinancial(cw)\nbriefcase.workflow = new CaseWorkflow(cw)\nbriefcase.admin = new CaseAdmin(cw)\nbriefcase.comment = new Comments(cw, 'CaObject')\nbriefcase.asset = new CaseAssets(cw)\n\nworkorder.admin = new WorkOrderAdmin(cw)\nworkorder.costs = new WorkOrderCosts(cw)\nworkorder.comment = new Comments(cw, 'WorkOrder')\n\ninspection.admin = new InspectionAdmin(cw)\ninspection.costs = new InspectionCosts(cw)\n\nrequest.admin = new RequestAdmin(cw)\nrequest.costs = new RequestCosts(cw)\nrequest.comment = new Comments(cw, 'Request')\n\nexport { cw as Cityworks, general, activity_link, message_queue, search, gis, request, inspection, workorder, briefcase }"],"names":["_","require","CWError","constructor","code","message","info","name","this","has","get","JSON","stringify","Comments","cw","activityType","activityTypes","currentActivityType","ReversibleMap","set","provided","options","add","sid","comment","Promise","resolve","reject","data","ActivityType","ActivitySid","runRequest","then","response","Value","catch","e","update","id","CommentId","sids","ActivitySids","length","getPredefined","problemSid","category","https","querystring","base_url","settings","load","Token","login","password","gisToken","gisTokenUrl","error","extensions","features","potential_loads","UnknownExtension","CwAnalytics","WebHooks","PLLPublicApp","ActivityUpdate","SingleSignOn","UnknownFeature","ViewInspections","EditInspections","ViewServiceRequest","EditServiceRequest","ViewWorkOrder","EditWorkOrder","EquipmentCheckOut","OfficeField","Respond","Eurl","PaverInterface","Contracts","Storeroom","PLL","Cw4XL","TableEditor","CCTVInterface","MobileAndroid","MobileiOS","PerformanceBudgeting","Insights","RespondCase","RespondInspection","RespondServiceRequest","RespondTaskManager","RespondWorkOrder","Workload","OpX","TrimbleUnityMobile","TrimbleVegetationManager","path","secure","expires","default_domain","configure","forEach","v","k","file","pd","token","hostname","port","method","headers","Buffer","byteLength","timeout","request","str","on","console","log","chunk","match","obj","parse","Status","postedData","api_returned_string","SyntaxError","write","end","authenticate","LoginName","Password","authenticateWithGISToken","GisToken","GisTokenUrl","Expires","validateToken","setToken","getToken","revokeToken","revokeBefore","RevokeDate","getLocalizationSettings","getTimezoneOptions","getCurrentLocation","licensedApiCheck","area","service","Area","Service","licensedExtensionCheck","extension","available","Extension","licensedExtensionsCheck","Extensions","push","rez","inv_extensions","invert","ext_num","bool","provided_num_returned","licensedFeatureCheck","feature","Feature","licensedFeaturesCheck","Features","inv_features","feat_num","licensedServicesCheck","services","Services","cityworksOnlineSites","domains","user","version","general","notifications","amIWatching","activityId","aType","null","case","task","potential_activities","ActivityId","r","getActivityMetadataByIds","ids","table","tables","indexOf","Ids","TableName","getHistory","getWOEntityCostSummary","object_ids","ObjectIds","searchWOEntityCostSummary","search_id","SearchId","activity_link","linkTypes","source_type","source_sid","destination_type","destination_sid","link_type","SourceType","SourceSid","DestType","DestSid","LinkType","type","_this","return_data","Array","link","key","clone","SourceActivityType","SourceActivitySid","DestinationActivityType","DestinationActivitySid","delete","activity_link_id","ActivityLinkId","remove","message_queue","status","Pending","Processing","Complete","Failed","hook_types","Unknown","Email","WebHook","processMessages","delete_successful","Delete","maxcount","MaxCount","hours_to_keep","HoursToKeep","preferences","search","parameters","max_results","MaxResults","allowed_params","disallowed_params","value","concat","HookType","updateMessageStatus","getWebooks","hook_ids","HookIds","searchTypes","Null","Request","WorkOrder","Inspection","Contract","Permit","GIS","PermitTask","PermitAddress","InspCommon","Case","WorkOrderEntity","StoreTransaction","Requisition","Material","WorkActivity","MaterialLeaf","WoTemplate","Employee","MessageQueue","Analytics","TokenState","AssetCalculationResult","Equipment","CustomerAccount","InspTemplate","ProblemLeaf","AssetSplitRecord","PavementInsp","TvInspection","Projects","quick","text","QuickSearchText","execute","searchId","merge","getSaved","searchType","applyToEntities","employeeSid","domainId","savedEndpoint","displayFields","types","enableServices","searchIds","Enable","SearchIds","disableServices","getDefinition","getDefinitions","getDefinitionNames","deleteDefinitions","saveDefinition","searchFor","SearchFor","gis","getConfig","whichType","whichId","getGisData","context","toLowerCase","domain","downloadMobile","cacheId","initialExtent","requestId","inspection","inspectionId","workOrder","workOrderSid","allDomains","allGroups","selectedEntities","getEntityAttributes","entityType","EntityType","admin","costs","updateMLF","ServiceRequestId","create","sr_data","move","x","y","projection","z","base_data","RequestId","X","Y","changeProblem","ProblemSid","getById","getByIds","requestIds","RequestIds","getAuditLog","getCustomFields","changeCustomFieldCategory","categoryId","CategoryId","cancel","cancelReason","dateCancelled","uncancel","close","Message","reopen","searchData","searchObject","createSearchDefinition","searchName","sharedWithin","enableEurl","isString","getProblemNodes","viewOnly","displayMode","includeCancelled","DomainId","IncludeCancelled","ViewOnly","getProblems","forPublicOnly","onlyActiveTemplates","domainIds","ForPublicOnly","OnlyActiveTemplates","getProblemsByKeywords","keywords","Keywords","getPriorities","ProblemSids","getCustomFieldTemplate","getQASettings","getProblemLeaf","getStatuses","DomainIds","getEmployeeLists","listType","includes","getDispatchTos","getSubmitTos","streetCodes","getTemplatesById","problemSids","minimumDateModified","maximumDateModified","createTemplateSearchDefinition","getTemplateQAs","searchTemplates","getTemplates","templateIds","canCreate","includeInactiveIf","CanCreate","IncludeInactiveIf","getWOTemplates","includeInactive","IncludeInactive","getMLFs","updateMLFs","isNumber","deleteMLFs","insp_data","createFromEntities","createFromParent","createFromServiceRequest","createFromWorkOrder","InspectionId","inspectionIds","InspectionIds","CancelReason","DateCancelled","statuses","submitTos","includeInactiveEmployees","IncludeInactiveEmployees","connectAsset","entity","updateXY","facility","EntityUid","Entity","Facility_Id","Level_Id","getAnswers","inspections","getCycleFrom","getCycleIntervals","getCycleTypes","getDistricts","data_init","entityTypes","EntityTypes","forIn","getTemplatesByIds","inspTemplateIds","InspTemplateIds","getTemplateEntityTypes","getQA","getQConditions","deleteAttachments","attachmentIds","AttachmentIds","downloadAttachment","attachmentId","AttachmentId","getAttachmentById","getAttachments","workorder","wo_data","workOrderSId","s","combine","fromWorkOrderIds","toWorkOrderId","cancelCombinedWorkOrders","CancelCombinedWorkOrders","ToWorkOrderId","FromWorkOrderIds","workOrderId","WorkOrderId","workOrderSIds","workorderSId","getInstructions","getCustomFieldValues","workorderSIds","getEntities","GetGisData","addEntities","entityInfo","UpdateXY","updateEntity","workComplete","WorkComplete","removeEntities","workOrderIds","WorkOrderIds","getWOsByEntities","entityUids","getSearchList","getSupervisors","getCategories","getStages","getExpenseTypes","briefcase","asset","workflow","financial","caseTypeId","subTypeId","CaseTypeId","SubTypeId","createChild","busCaseId","parentCaObjectId","BusCaseId","ParentCaObjectId","createFromRequest","caObjectId","CaObjectId","caObjectIds","CaObjectIds","filters","addGroup","caseDataGroupId","groupCode","CaseDataGroupId","GroupCode","addDefaultGroups","wipAddDetail","caseDataDetailId","caDataGroupId","columnSequence","detailCode","detailSequence","CaseDataDetailId","CaDataGroupId","ColumnSequence","DetailCode","DetailSequence","getGroupsByCaseId","deleteGroupsByCaseId","searchForGroups","intersectionBy","keysIn","checkGIS","entityUid","updateGroupsFromAsset","addDetail","updateDetail","caDataDetailId","CaDataDetailId","lockDetail","Lock","unlockDetail","addListValue","listValue","ListValue","deleteListValue","searchForListValueIds","searchForListValueObjects","addFee","feeSetupId","FeeSetupId","addPayment","addRefund","caPaymentId","refundAmount","CaPaymentId","RefundAmount","addDepositPayment","caDepositId","CaDepositId","addDeposit","depositId","amount","DepositId","addInstrument","instTypeId","dateExpire","InstTypeId","Amount","DateExpire","updateFee","caFeeId","CaFeeId","voidRefund","caPaymentRefundId","voided","CaPaymentRefundId","Voided","addDefaultFees","addDefaultDeposits","getFees","getDeposits","getPayments","getInstruments","deleteFee","deleteFeesByCaseId","deletePayment","deleteRefund","deletePaymentsByCaseId","deleteDeposit","deleteDepositsByCaseId","deleteInstrument","caInstrumentId","CaInstrumentId","deleteInstrumentsByCaseId","searchFees","searchPayments","searchRefunds","searchDeposits","getAllFeeTemplates","searchFeeTemplates","searchCaseInstruments","getInstrumentList","addCaseInstrumentRelease","releasedBy","dateReleased","amountReleased","percentReleased","DateReleased","ReleasedBy","deleteCaseInstrumentRelease","caInstReleasesId","CaInstReleasesId","searchCaseInstrumentReleases","fees","searchAvailableFees","getTenderTypes","addTenderType","updateTenderType","tenderTypeId","TenderTypeId","addTask","taskId","startPoint","endPoint","TaskId","StartPoint","EndPoint","addTaskResult","caTaskId","resultCode","resultID","resultSetID","CaTaskId","ResultCode","ResultID","ResultSetID","addTaskComment","CommentText","getTasksByCaseId","checkRelatedItems","CheckRelatedItems","getTasksById","caTaskIds","CaTaskIds","getResultsByTaskId","getCommentsForTask","getCommentsForTasks","updateTask","updateTaskComment","caTaskCommentId","commentId","CaTaskCommentId","setTaskResult","deleteTask","deleteTasksOnCase","deleteTaskComments","caTaskCommentIds","CaTaskCommentIds","searchForTasks","searchForTaskResults","addTaskAttachment","docName","locationType","DocName","getTaskAttachments","deleteTaskAttachment","caRelDocId","CaRelDocId","addBusinessCaseTemplate","updateBusinessCaseTemplate","getBusinessCaseTemplates","addCaseType","caseTypeName","caseTypeDesciption","CaseType","CaseTypeDesciption","updateCaseType","getCaseTypes","searchCaseTypeIDs","searchCaseTypeObjects","addSubtype","subTypeName","subTypeDescription","SubType","SubTypeDesc","updateSubtype","getSubtypes","getExpirations","addExpiration","getDisciplines","addDepartment","departmentCode","departmentName","DepartmentCode","DepartmentName","getDepartments","addDivision","departmentId","divisionName","DepartmentId","DivisionName","getDivisions","addHoliday","holidayDate","holidayDesc","halfDayFlag","HolidayDate","HolidayDesc","deleteHoliday","holidayId","HolidayId","getHolidays","addInspectionTimeBlock","labelText","startTime","endTime","inspTimeBlocksDetails","LabelText","StartTime","EndTime","getInspectionTimeBlocks","getNotificationCases","getNotificationTypes","addNumberingGroup","updateNumberingGroup","numberingGroupId","NumberingGroupId","getNumberingGroups","addPerson","Name","getPeople","addPeopleRole","roleCode","RoleCode","getPeopleRoles","addTaskResultDetail","updateTaskResultDetail","resultDetailId","ResultDetailId","getTaskResultDetails","addTaskResultFeeInsert","deleteTaskResultFeeInsert","taskResultFeeInsertId","TaskResultFeeInsertId","deleteTaskResultFeeInsertByTaskId","updateTaskResultFeeInsert","taskResultId","TaskResultId","getTaskResultFeeInsert","attach","detach","caAddressId","CaAddressId","detachAll","getForCase","getEntityGroups","getEntityTypes","entityGroups","EntityGroups","includeComments","includeInstructions","IncludeComments","IncludeInstructions","updateTemplate","wOTemplate","getTemplateGroupRights","wOTemplateIds","WOTemplateIds","getTemplateActivity","getUpdateFields","getTemplateEquipment","wOTemplateId","WOTemplateId","getTemplateLabor","getTemplateMaterial","getTemplateMapLayerFields","WorkOrderTemplateId","getTemplateTasks","getRelatedInspectionTemplates","getCodes","employeeSids","commonOnly","EmployeeSids","CommonCodesOnly","getJobCodes","addLabor","hours","WorkOrderSid","Hours","getLabor","workOrderSids","estimated","Estimated","WorkOrderSids","deleteLabor","laborCostIds","LaborCostIds","addEquipment","getEquipment","deleteEquipment","equipmentCostIds","EquipmentCostIds","addMaterial","units","combineIssuesByMaterialSid","Units","CombineIssuesByMaterialSid","getMaterial","deleteMaterial","materialCostIds","MaterialCostIds","reqLaborCostIds","requestCosts"],"mappings":"8BAAA,MAAMA,EAAIC,QAAQ,gBAmBLC,EA0BXC,YAAYC,EAAaC,EAAgBC,QAtBzCC,UAAI,EAAAC,KAIJJ,UAIAC,EAAAA,KAAAA,oBAIAC,UAAI,EAWFE,KAAKD,KAAO,sBACZC,KAAKJ,KAAOA,EACZI,KAAKH,QAAUA,OACK,IAAVC,IACLN,EAAES,IAAIH,EAAM,aACbE,KAAKH,QAAUL,EAAEU,IAAIJ,EAAM,YAC7BE,KAAKF,KAAOK,KAAKC,UAAUN,GAE/B,ECrDF,MAAMN,EAAIC,QAAQ,UCCZD,EAAIC,QAAQ,UCDRA,QAAQ,UCAlB,MAAMD,EAAIC,QAAQ,UCAZD,EAAIC,QAAQ,UCAZD,EAAIC,QAAQ,UCAZD,EAAIC,QAAQ,UCAZD,EAAIC,QAAQ,UCAZD,EAAIC,QAAQ,UCAZD,EAAIC,QAAQ,UCAZD,EAAIC,QAAQ,UCCZD,EAAIC,QAAQ,UAML,MAAAY,EAmBXV,YAAYW,EAASC,GAYnB,GAZuCP,KAfzCM,QAKAE,EAAAA,KAAAA,mBAKAC,EAAAA,KAAAA,yBAME,EAAAT,KAAKM,GAAKA,EACVN,KAAKQ,cAAgB,IAAIE,EACzBV,KAAKQ,cAAcG,IAAI,UAAW,GAClCX,KAAKQ,cAAcG,IAAI,UAAW,GAClCX,KAAKQ,cAAcG,IAAI,YAAa,GACpCX,KAAKQ,cAAcG,IAAI,SAAU,GACjCX,KAAKQ,cAAcG,IAAI,WAAY,GACnCX,KAAKQ,cAAcG,IAAI,eAAgB,GACvCX,KAAKQ,cAAcG,IAAI,UAAW,GAClCX,KAAKQ,cAAcG,IAAI,WAAY,IAE/BX,KAAKQ,cAAcP,IAAIM,GACzB,MAAU,IAAAb,EAAQ,EAAG,mCAAoC,CAACkB,SAAYL,EAAcM,QAAUb,KAAKQ,gBAErGR,KAAKS,oBAAsBF,CAC7B,CASAO,IAAIC,EAAaC,GACf,WAAWC,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAO,CACTC,aAAcrB,KAAKQ,cAAcN,IAAIF,KAAKS,qBAC1Ca,YAAaP,EACbV,SAAUW,GAEZhB,KAAKM,GAAGiB,WAAW,kBAAmBH,GAAMI,KAAMC,IAChDP,EAAQO,EAASC,MAAK,GACrBC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CASAC,OAAOC,EAAYd,GACjB,OAAW,IAAAC,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAO,CACTC,aAAcrB,KAAKQ,cAAcN,IAAIF,KAAKS,qBAC1CsB,UAAWD,EACXzB,SAAUW,GAEZhB,KAAKM,GAAGiB,WAAW,qBAAsBH,GAAMI,KAAMC,IACnDP,EAAQO,EAASC,MACnB,GAAGC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CAQA1B,IAAI8B,GACF,OAAW,IAAAf,QAAQ,CAACC,EAASC,KAC3B,QAAiB,IAAPa,GAA6B,MAAPA,EAAa,CAC3C,IAAIZ,EAAO,CACTa,aAAcD,EACdX,aAAcrB,KAAKQ,cAAcN,IAAIF,KAAKS,sBAE5CT,KAAKM,GAAGiB,WAAW,6BAA8BH,GAAMI,KAAMC,IAEzDP,EADc,GAAbc,EAAKE,OACET,EAASC,MAAMM,EAAK,IAEpBP,EAASC,MAClB,EAEJ,GAEL,CASAS,cAAcC,EAAqBC,GACjC,OAAO,IAAIpB,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAO,CAAA,EACkB,WAA1BpB,KAAKS,qBACNjB,EAAEmB,IAAIS,EAAM,aAAcgB,QAEP,IAAXC,GAAqD,WAA1BrC,KAAKS,qBAA4D,aAA1BT,KAAKS,qBAC/EjB,EAAEmB,IAAIS,EAAM,WAAYiB,GAE1B7C,EAAEmB,IAAIS,EAAM,eAAgBpB,KAAKQ,cAAcN,IAAIF,KAAKS,sBACxDT,KAAKM,GAAGiB,WAAW,iCAAkCH,GAAMI,KAAMC,IAC/DP,EAAQO,EAASC,MAAK,GACrBC,MAAMC,IACPT,EAAOS,EACT,EACF,EACF,ECvIF,MAAMpC,EAAIC,QAAQ,UCAZD,EAAIC,QAAQ,UCCZD,EAAIC,QAAQ,UCDRA,QAAQ,UCAlB,MAAMD,EAAIC,QAAQ,UCARA,QAAQ,UCClB,MAAMD,EAAIC,QAAQ,UCAZD,EAAIC,QAAQ,UCARA,QAAQ,UCqBlB,MAAM6C,EAAQ7C,QAAQ,SAChB8C,EAAc9C,QAAQ,eACtBD,EAAIC,QAAQ,UA+mBZa,EAAK,IAjmBX,MA8CEX,YAAY6C,EAAmBC,EAAmBC,GA1C1CF,KAAAA,qBAIAG,WAAK,EAAA3C,KAIL4C,WAIAC,EAAAA,KAAAA,qBAIAC,cAAQ,EAAA9C,KAIR+C,iBAIAN,EAAAA,KAAAA,qBAMRO,WAAK,EAAAhD,KAEGiD,gBACAC,EAAAA,KAAAA,qBACAC,qBAAe,EASrBnD,KAAKwC,SAAW,kBAChBxC,KAAKiD,WAAa,CAACG,iBAAoB,EAAGC,YAAe,EAAGC,SAAY,EAAGC,aAAgB,EAAGC,eAAkB,EAAGC,aAAgB,GACnIzD,KAAKkD,SAAW,CAACQ,eAAkB,EAAGC,gBAAmB,EAAGC,gBAAmB,EAAGC,mBAAsB,EAAGC,mBAAsB,EAAGC,cAAiB,EAAGC,cAAiB,EAAGC,kBAAqB,EAAGC,YAAe,EAAGC,QAAW,EAAGC,KAAQ,GAAIC,eAAkB,GAAIC,UAAa,GAAIC,UAAa,GAAIC,IAAO,GAAIC,MAAS,GAAIC,YAAe,GAAIC,cAAiB,GAAIC,cAAiB,GAAIC,UAAa,GAAIC,qBAAwB,GAAIC,SAAY,GAAIC,YAAe,GAAIC,kBAAqB,GAAIC,sBAAyB,GAAIC,mBAAsB,GAAIC,iBAAoB,GAAIC,SAAY,GAAIC,IAAO,GAAIC,mBAAsB,GAAIC,yBAA4B,IACtoBxF,KAAKyC,SAAW,CACdgD,KAAM,YACNC,QAAQ,EACRC,QAAS,KACTC,eAAgB,MAElB5F,KAAKmD,gBAAkB,CAAC,UAAW,gBAAiB,gBAAiB,MAAO,SAAU,UAAW,OAAQ,uBACpF,IAAXX,GACRxC,KAAK6F,UAAUrD,EAAUC,EAAUC,EAEvC,CAUAmD,UAAUrD,EAAmBC,EAAmBC,GACR1C,KAAKwC,cAApB,IAAbA,EAA4CA,EAAkC,kBACxFxC,KAAKyC,SAAW,CACdgD,KAAM,YACNC,QAAQ,EACRC,QAAS,KACTC,eAAgB,WAGG,IAAXnD,GACRjD,EAAEsG,QAAQrD,EAAU,CAACsD,EAAEC,UACQ,IAAfhG,KAACyC,SAASuD,KAAmBhG,KAAKyC,SAASuD,GAAKD,EAAE,EAGtE,CAcAxE,WAAWkE,EAAMrE,EAAO6E,GACtB,WAAWhF,QAAQ,CAACC,EAASC,KAC3B,IAAI+E,EAAK,CAAA,OAEW,IAAV9E,IACR8E,EAAG9E,KAAOjB,KAAKC,UAAUgB,SAGP,IAAV6E,GAAgC,iCAANR,GAA+C,uBAANA,IAC3ES,EAAGD,KAAOA,QAGc,IAAhBjG,KAAK2C,OAAwC,IAAd3C,KAAK2C,OAAqB,sDAAN8C,GAAoE,uCAANA,IACzHS,EAAGC,MAAQnG,KAAK2C,OAQlB,IAAI9B,EAAU,CACZuF,SAAUpG,KAAKwC,SACf6D,KAAM,IACNZ,KAAM,IAAMzF,KAAKyC,SAASgD,KAAO,aAAeA,EAChDa,OAAQ,OACRC,QAAS,CACN,eAAgB,oCAChB,iBAAkBC,OAAOC,WAAWlE,EAAYnC,UAAU8F,KAE7DQ,QAAS,KAEPC,EAAUrE,EAAMqE,QAAQ9F,EAAUY,IAClC,IAAImF,EAAI,GACRnF,EAASoF,GAAG,QAAQ,SAASjF,GACzBkF,QAAQC,IAAInF,EAAG,mBACfT,EAAO,IAAIzB,EAAQ,GAAI,iBAAkBkC,GAC7C,GAEAH,EAASoF,GAAG,OAAO,SAASG,GACxBJ,GAAKI,CACT,GAEAvF,EAASoF,GAAG,MAAM,WAChB,IAEE,GAA8C,OAD/B1G,KAAKC,UAAUwG,GAAO,iBACzBK,MAAM,2BAAkC,CAClD,IAAIC,EAAI/G,KAAKgH,MAAMP,GAInB,QAAgB,IAANM,EAER/F,EAAO,IAAIzB,EAAQ,GAAI,kDAClB,QAAgB,IAANwH,QAAwC,IAAZA,EAAIxF,MAC/C,OAAOwF,EAAIE,QACT,KAAM,EACJjG,EAAO,IAAIzB,EAAQ,EAAG,QAASwH,IAC/B,MACF,KAAK,EACH/F,EAAO,IAAIzB,EAAQ,EAAG,eAAgBwH,IACtC,MACF,OACE/F,EAAO,IAAIzB,EAAQ,EAAG,qBAAsBwH,IAC5C,MAEF,QACEhG,EAAQgG,QAIZ/F,EAAO,IAAIzB,EAAQ,EAAG,iBAAkB,CAACmB,QAASA,EAASwG,WAAYnB,EAAIoB,oBAAqBJ,IAEnG,MACC/F,EAAO,IAAIzB,EAAQ,EAAG,+CAAgD,CAAC+B,SAAUmF,IAEpF,CAAC,MAAOhF,GACHA,aAAa2F,aACfT,QAAQC,IAAI,2BACZ5F,EAAO,IAAIzB,EAAQ,EAAG,sBAAuB,CAACsD,MAAOpB,OAErDkF,QAAQC,IAAI,gEACZ5F,EAAO,IAAIzB,EAAQ,EAAG,wBAEzB,CACH,EACJ,GACAiH,EAAQa,MAAMjF,EAAYnC,UAAU8F,IACpCS,EAAQc,KACV,EACF,CAQAC,aAAa9E,EAAeC,GAC1B,WAAW5B,QAAQ,CAACC,EAASC,KAC3B,IACIsE,EAAO,sCACS,mBAAjBzF,KAAKwC,WACNiD,EAAO,sDAETzF,KAAKuB,WAAWkE,EALL,CAAEkC,UAAU/E,EAAOgF,SAAS/E,IAKXrB,KAAMC,IAK9BzB,KAAK4C,MAAQA,EACb5C,KAAK6C,SAAWA,EAChB7C,KAAK2C,MAAQlB,EAASC,MAAMiB,MAC5BzB,GAAQ,EAKZ,GAAGS,MAAMqB,IACP7B,EAAO6B,IACR,EAEL,CASA6E,yBAAyBjF,EAAeE,EAAkBC,EAAqB4C,GAQ7E,OAPA3F,KAAK4C,MAAQA,EACb5C,KAAK8C,SAAWA,EAChB9C,KAAK+C,YAAcA,OACC,IAAV4C,IACRA,EAAU,SAGL,IAAI1E,QAAQ,CAACC,EAASC,KAI3BnB,KAAKuB,WAHM,8CACA,CAAEoG,UAAU3H,KAAK4C,MAAOkF,SAAU9H,KAAK8C,SAAUiF,YAAa/H,KAAK+C,YAAaiF,QAASrC,IAExEnE,KAAMC,SACH,IAAlBA,EAAS2F,QAAwB3F,EAAS2F,OAAO,SAG1B,IAAjB3F,EAASC,YAAqD,IAAvBD,EAASC,MAAMiB,OACrE3C,KAAK2C,MAAQlB,EAASC,MAAMiB,MAC5BzB,GAAQ,IAGRA,GAAQ,GACT,GACAS,MAAMqB,IACP,MAAMA,KAGZ,CAQAiF,cAAc9B,EAAcxF,GAC1B,OAAO,IAAIM,QAAQ,CAACC,EAASC,KAM3BnB,KAAKuB,WADM,kCADA,CAAEoB,MAAOwD,IAEQ3E,KAAMC,IAC7BA,EAAS2F,OAAO,EAEjBlG,GAAQ,IAELP,IACDX,KAAK2C,MAAQwD,GAEfjF,EAAQO,EAASC,OAClB,GACAC,MAAMqB,IACP,MAAMA,GAEV,EACF,CAOAkF,SAAS/B,GACP,MAAU,IAAPA,GAAoB,MAAPA,IACdnG,KAAK2C,MAAQwD,GAEd,EAGH,CAOAgC,WACE,MAAe,IAAZnI,KAAK2C,OAAyB,MAAZ3C,KAAK2C,OAGb3C,KAAC2C,KAEhB,CAOAyF,YAAYC,GACV,WAAWpH,QAAQ,CAACC,EAASC,KAG3BnB,KAAKuB,WADM,2BADA,CAAE+G,WAAYD,IAEG7G,KAAMC,IAG9BP,SAF2B,IAAlBO,EAAS2F,QAAwB3F,EAAS2F,OAAO,GAK3D,GACAzF,MAAMqB,IACP,MAAMA,GACP,EAEL,CAQAuF,0BACE,WAAWtH,QAAQ,CAACC,EAASC,KAE3BnB,KAAKuB,WADM,4CACW,CAAE,GAAEC,KAAMC,IAC9BP,EAAQO,EAASC,MACnB,IAEJ,CAMA8G,qBACE,OAAW,IAAAvH,QAAQ,CAACC,EAASC,KAE3BnB,KAAKuB,WADM,iCACW,CAAA,GAAIC,KAAMC,IAC9BP,EAAQO,EAASC,MACnB,IAEJ,CAMA+G,qBACE,OAAW,IAAAxH,QAAQ,CAACC,EAASC,KAE3BnB,KAAKuB,WADM,kCACW,CAAA,GAAIC,KAAMC,IAC9BP,EAAQO,EAASC,MAAK,EAE1B,EACF,CASAgH,iBAAiBC,EAAcC,GAC7B,OAAO,IAAI3H,QAAQ,CAACC,EAASC,KAM3BnB,KAAKuB,WADM,mCAJA,CACTsH,KAAQF,EACRG,QAAWF,IAGepH,KAAMC,IAChCP,EAAQO,EAASC,MACnB,IAEJ,CAUAqH,uBAAuBC,GACrB,OAAO,IAAI/H,QAAQ,CAACC,EAASC,UACY,IAA7BnB,KAAKiD,WAAW+F,IACxB7H,EAAO,IAAIzB,EAAQ,EAAG,qDAAsD,CAACkB,SAAYoI,EAAWC,UAAajJ,KAAKiD,cAMxHjD,KAAKuB,WADM,+CAHA,CACT2H,UAAalJ,KAAKiD,WAAW+F,KAGHxH,KAAMC,IAChCP,EAAQO,EAASC,MACnB,EACF,EACF,CAUAyH,wBAAwBlG,GACtB,OAAW,IAAAhC,QAAQ,CAACC,EAASC,KACzB,IAAIC,EAAsC,CACxCgI,WAAY,IAEhB5J,EAAEsG,QAAQ7C,EAAa8C,SACU,IAAjB/F,KAACiD,WAAW8C,GACxB5E,EAAO,IAAIzB,EAAQ,EAAG,qDAAsD,CAACkB,SAAYmF,EAAGkD,UAAajJ,KAAKiD,cAE9G7B,EAAKgI,WAAWC,KAAKrJ,KAAKiD,WAAW8C,GACtC,GAGH/F,KAAKuB,WADM,gDACWH,GAAMI,KAAMC,IAChC,IAAI6H,EAAc,CAAE,EAEhBC,EAAiB/J,EAAEgK,OAAOxJ,KAAKiD,YACnCzD,EAAEsG,QAAQrE,EAAU,CAACgI,EAASC,UACQ,IAA1BH,EAAeE,GACvBtI,EAAO,IAAIzB,EAAQ,EAAG,wEAA0E,CAACiK,sBAAyBF,EAASR,UAAajJ,KAAKiD,cAGrJqG,EAAIC,EAAeE,IAAYC,CAChC,GAEHxI,EAAQoI,EACV,IAEJ,CAUAM,qBAAqBC,GACnB,WAAW5I,QAAQ,CAACC,EAASC,UACQ,SAApB+B,SAAS2G,IACtB1I,EAAO,IAAIzB,EAAQ,EAAG,mDAAoD,CAACkB,SAAYiJ,EAASZ,UAAajJ,KAAKkD,YAMpHlD,KAAKuB,WADM,6CAHA,CACTuI,QAAW9J,KAAKkD,SAAS2G,KAGCrI,KAAMC,IAChCP,EAAQO,EAASC,MAAK,EACvB,EAEL,CAUAqI,sBAAsB7G,GACpB,OAAO,IAAIjC,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAoC,CACtC4I,SAAU,IAEZxK,EAAEsG,QAAQ5C,EAAW6C,SACU,IAAf/F,KAACkD,SAAS6C,GACtB5E,EAAO,IAAIzB,EAAQ,EAAG,mDAAoD,CAACkB,SAAYmF,EAAGkD,UAAajJ,KAAKkD,YAE5G9B,EAAK4I,SAASX,KAAKrJ,KAAKkD,SAAS6C,GAClC,GAGH/F,KAAKuB,WADM,8CACWH,GAAMI,KAAMC,IAChC,IAAI6H,EAAc,GAEdW,EAAezK,EAAEgK,OAAOxJ,KAAKkD,UACjC1D,EAAEsG,QAAQrE,EAASC,MAAO,CAACwI,EAAUR,UACA,IAAzBO,EAAaC,GACrB/I,EAAO,IAAIzB,EAAQ,EAAG,sEAAwE,CAACkB,SAAYsJ,EAAUjB,UAAagB,KAGlIX,EAAIW,EAAaC,IAAaR,CAC/B,GAEHxI,EAAQoI,EACV,IAEJ,CAaAa,sBAAsBC,GACpB,OAAW,IAAAnJ,QAAQ,CAACC,EAASC,KAK3BnB,KAAKuB,WAJM,8CAC6B,CACtC8I,SAAUD,IAEgB5I,KAAMC,IAChCP,EAAQO,EAASC,MAAK,EAE1B,EACF,CASA4I,qBAAqB1H,EAAgBC,GACnC,OAAW,IAAA5B,QAAQ,CAACC,EAASC,KAM3BnB,KAAKuB,WALM,8CACA,CACToG,eAA2B,IAAR/E,EAAuBA,EAAO5C,KAAK4C,MACtDgF,cAA8B,IAAX/E,EAA0BA,EAAW7C,KAAK6C,WAEnCrB,KAAMC,IAChCP,EAAQO,EAASC,QAClB,EAEL,CAOA6I,UACE,WAAWtJ,QAAQ,CAACC,EAASC,KAG3BnB,KAAKuB,WAFM,iCACA,CAAE,GACeC,KAAMC,IAChCP,EAAQO,EAASC,MAAK,EACvB,EAEL,CAQA8I,KAAK5H,GACH,OAAO,IAAI3B,QAAQ,CAACC,EAASC,KAG3BnB,KAAKuB,WAFM,8BACA,CAAEoG,eAA2B,IAAR/E,EAAuBA,EAAO5C,KAAK4C,QACvCpB,KAAMC,IAChCP,EAAQO,EAASC,MAAK,EACvB,EAEL,CAOA+I,UACE,OAAW,IAAAxJ,QAAQ,CAACC,EAASC,KAG3BnB,KAAKuB,WAFM,iCACA,CAAA,GACiBC,KAAMC,IAChCP,EAAQO,EAASC,MAAK,EACvB,EAEL,GAKIgJ,EAAU,UrB3nBd/K,YAAYW,GAAEN,KALdM,QAAE,EAMAN,KAAKM,GAAKA,CACZ,CAOAqK,gBACE,OAAW,IAAA1J,QAAQ,CAACC,EAASC,KAC3BnB,KAAKM,GAAGiB,WAAW,oCAAqC,CAAE,GAAEC,KAAMC,IAChEP,EAAQO,EAASC,MACnB,GAAGC,MAAMC,IACPT,EAAOS,EACT,EACF,EACF,CAUAgJ,YAAYrK,EAAcsK,GACxB,OAAW,IAAA5J,QAAQ,CAACC,EAASC,KAC3B,IAAI2J,EAAQ,CAACC,KAAQ,EAAGC,KAAQ,EAAGC,KAAQ,QACX,IAAtBH,EAAMvK,GAEdY,EAAO,IAAIzB,EAAQ,EAAG,yCAA0C,CAACkB,SAAUL,EAAc2K,qBAAsBJ,KAG/G9K,KAAKM,GAAGiB,WAAW,4CADR,CAACF,aAAgByJ,EAAMvK,GAAe4K,WAAcN,IACOrJ,KAAK4J,IAEzElK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EAAC,EAEX,EAEL,CASAyJ,yBAAyBC,EAAoBC,GAC3C,OAAW,IAAAtK,QAAQ,CAACC,EAASC,KAC3B,IAAIqK,EAAS,CAAC,aAAc,UAAW,cACT,GAA3BhM,EAAEiM,QAAQD,EAAQD,IACnBpK,EAAO,IAAIzB,EAAQ,EAAG,qDAAsD,CAACkB,SAAY2K,EAAOtC,UAAYuC,KAM9GxL,KAAKM,GAAGiB,WAAW,qCAJR,CACTmK,IAAOJ,EACPK,UAAaJ,IAEgD/J,KAAK4J,IAClEtE,QAAQC,IAAIqE,GACZlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,EACF,EACF,CAOAgK,aACE,OAAO,IAAI3K,QAAQ,CAACC,EAASC,KAE3BnB,KAAKM,GAAGiB,WAAW,4BADR,CAAA,GAC2CC,KAAK4J,IACzDtE,QAAQC,IAAIqE,GACZlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EAAC,EACT,EAEL,CAQAiK,uBAAuBC,GACrB,OAAW,IAAA7K,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,sCAHR,CACTwK,UAAaD,IAEiDtK,KAAK4J,IACnEtE,QAAQC,IAAIqE,GACZlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EACT,EAEL,CAQAoK,0BAA0BC,GACxB,OAAO,IAAIhL,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,4CAHR,CACT2K,SAAYD,IAEwDzK,KAAK4J,IACzEtE,QAAQC,IAAIqE,GACZlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,EACF,EACF,GqB6f0BtB,GACtB6L,EAAgB,IpBznBT,MAqBXxM,YAAYW,QAfZE,mBAAa,EAAAR,KAMboM,eAAS,EAAApM,KAITM,QAAE,EAMAN,KAAKM,GAAKA,EACVN,KAAKQ,cAAgB,IAAIE,EACzBV,KAAKQ,cAAcG,IAAI,OAAQ,GAC/BX,KAAKQ,cAAcG,IAAI,OAAQ,GAC/BX,KAAKQ,cAAcG,IAAI,aAAc,GACrCX,KAAKQ,cAAcG,IAAI,UAAW,GAClCX,KAAKQ,cAAcG,IAAI,YAAa,GACpCX,KAAKQ,cAAcG,IAAI,UAAW,GAElCX,KAAKoM,UAAY,IAAI1L,EACrBV,KAAKoM,UAAUzL,IAAI,OAAQ,GAC3BX,KAAKoM,UAAUzL,IAAI,SAAU,GAC7BX,KAAKoM,UAAUzL,IAAI,UAAW,EAChC,CAqBAG,IAAIuL,EAAqBC,EAAoBC,EAA0BC,EAAyBC,EAAoB,WAClH,OAAO,IAAIxL,QAAQ,CAACC,EAASC,KACvBnB,KAAKQ,cAAcP,IAAIoM,IACzBlL,EAAO,IAAIzB,EAAQ,EAAG,yBAA0B,CAACkB,SAAYyL,EAAaxL,QAAUb,KAAKQ,iBAEvFR,KAAKQ,cAAcP,IAAIsM,IACzBpL,EAAO,IAAIzB,EAAQ,EAAG,8BAA+B,CAACkB,SAAY2L,EAAkB1L,QAAUb,KAAKQ,iBAEjGR,KAAKoM,UAAUnM,IAAIwM,IACrBtL,EAAO,IAAIzB,EAAQ,EAAG,uBAAwB,CAACkB,SAAY6L,EAAW5L,QAAUb,KAAKoM,aAEvF,IAAIhL,EAAO,CACTsL,WAAY1M,KAAKQ,cAAcN,IAAImM,GACnCM,UAAWL,EACXM,SAAU5M,KAAKQ,cAAcN,IAAIqM,GACjCM,QAASL,EACTM,SAAU9M,KAAKoM,UAAUlM,IAAIuM,IAG/BzM,KAAKM,GAAGiB,WADG,2BACcH,GAAMI,KAAMC,IACnCP,EAAQO,EAASC,MACnB,GAAGC,MAAMC,IACPT,EAAOS,EACT,EACF,EACF,CAYA1B,IAAI6M,EAAc/K,GAChB,OAAO,IAAIf,QAAQ,CAACC,EAASC,KACvBnB,KAAKQ,cAAcP,IAAI8M,IACzB5L,EAAO,IAAIzB,EAAQ,EAAG,2BAA4B,CAACkB,SAAYmM,EAAMlM,QAAUb,KAAKQ,iBAEtF,IAAIY,EAAO,CACTC,aAAcrB,KAAKQ,cAAcN,IAAI6M,GACrC9K,aAAcD,GAEZgL,EAAQhN,KAEZA,KAAKM,GAAGiB,WADG,sCACcH,GAAMI,KAAMC,IACnC,IAAIwL,EAAc,IAAIC,MACtB1N,EAAEsG,QAAQrE,EAASC,MAAO,CAACyL,EAAMC,KAC/BD,EAAKP,SAAWI,EAAMxM,cAAcN,IAAIiN,EAAKP,UAC7CO,EAAKT,WAAaM,EAAMxM,cAAcN,IAAIiN,EAAKT,YAC/CS,EAAKL,SAAWE,EAAMZ,UAAUlM,IAAIiN,EAAKL,UACzCG,EAAY5D,KAAK8D,EAAI,GAEvBjM,EAAQ+L,EACV,GAAGtL,MAAMC,IACPT,EAAOS,EACT,EACF,EACF,CAiBAyL,MAAMhB,EAAqBC,EAAoBC,EAA0BC,GACvE,OAAW,IAAAvL,QAAQ,CAACC,EAASC,KACvBnB,KAAKQ,cAAcP,IAAIoM,IACzBlL,EAAO,IAAIzB,EAAQ,EAAG,yBAA0B,CAACkB,SAAYyL,EAAaxL,QAAUb,KAAKQ,iBAEvFR,KAAKQ,cAAcP,IAAIsM,IACzBpL,EAAO,IAAIzB,EAAQ,EAAG,8BAA+B,CAACkB,SAAY2L,EAAkB1L,QAAUb,KAAKQ,iBAErG,IAAIY,EAAO,CACTkM,mBAAoBtN,KAAKQ,cAAcN,IAAImM,GAC3CkB,kBAAmBjB,EACnBkB,wBAAyBxN,KAAKQ,cAAcN,IAAIqM,GAChDkB,uBAAwBjB,GAG1BxM,KAAKM,GAAGiB,WADG,0CACcH,GAAMI,KAAMC,IACnCP,EAAQO,EAASC,MACnB,GAAGC,MAAMC,IACPT,EAAOS,EACT,EACF,EACF,CAQA8L,OAAOC,GACL,OAAW,IAAA1M,QAAQ,CAACC,EAASC,KAK3BnB,KAAKM,GAAGiB,WADG,8BAHA,CACTqM,eAAgBD,IAGanM,KAAMC,IACnCP,EAAQO,EAASC,MAAK,GACrBC,MAAMC,IACPT,EAAOS,EAAC,EACT,EAEL,CAqBAiM,OAAOxB,EAAqBC,EAAoBC,EAA0BC,EAAyBC,EAAoB,WACrH,OAAO,IAAIxL,QAAQ,CAACC,EAASC,KACvBnB,KAAKQ,cAAcP,IAAIoM,IACzBlL,EAAO,IAAIzB,EAAQ,EAAG,yBAA0B,CAACkB,SAAYyL,EAAaxL,QAAUb,KAAKQ,iBAEvFR,KAAKQ,cAAcP,IAAIsM,IACzBpL,EAAO,IAAIzB,EAAQ,EAAG,8BAA+B,CAACkB,SAAY2L,EAAkB1L,QAAUb,KAAKQ,iBAEjGR,KAAKoM,UAAUnM,IAAIwM,IACrBtL,EAAO,IAAIzB,EAAQ,EAAG,uBAAwB,CAACkB,SAAY6L,EAAW5L,QAAUb,KAAKoM,aAEvF,IAAIhL,EAAO,CACTsL,WAAY1M,KAAKQ,cAAcN,IAAImM,GACnCM,UAAWL,EACXM,SAAU5M,KAAKQ,cAAcN,IAAIqM,GACjCM,QAASL,EACTM,SAAU9M,KAAKoM,UAAUlM,IAAIuM,IAG/BzM,KAAKM,GAAGiB,WADG,8BACcH,GAAMI,KAAMC,IACnCP,EAAQO,EAASC,MACnB,GAAGC,MAAMC,IACPT,EAAOS,EACT,EACF,EACF,GoB4ZsCtB,GAClCwN,EAAgB,UlBtmBpBnO,YAAYW,GA/BZA,KAAAA,eAQAyN,OAAiB,CACfC,QAAS,EACTC,WAAY,EACZC,SAAU,EACVC,OAAQ,QASVC,WAAqB,CACnBC,QAAS,EACT7K,eAAgB,EAChB8K,MAAO,EACPC,QAAS,GAOTvO,KAAKM,GAAKA,CACZ,CASAkO,gBAAgBlD,EAAoBmD,GAA6B,GAC/D,OAAO,IAAIxN,QAAQ,CAACC,EAASC,KAG3BnB,KAAKM,GAAGiB,WADG,uCADA,CAAEmK,IAAKJ,EAAKoD,OAAQD,IAEAjN,KAAMC,OAElCE,MAAMC,IACPT,EAAOS,EAAC,EACT,EAEL,CAUA1B,IAAIoL,EAAoByC,EAAgBY,EAAmB,IACzD,OAAO,IAAI1N,QAAQ,CAACC,EAASC,UACK,IAAtBnB,KAAK+N,OAAOA,IACpB5M,EAAO,IAAIzB,EAAQ,EAAG,kDAAmD,CAACkB,SAAYmN,EAAQ9E,UAAYjJ,KAAK+N,UAQjH/N,KAAKM,GAAGiB,WADG,6BALA,CACTmK,IAAOJ,EACPsD,cAA8B,IAAXD,EAAyBA,EAAW,GACvDvH,OAAUpH,KAAK+N,OAAOA,KAGOvM,KAAMC,OAElCE,MAAMC,IACPT,EAAOS,IACR,EAEL,CAUA8L,OAAOpC,EAAoByC,EAAgBc,GACzC,OAAW,IAAA5N,QAAQ,CAACC,EAASC,UACK,SAAjB4M,OAAOA,IACpB5M,EAAO,IAAIzB,EAAQ,EAAG,kDAAmD,CAACkB,SAAYmN,EAAQ9E,UAAYjJ,KAAK+N,UAQjH/N,KAAKM,GAAGiB,WADG,8BALA,CACTmK,IAAOJ,EACPlE,OAAUpH,KAAK+N,OAAOA,GACtBe,YAAeD,IAGcrN,KAAMC,OAElCE,MAAMC,IACPT,EAAOS,EACT,IAEJ,CAMAmN,cACE,OAAW,IAAA9N,QAAQ,CAACC,EAASC,KAG3BnB,KAAKM,GAAGiB,WADG,mCADA,CAAE,GAEkBC,KAAMC,OAElCE,MAAMC,IACPT,EAAOS,EACT,EACF,EACF,CAEAoN,OAAOC,EAAYC,GACjB,IAAI9N,EACJ,OAAO,IAAIH,QAAQ,CAACC,EAASC,UACI,IAArB8N,EAAWlB,aAAiE,IAAjC/N,KAAK+N,OAAOkB,EAAWlB,QAC1E5M,EAAO,IAAIzB,EAAQ,EAAG,kDAAmD,CAACkB,SAAYqO,EAAWlB,OAAQ9E,UAAYjJ,KAAK+N,eACtF,IAArBkB,EAAWlB,aAAkE,IAA9B/N,KAAC+N,OAAOkB,EAAWlB,UACjF3M,EAAKgG,OAASpH,KAAK+N,OAAOkB,EAAWlB,cAEd,IAAfmB,IACR9N,EAAK+N,WAAaD,GAEpB,IAAIE,EAAiB,CAAC,KAAM,SAAU,WAAY,SAAU,mBAAoB,iBAAkB,mBAAoB,kBAClHC,EAAoB,CAAC,SAAU,cACnC7P,EAAEsG,QAAQmJ,EAAY,CAAClJ,EAAGC,MACS,GAA9BxG,EAAEiM,QAAQ2D,EAAepJ,KAA4C,GAAlCxG,EAAEiM,QAAQ4D,EAAmBrJ,GACjE5E,EAAK4E,GAAKD,GACgC,GAAlCvG,EAAEiM,QAAQ4D,EAAmBrJ,IACrC7E,EAAO,IAAIzB,EAAQ,EAAG,qDAAsD,CAACkB,SAAYoF,EAAGsJ,MAASvJ,EAAGkD,UAAYzJ,EAAE+P,OAAOH,EAAgBC,KAC9I,GAGHrP,KAAKM,GAAGiB,WADG,8BACcH,GAAMI,KAAMC,SAER,IAAjBA,EAASC,QACjBD,EAASC,MAAQ,IAEnBR,EAAQO,EAASC,MAAK,GACrBC,MAAMC,IACPT,EAAOS,EACT,EACF,EACF,CAkBAC,OAAOoN,GACL,IAAI7N,EACJ,OAAW,IAAAH,QAAQ,CAACC,EAASC,UACI,IAArB8N,EAAWlB,aAAiE,IAA7B/N,KAAC+N,OAAOkB,EAAWlB,QAC1E5M,EAAO,IAAIzB,EAAQ,EAAG,kDAAmD,CAACkB,SAAYqO,EAAWlB,OAAQ9E,UAAYjJ,KAAK+N,eACtF,IAArBkB,EAAWlB,aAAkE,SAA7BA,OAAOkB,EAAWlB,UACjF3M,EAAKgG,OAASpH,KAAK+N,OAAOkB,EAAWlB,cAEJ,IAAzBkB,EAAWb,iBAA6E,SAApCA,WAAWa,EAAWb,YAClFjN,EAAO,IAAIzB,EAAQ,EAAG,kDAAmD,CAACkB,SAAYqO,EAAWb,WAAYnF,UAAYjJ,KAAKoO,mBACtF,IAAzBa,EAAWb,iBAA8E,IAA1CpO,KAAKoO,WAAWa,EAAWb,cACzFhN,EAAKoO,SAAWxP,KAAKoO,WAAWa,EAAWb,aAE7C,IAAIgB,EAAiB,CAAC,KAAM,SAAU,SAAU,UAC5CC,EAAoB,CAAC,SAAU,YACnC7P,EAAEsG,QAAQmJ,EAAY,CAAClJ,EAAGC,MACS,GAA9BxG,EAAEiM,QAAQ2D,EAAepJ,KAA4C,GAAlCxG,EAAEiM,QAAQ4D,EAAmBrJ,GACjE5E,EAAK4E,GAAKD,GACgC,GAAlCvG,EAAEiM,QAAQ4D,EAAmBrJ,IACrC7E,EAAO,IAAIzB,EAAQ,EAAG,qDAAsD,CAACkB,SAAYoF,EAAGsJ,MAASvJ,EAAGkD,UAAYzJ,EAAE+P,OAAOH,EAAgBC,KAC9I,GAIHrP,KAAKM,GAAGiB,WADG,8BACcH,GAAMI,KAAMC,SAER,IAAjBA,EAASC,QACjBD,EAASC,MAAQ,IAEnBR,EAAQO,EAASC,QAClB,EAEL,CAEA+N,oBAAoBnE,EAAeyC,EAAgBc,GACjD,OAAW,IAAA5N,QAAQ,CAACC,EAASC,UACK,SAAjB4M,OAAOA,IACpB5M,EAAO,IAAIzB,EAAQ,EAAG,kDAAmD,CAACkB,SAAYmN,EAAQ9E,UAAYjJ,KAAK+N,UAQjH/N,KAAKM,GAAGiB,WADG,2CALA,CACTmK,IAAOJ,EACPlE,OAAUpH,KAAK+N,OAAOA,GACtBe,YAAeD,IAGcrN,KAAMC,MAGvC,EACF,CAEAiO,WAAWC,GACT,WAAW1O,QAAQ,CAACC,EAASC,KAK3BnB,KAAKM,GAAGiB,WADG,gCAHA,CACTqO,QAAWD,IAGkBnO,KAAMC,MAGvC,EACF,GkB2ZqCnB,GACjC0O,EAAS,UjB3lBbrP,YAAYW,GAAEN,KA3CdM,QAAE,EAAAN,KAKF6P,YAAsB,CACpBC,KAAQ,EACRC,QAAW,EACXC,UAAa,EACbC,WAAc,EACdC,SAAY,EACZC,OAAU,EACVC,IAAO,EACPC,WAAc,EACdC,cAAiB,EACjBC,WAAc,EACdC,KAAQ,GACRC,gBAAmB,GACnBC,iBAAoB,GACpBC,YAAe,GACfC,SAAY,GACZC,aAAgB,GAChBC,aAAgB,GAChBC,WAAc,GACd1C,QAAW,GACX2C,SAAY,GACZC,aAAgB,GAChBC,UAAa,GACbC,WAAc,GACdC,uBAA0B,GAC1BC,UAAa,GACbC,gBAAmB,GACnBC,aAAgB,GAChBC,YAAe,GACfC,iBAAoB,GACpBC,aAAgB,GAChBC,aAAgB,GAChBC,SAAY,IAOZ5R,KAAKM,GAAKA,CACZ,CASAuR,MAAMC,GACJ,OAAO,IAAI7Q,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,kCAHR,CACTwQ,gBAAmBD,IAEuCtQ,KAAK4J,IAC/DlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,IACR,EAEL,CAUAoQ,QAAQC,EAAkBpR,GACxB,WAAWI,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAO,CACT8K,SAAU+F,GAEZ7Q,EAAO5B,EAAE0S,MAAM9Q,EAAMP,GACrBb,KAAKM,GAAGiB,WAAW,qBAAsBH,GAAMI,KAAK4J,IAClDlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EACT,EACF,EACF,CAYAuQ,SAASC,EAAoBC,EAAiCC,EAAsBC,GAClF,OAAO,IAAItR,QAAQ,CAACC,EAASC,KACvB3B,EAAES,IAAID,KAAK6P,YAAauC,QAEO,IAAlBC,GAAkD,MAAjBA,GAAyBA,EAAgBnQ,OAAO,SAA2B,IAAdoQ,QAA+C,IAAXC,IACjJpR,EAAO,IAAIzB,EAAQ,EAAG,qEAFtByB,EAAO,IAAIzB,EAAQ,EAAG,sDAAuD,CAACkB,SAAYwR,EAAYnJ,UAAYjJ,KAAK6P,eAIzH,IAAIzO,EAAO,CAAE,EACToR,EAAgB,QACI,IAAdF,QAA+C,IAAXC,GAC5CC,EAAgB,mBACQ,IAAdF,GAA0C,MAAbA,GACrC9S,EAAEmB,IAAIS,EAAM,cAAekR,QAER,IAAXC,GAAoC,MAAVA,GAClC/S,EAAEmB,IAAIS,EAAM,WAAYmR,KAIxBC,EADa,QAAZJ,EACe,gBAEAA,EAAa,aAEH,IAAlBC,GAAkD,MAAjBA,GACzC7S,EAAEmB,IAAIS,EAAM,kBAAmBiR,IAGnCrS,KAAKM,GAAGiB,WAAW,cAAciR,EAAepR,GAAMI,KAAK4J,IACzDlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CASA6Q,cAAcL,GACZ,OAAW,IAAAnR,QAAQ,CAACC,EAASC,KACvB3B,EAAES,IAAID,KAAK6P,YAAauC,IAC1BjR,EAAO,IAAIzB,EAAQ,EAAG,sDAAuD,CAACkB,SAAYwR,EAAYnJ,UAAYjJ,KAAK6P,eAEzH,IAAIzO,EAAO,CACTgR,WAAY5S,EAAEU,IAAIF,KAAK6P,YAAauC,IAEtCpS,KAAKM,GAAGiB,WAAW,2BAA4BH,GAAMI,KAAK4J,IACxDlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CAQA8Q,QACE,OAAO,IAAIzR,QAAQ,CAACC,EAASC,KAE3BnB,KAAKM,GAAGiB,WAAW,mBADR,IACkCC,KAAK4J,IAChDlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,IACR,EAEL,CASA+Q,eAAeC,GACb,OAAO,IAAI3R,QAAQ,CAACC,EAASC,KAK3BnB,KAAKM,GAAGiB,WAAW,wBAJR,CACTsR,QAAQ,EACRC,UAAWF,IAEqCpR,KAAK4J,IACrDlK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,EAAC,EACT,EAEL,CASAmR,gBAAgBH,GACd,WAAW3R,QAAQ,CAACC,EAASC,KAK3BnB,KAAKM,GAAGiB,WAAW,wBAJR,CACTsR,QAAQ,EACRC,UAAWF,IAEqCpR,KAAK4J,IACrDlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CAUAoR,cAAcf,EAAkBK,GAC9B,WAAWrR,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAO,CACT8K,SAAU+F,QAEY,IAAdK,GACR9S,EAAEmB,IAAIS,EAAM,cAAekR,GAE7BtS,KAAKM,GAAGiB,WAAW,wBAAyBH,GAAMI,KAAK4J,IACrDlK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,EAAC,EACT,EAEL,CAUAqR,eAAeL,EAA0BN,GACvC,OAAW,IAAArR,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAO,CACT0R,UAAWF,QAEW,IAAdN,GACR9S,EAAEmB,IAAIS,EAAM,cAAekR,GAE7BtS,KAAKM,GAAGiB,WAAW,yBAA0BH,GAAMI,KAAK4J,IACtDlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,IACR,EAEL,CASAsR,mBAAmBN,GACjB,WAAW3R,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,6BAHR,CACTuR,UAAWF,IAE0CpR,KAAK4J,IAC1DlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CASAuR,kBAAkBP,GAChB,WAAW3R,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,+BAHR,CACTuR,UAAWF,IAE4CpR,KAAK4J,IAC5DlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EACT,EACF,EACF,CAWAwR,eAAeC,EAAmBxS,EAAkBoR,EAAmB,GACrE,OAAW,IAAAhR,QAAQ,CAACC,EAASC,KACvB3B,EAAES,IAAID,KAAK6P,YAAawD,IAC1BlS,EAAO,IAAIzB,EAAQ,EAAG,sDAAuD,CAACkB,SAAYyS,EAAWpK,UAAYjJ,KAAK6P,eAExH,IAAIzO,EAAO,CACTkS,UAAW9T,EAAEU,IAAIF,KAAK6P,YAAawD,GACnCnH,SAAU+F,GAEZ7Q,EAAO5B,EAAE0S,MAAM9Q,EAAMP,GACrBb,KAAKM,GAAGiB,WAAW,4BAA6BH,GAAMI,KAAK4J,IACzDlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EACT,EACF,EACF,GiB6TwBtB,GACpBiT,EAAM,InB3oBC,MASX5T,YAAYW,GAAEN,KALdM,QAME,EAAAN,KAAKM,GAAKA,CACZ,CAWAkT,UAAUC,EAAWC,EAASC,GAAsB,EAAMC,EAAyB,IACjF,OAAW,IAAA3S,QAAQ,CAACC,EAASC,KAE3BsS,EAAYA,EAAUI,cAgBtB7T,KAAKM,GAAGiB,WAjBG,wBAiBc,CAAE,GAAEC,KAAMC,IACjCP,EAAQO,EAASC,MACnB,GAAGC,MAAMC,IACPT,EAAOS,IACR,EAEL,CAQAkS,OAAOvB,EAAUoB,GAAsB,GACrC,OAAW,IAAA1S,QAAQ,CAACC,EAASC,KAK3BnB,KAAKM,GAAGiB,WAJG,wBAIc,CAAE,GAAEC,KAAMC,IACjCP,EAAQO,EAASC,MACnB,GAAGC,MAAMC,IACPT,EAAOS,IACR,EAEL,CAQAmS,eAAeC,EAASL,GAAsB,GAC5C,OAAW,IAAA1S,QAAQ,CAACC,EAASC,KAK3BnB,KAAKM,GAAGiB,WAJG,wCAIc,CAAE,GAAEC,KAAMC,IACjCP,EAAQO,EAASC,MACnB,GAAGC,MAAMC,IACPT,EAAOS,IACR,EAEL,CAOAqS,gBACE,WAAWhT,QAAQ,CAACC,EAASC,KAG3BnB,KAAKM,GAAGiB,WAFG,+BAEc,IAAIC,KAAMC,IACjCP,EAAQO,EAASC,SAChBC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CASA+E,QAAQuN,EAAWP,GAAsB,GACvC,OAAW,IAAA1S,QAAQ,CAACC,EAASC,KAM3BnB,KAAKM,GAAGiB,WALG,6CAKc,IAAIC,KAAMC,IACjCP,EAAQO,EAASC,SAChBC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CASAuS,WAAWC,EAAcT,GAAsB,GAC7C,OAAW,IAAA1S,QAAQ,CAACC,EAASC,KAM3BnB,KAAKM,GAAGiB,WALG,yCAKc,IAAIC,KAAMC,IACjCP,EAAQO,EAASC,SAChBC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CASAyS,UAAUC,EAAcX,GAAsB,GAC5C,OAAW,IAAA1S,QAAQ,CAACC,EAASC,KAM3BnB,KAAKM,GAAGiB,WALG,wCAKc,IAAIC,KAAMC,IACjCP,EAAQO,EAASC,SAChBC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CAWA4I,KAAKoJ,EAAyB,GAAIW,GAAsB,EAAMC,GAAqB,EAAMb,GAAsB,GAC7G,OAAW,IAAA1S,QAAQ,CAACC,EAASC,KAQ3BnB,KAAKM,GAAGiB,WAPG,sBAOc,IAAIC,KAAMC,IACjCP,EAAQO,EAASC,MAAK,GACrBC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CAcC6S,mBACE,OAAO,IAAIxT,QAAQ,CAACC,EAASC,KAE3BnB,KAAKM,GAAGiB,WADG,mCACc,CAAA,GAAIC,KAAMC,IACjCP,EAAQO,EAASC,MACnB,GAAGC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CAQA8S,oBAAoBC,GAClB,OAAO,IAAI1T,QAAQ,CAACC,EAASC,KAG3BnB,KAAKM,GAAGiB,WADG,wBADA,CAACqT,WAAYD,IAEOnT,KAAMC,IACnCP,EAAQO,EAASC,MACnB,GAAGC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,GmB8ZiBtB,GACdqG,EAAU,IhB5oBH,MAwBXhH,YAAYW,GAAEN,KApBdM,QAKAuU,EAAAA,KAAAA,kBAKAC,WAAK,EAAA9U,KAKLgB,aA8FA+T,EAAAA,KAAAA,UAAab,GACJ,IAAIjT,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,kEAHR,CACTyT,iBAAkBd,IAEwE1S,KAAK4J,IAC/FlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EACT,KAjGF5B,KAAKM,GAAKA,CAGZ,CASA2U,OAAOC,GACL,OAAW,IAAAjU,QAAQ,CAACC,EAASC,KACvB3B,EAAES,IAAIiV,EAAS,cAGjBlV,KAAKM,GAAGiB,WAAW,4BAA6B2T,GAAS1T,KAAK4J,IAC5DlK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,EAAC,GALVT,EAAO,IAAIzB,EAAQ,EAAG,+BAAgC,CAACkB,SAAYsU,IAOpE,EAEL,CASArT,OAAOqT,GACL,WAAWjU,QAAQ,CAACC,EAASC,KACvB3B,EAAES,IAAIiV,EAAS,aAGjBlV,KAAKM,GAAGiB,WAAW,4BAA6B2T,GAAS1T,KAAK4J,IAC5DlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,GANAT,EAAO,IAAIzB,EAAQ,EAAG,8BAA+B,CAACkB,SAAYsU,IAOnE,EAEL,CAaAC,KAAKjB,EAAmBkB,EAAWC,EAAWC,EAA6DC,GACzG,OAAO,IAAItU,QAAQ,CAACC,EAASC,KACvB3B,EAAES,IAAIqV,EAAY,SAAY9V,EAAES,IAAIqV,EAAY,QAElDnU,EAAO,IAAIzB,EAAQ,EAAG,mEAAoE,CAAC4V,WAAcA,KAE3G,IAAIE,EAAY,CACdC,UAAWvB,EACXwB,EAAGN,EACHO,EAAGN,QAES,IAAJE,GACR/V,EAAEmB,IAAI6U,EAAW,IAAKD,GAExB,IAAInU,EAAO5B,EAAE0S,MAAMsD,EAAWF,GAC9BtV,KAAKM,GAAGiB,WAAW,0BAA2BH,GAAMI,KAAK4J,IACvDlK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,IACR,EAEL,CA8BAgU,cAAc1B,EAAmB9R,GAC/B,OAAW,IAAAnB,QAAQ,CAACC,EAASC,KAK3BnB,KAAKM,GAAGiB,WAAW,mCAJR,CACTkU,UAAWvB,EACX2B,WAAYzT,IAE+CZ,KAAK4J,IAChElK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CASAkU,QAAQ5B,GACN,OAAO,IAAIjT,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,0BAHR,CACTkU,UAAWvB,IAEuC1S,KAAK4J,IACvDlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CASAmU,SAASC,GACP,OAAW,IAAA/U,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,2BAHR,CACT0U,WAAYD,IAEuCxU,KAAK4J,IACxDlK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,IACR,EAEL,CASAsU,YAAYhC,GACV,OAAW,IAAAjT,QAAQ,CAACC,EAASC,KAE3BnB,KAAKM,GAAGiB,WAAW,8BADR,CAACkU,UAAWvB,IACiC1S,KAAK4J,IAC3DlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CASAuU,gBAAgBH,GACd,OAAO,IAAI/U,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,kCAHR,CACT0U,WAAYD,IAE8CxU,KAAK4J,IAC/DlK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,IACR,EAEL,CAUAwU,0BAA0BJ,EAA2BK,GACnD,WAAWpV,QAAQ,CAACC,EAASC,KAK3BnB,KAAKM,GAAGiB,WAAW,+CAJR,CACT0U,WAAYD,EACZM,WAAYD,IAE2D7U,KAAK4J,IAC5ElK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CAWC2U,OAAOP,EAA2BQ,EAAuBC,GACvD,WAAWxV,QAAQ,CAACC,EAASC,KAE3B,IAAIC,EAAiF,CAAE6U,WAAYD,QACzE,IAAhBQ,GACRhX,EAAEmB,IAAIS,EAAM,eAAgBoV,QACH,IAAjBC,GACRjX,EAAEmB,IAAIS,EAAM,gBAAiBqV,GAC/BzW,KAAKM,GAAGiB,WAAW,4BAA6BH,GAAMI,KAAK4J,IACzDlK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,EACT,EACF,EACF,CASC8U,SAASV,GACP,WAAW/U,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,8BAHR,CACT0U,WAAYD,IAE0CxU,KAAK4J,IAC3DlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CASA+U,MAAMX,GACJ,OAAW,IAAA/U,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,2BAHR,CACT0U,WAAYD,IAEuCxU,KAAK4J,IACrDA,EAAEhE,OAAO,EACVjG,EAAO,IAAIzB,EAAQ,EAAG0L,EAAEwL,QAAS,CAACnV,SAAY2J,KAE9ClK,EAAQkK,EAAE1J,MACX,GACAC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CASCiV,OAAOb,GACL,OAAW,IAAA/U,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,4BAHR,CACT0U,WAAYD,IAEwCxU,KAAK4J,IACzDlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CASF8L,OAAOsI,GACL,OAAW,IAAA/U,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,4BAHR,CACT0U,WAAYD,IAEwCxU,KAAK4J,IACtDA,EAAEhE,OAAO,EACVjG,EAAO,IAAIzB,EAAQ,EAAG0L,EAAEwL,QAAS,CAACnV,SAAY2J,KAE9ClK,EAAQkK,EAAE1J,MACX,GACAC,MAAMC,IACPT,EAAOS,IACR,EAEL,CASAoN,OAAO8H,GACL,OAAW,IAAA7V,QAAQ,CAACC,EAASC,KAE3BnB,KAAKM,GAAGiB,WAAW,4BADRuV,GAC2CtV,KAAK4J,IACzDlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CASAmV,aAAa7C,GACX,WAAWjT,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,kCAHR,CACTkU,UAAWvB,IAE+C1S,KAAK4J,IAC/DlK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,IACR,EAEL,CAaAoV,uBAAuBF,EAAoBG,EAAqBC,EAAuB9D,GAA0B,EAAM+D,GAAsB,GAC3I,OAAW,IAAAlW,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAO0V,EACRtX,EAAE4X,SAASH,KACZzX,EAAEmB,IAAIS,EAAM,aAAc6V,GAC1BzX,EAAEmB,IAAIS,EAAM,iBAAkBgS,GAC9B5T,EAAEmB,IAAIS,EAAM,aAAc+V,IAI5BnX,KAAKM,GAAGiB,WAAW,4CAA6CH,GAAMI,KAAK4J,IACzElK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CAYDyV,gBAAgB9E,EAAkB+E,GAAoB,EAAOC,EAAsBC,GAA4B,GAC7G,WAAWvW,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAO,CACTqW,SAAUlF,EACVmF,iBAAkBF,EAClBG,SAAUL,GAET,MAAOC,GAAsD/X,EAAES,IAAIsX,EAAa,qBACjF/X,EAAEmB,IAAIS,EAAM,kBAAmB5B,EAAEU,IAAIqX,EAAa,oBACR,MAAvC/X,EAAEU,IAAIqX,EAAa,oBAA4B/X,EAAES,IAAIsX,EAAa,yBACnE/X,EAAEmB,IAAIS,EAAM,uBAAwB5B,EAAEU,IAAIqX,EAAa,0BAG3DvX,KAAKM,GAAGiB,WAAW,kCAAmCH,GAAMI,KAAK4J,IAG/DlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CAUAgW,YAAYC,GAAyB,EAAOC,GAA+B,EAAMC,GAC/E,OAAW,IAAA9W,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAO,CACT4W,cAAeH,EACfI,oBAAqBH,QAEA,IAAbC,GACRvY,EAAEmB,IAAIS,EAAM,YAAa2W,GAE3B/X,KAAKM,GAAGiB,WAAW,8BAA+BH,GAAMI,KAAK4J,IAC3DlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CASAsW,sBAAsBC,GACpB,OAAW,IAAAlX,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,wCAHR,CACT6W,SAAUD,IAEsD3W,KAAK4J,IACrElK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CASAyW,cAAcjW,GACZ,WAAWnB,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,gCAHR,CACT+W,YAAalW,IAE2CZ,KAAK4J,IAC7DlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,EACF,EACF,CASA2W,uBAAuBnW,GACrB,OAAO,IAAInB,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,0CAHR,CACT+W,YAAalW,IAEqDZ,KAAK4J,IACvElK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CASA4W,cAAcpW,GACZ,OAAO,IAAInB,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,wBAHR,CACT+W,YAAalW,IAEmCZ,KAAK4J,IACrDlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CASA6W,eAAerW,GACb,WAAWnB,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,sCAHR,CACTsU,WAAYzT,IAEkDZ,KAAK4J,IACnElK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CASA8W,YAAYX,GACV,OAAO,IAAI9W,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,mCAHR,CACToX,UAAWZ,IAEgDvW,KAAK4J,IAChElK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CAUAgX,iBAAiBC,EAAkBtG,GACjC,OAAW,IAAAtR,QAAQ,CAACC,EAASC,KAE3B,IAAIC,EAAO,CACTqW,SAAUlF,GAER/S,EAAEsZ,SAAS,CAAC,aAAc,YAAaD,GAGzC7Y,KAAKM,GAAGiB,iCAAiCsX,IAAYzX,GAAMI,KAAK4J,IAC9DlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,KALTT,EAAO,IAAIzB,EAAQ,EAAG,kDAAmD,CAACkB,SAAYiY,IAOvF,EAEL,CASAE,eAAexG,GAEb,OAAWvS,KAAC4Y,iBAAiB,aAAcrG,EAC7C,CASAyG,aAAazG,GAEX,YAAYqG,iBAAiB,WAAYrG,EAC3C,CAQA0G,cACE,OAAW,IAAAhY,QAAQ,CAACC,EAASC,KAC3BnB,KAAKM,GAAGiB,WAAW,mCAAoC,IAAIC,KAAK4J,IAC9DlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,EACF,EACF,CAWCsX,iBAAiBC,EAA4BC,EAA4BC,GACvE,OAAO,IAAIpY,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAO,CACTkX,YAAa,WAEkB,IAAvBc,GACR5Z,EAAEmB,IAAIS,EAAM,sBAAuBgY,QAEJ,IAAvBC,GACR7Z,EAAEmB,IAAIS,EAAM,sBAAuBiY,GAGrCrZ,KAAKM,GAAGiB,WAAW,mCAAoCH,GAAMI,KAAK4J,IAChElK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,IACR,EAEL,CAYA0X,+BAA+BxC,EAAoBG,EAAqBC,EAAuB9D,GAA0B,GACvH,WAAWnS,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAO0V,EACRtX,EAAE4X,SAASH,KACZzX,EAAEmB,IAAIS,EAAM,aAAc6V,GAC1BzX,EAAEmB,IAAIS,EAAM,iBAAkBgS,IAIhCpT,KAAKM,GAAGiB,WAAW,oDAAqDH,GAAMI,KAAK4J,IACjFlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,IACR,EAEL,CASC2X,eAAeJ,EAA4BC,EAA4BC,GACrE,OAAO,IAAIpY,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,gCAHR,CACT+W,YAAa,OAE2C9W,KAAK4J,IAC7DlK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,IACR,EAEL,CASA4X,gBAAgB1C,GACd,WAAW7V,QAAQ,CAACC,EAASC,KAE3BnB,KAAKM,GAAGiB,WAAW,oCADRuV,GACmDtV,KAAK4J,IACjElK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CAaA6X,aAAaC,EAA4BC,GAAqB,EAAOC,GAA6B,EAAOR,EAA4BC,GACnI,OAAW,IAAApY,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAO,CACTyY,UAAWF,EACXG,kBAAmBF,QAEI,IAAfF,GACRla,EAAEmB,IAAIS,EAAM,cAAesY,QAEI,IAAvBN,GACR5Z,EAAEmB,IAAIS,EAAM,sBAAuBgY,QAEJ,IAAvBC,GACR7Z,EAAEmB,IAAIS,EAAM,sBAAuBiY,GAErCrZ,KAAKM,GAAGiB,WAAW,uCAAwCH,GAAMI,KAAK4J,IACpElK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CAUAmY,eAAeZ,EAA4Ba,GAA2B,GACpE,OAAO,IAAI/Y,QAAQ,CAACC,EAASC,KAK3BnB,KAAKM,GAAGiB,WAAW,gDAJR,CACT+W,YAAaa,EACbc,gBAAiBD,IAEuDxY,KAAK4J,IAC7ElK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CASFsY,QAAQhG,GACN,OAAO,IAAIjT,QAAQ,CAACC,EAASC,KAK3BnB,KAAKM,GAAGiB,WADG,kEAHA,CACTyT,iBAAkBd,IAGW1S,KAAK4J,IAClClK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CAaEuY,WAAWjG,EAAmBkB,EAAYC,EAAY9C,EAAmBgD,GACvE,WAAWtU,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAO,GAEX5B,EAAEmB,IAAIS,EAAM,mBAAoB8S,GAC7B1U,EAAE4a,SAAShF,IACZ5V,EAAEmB,IAAIS,EAAM,IAAKgU,GAEhB5V,EAAE4a,SAAS/E,IACZ7V,EAAEmB,IAAIS,EAAM,IAAKiU,GAEhB7V,EAAE4a,SAAS7E,IACZ/V,EAAEmB,IAAIS,EAAM,IAAKmU,GAEhB/V,EAAE4a,SAAS7H,IACZ/S,EAAEmB,IAAIS,EAAM,WAAYmR,GAE1BvS,KAAKM,GAAGiB,WAdG,6DAccH,GAAMI,KAAK4J,IAClClK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CASFyY,WAAWnG,GACT,OAAW,IAAAjT,QAAQ,CAACC,EAASC,KAK3BnB,KAAKM,GAAGiB,WADG,gEAHA,CACTyT,iBAAkBd,IAGW1S,KAAK4J,IAClClK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,IACR,EAEL,GgBtP0BtB,GACtB6T,EAAa,Uf1nBjBxU,YAAYW,GAfZA,KAAAA,eAKAuU,WAAK,EAAA7U,KAKL8U,WAME,EAAA9U,KAAKM,GAAKA,CAEZ,CASA2U,OAAOqF,GACL,OAAO,IAAIrZ,QAAQ,CAACC,EAASC,KACvB3B,EAAES,IAAIqa,EAAW,eAAkB9a,EAAES,IAAIqa,EAAW,kBAGtDta,KAAKM,GAAGiB,WAAW,wBAAyB+Y,GAAW9Y,KAAK4J,IAC1DlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EAAC,GALVT,EAAO,IAAIzB,EAAQ,EAAG,6DAA8D,CAACkB,SAAY0Z,IAOlG,EAEL,CASCC,mBAAmBD,GAClB,OAAW,IAAArZ,QAAQ,CAACC,EAASC,KACxB3B,EAAES,IAAIqa,EAAW,eAAkB9a,EAAES,IAAIqa,EAAW,kBAGtDta,KAAKM,GAAGiB,WAAW,oCAAqC+Y,GAAW9Y,KAAK4J,IACtElK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,EAAC,GALVT,EAAO,IAAIzB,EAAQ,EAAG,6DAA8D,CAACkB,SAAY0Z,IAOlG,EAEJ,CASCE,iBAAiBF,GAChB,OAAW,IAAArZ,QAAQ,CAACC,EAASC,KAExB3B,EAAES,IAAIqa,EAAW,eAAkB9a,EAAES,IAAIqa,EAAW,mBAAsB9a,EAAES,IAAIqa,EAAW,gBAG7Fta,KAAKM,GAAGiB,WAAW,kCAAmC+Y,GAAW9Y,KAAK4J,IACpElK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,KALTT,EAAO,IAAIzB,EAAQ,EAAG,6DAA8D,CAACkB,SAAY0Z,IAOlG,EAEJ,CASCG,yBAAyBH,GACxB,OAAO,IAAIrZ,QAAQ,CAACC,EAASC,KACxB3B,EAAES,IAAIqa,EAAW,eAAkB9a,EAAES,IAAIqa,EAAW,mBAAsB9a,EAAES,IAAIqa,EAAW,aAG7Fta,KAAKM,GAAGiB,WAAW,0CAA2C+Y,GAAW9Y,KAAK4J,IAC5ElK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,GANAT,EAAO,IAAIzB,EAAQ,EAAG,6DAA8D,CAACkB,SAAY0Z,IAOlG,EAEJ,CASCI,oBAAoBJ,GACnB,WAAWrZ,QAAQ,CAACC,EAASC,KAIxB3B,EAAES,IAAIqa,EAAW,eAAkB9a,EAAES,IAAIqa,EAAW,mBAAsB9a,EAAES,IAAIqa,EAAW,gBAG7Fta,KAAKM,GAAGiB,WAAW,qCAAsC+Y,GAAW9Y,KAAK4J,IACvElK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,EAAC,GALVT,EAAO,IAAIzB,EAAQ,EAAG,6DAA8D,CAACkB,SAAY0Z,IAOlG,EAEJ,CASAzY,OAAOyY,GACL,WAAWrZ,QAAQ,CAACC,EAASC,IAChB,IAAAF,QAAQ,CAACC,EAASC,KACvB3B,EAAES,IAAIqa,EAAW,gBAGnBta,KAAKM,GAAGiB,WAAW,wBAAyB+Y,GAAW9Y,KAAK4J,IAC1DlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EACT,GANAT,EAAO,IAAIzB,EAAQ,EAAG,iCAAkC,CAACkB,SAAY0Z,IAOtE,GAGP,CASAxE,QAAQ1B,GACN,OAAO,IAAInT,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,sBAHR,CACToZ,aAAcvG,IAEgC5S,KAAK4J,IACnDlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CASAmU,SAAS6E,GACP,OAAW,IAAA3Z,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,uBAHR,CACTsZ,cAAeD,IAEgCpZ,KAAK4J,IACpDlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CAWC2U,OAAOqE,EAA8BpE,EAAuBC,GAC1D,OAAO,IAAIxV,QAAQ,CAACC,EAASC,KAE3B,IAAIC,EAAoF,CAAEyZ,cAAeD,QAC/E,IAAhBpE,IACRpV,EAAK0Z,aAAetE,QAEK,IAAjBC,IACRrV,EAAK2Z,cAAgBtE,GAEvBzW,KAAKM,GAAGiB,WAAW,wBAAyBH,GAAMI,KAAK4J,IACrDlK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CASC8U,SAASkE,GACP,OAAW,IAAA3Z,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,0BAHR,CACTsZ,cAAeD,IAEmCpZ,KAAK4J,IACvDlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CASA+U,MAAMiE,GACJ,OAAO,IAAI3Z,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,uBAHR,CACTsZ,cAAeD,IAEgCpZ,KAAK4J,IACpDlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CASDiV,OAAO+D,GACL,OAAO,IAAI3Z,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,wBAHR,CACTsZ,cAAeD,IAEiCpZ,KAAK4J,IACrDlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,IACR,EAEL,CASA8L,OAAOkN,GACL,OAAW,IAAA3Z,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,wBAHR,CACTsZ,cAAeD,IAEiCpZ,KAAK4J,IACrDlK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CASDoN,OAAO8H,GACL,OAAO,IAAI7V,QAAQ,CAACC,EAASC,KAE3BnB,KAAKM,GAAGiB,WAAW,wBADRuV,GACuCtV,KAAK4J,IACrDlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CASAmV,aAAa3C,GACX,OAAW,IAAAnT,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,kCAHR,CACToZ,aAAcvG,IAE4C5S,KAAK4J,IAC/DlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,EACF,EACF,CAQAoZ,WACE,OAAO,IAAI/Z,QAAQ,CAACC,EAASC,KAC3BnB,KAAKM,GAAGiB,WAAW,0BAA2B,CAAE,GAAEC,KAAK4J,IACrDlK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,EACT,EACF,EACF,CAUAqZ,UAAUC,GAAoC,EAAOnD,GACnD,OAAO,IAAI9W,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAwE,CAAE,EAC3E8Z,IACD9Z,EAAK+Z,0BAA2B,QAEX,IAAbpD,IACR3W,EAAKuX,UAAYZ,GAEnB/X,KAAKM,GAAGiB,WAAW,2BAA4BH,GAAMI,KAAK4J,IACxDlK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CAcAwZ,aAAaC,EAAoEjH,EAAsBkH,GAAoB,EAAMC,EAAsD,CAAE,GACxL,OAAO,IAAIta,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAkI,CACpIuZ,aAAcvG,GAEb5U,EAAES,IAAIob,EAAQ,eAAiB7b,EAAES,IAAIob,EAAQ,cAC9Cja,EAAKwT,WAAayG,EAAOzG,WACzBxT,EAAKoa,UAAYH,EAAOG,WAChBhc,EAAES,IAAIob,EAAQ,YACtBja,EAAKqa,OAASJ,EAAOI,QAIpBjc,EAAES,IAAIsb,EAAU,iBACjBna,EAAKsa,YAAcH,EAASG,aAE3Blc,EAAES,IAAIsb,EAAU,cACjBna,EAAKua,SAAWJ,EAASI,UAE3B3b,KAAKM,GAAGiB,WAAW,2BAA4BH,GAAMI,KAAK4J,IACxDlK,EAAQkK,EAAE1J,SACTC,MAAMC,IAOPT,EAAOS,EACT,EACF,EACD,CASAga,WAAWC,GACT,WAAW5a,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAA+D,CAAE,EAC9C,GAApBya,EAAY3Z,OACbd,EAAKuZ,aAAekB,EAAY,GAEhCza,EAAKyZ,cAAgBgB,EAEvB7b,KAAKM,GAAGiB,WAAW,yBAA0BH,GAAMI,KAAK4J,IACtDlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,IACR,EAEL,CASAsU,YAAY9B,GACV,WAAWnT,QAAQ,CAACC,EAASC,KAE3BnB,KAAKM,GAAGiB,WAAW,0BADR,CAACoZ,aAAcvG,IAC0B5S,KAAK4J,IACvDlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CAaAoV,uBAAuBF,EAAoBG,EAAqBC,EAAuB9D,GAA0B,EAAM+D,GAAsB,GAC3I,OAAO,IAAIlW,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAO0V,EACRtX,EAAE4X,SAASH,KACZzX,EAAEmB,IAAIS,EAAM,aAAc6V,GAC1BzX,EAAEmB,IAAIS,EAAM,iBAAkBgS,GAC9B5T,EAAEmB,IAAIS,EAAM,aAAc+V,IAI5BnX,KAAKM,GAAGiB,WAAW,wCAAyCH,GAAMI,KAAK4J,IACrElK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CAQAka,eACE,OAAW,IAAA7a,QAAQ,CAACC,EAASC,KAC3BnB,KAAKM,GAAGiB,WAAW,2BAA4B,IAAIC,KAAK4J,IACtDlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,IACR,EAEL,CAQAma,oBACE,OAAW,IAAA9a,QAAQ,CAACC,EAASC,KAC3BnB,KAAKM,GAAGiB,WAAW,gCAAiC,CAAE,GAAEC,KAAK4J,IAC3DlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CAQAoa,gBACE,OAAW,IAAA/a,QAAQ,CAACC,EAASC,KAC3BnB,KAAKM,GAAGiB,WAAW,4BAA6B,CAAA,GAAIC,KAAK4J,IACvDlK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CAQAqa,eACE,WAAWhb,QAAQ,CAACC,EAASC,KAC3BnB,KAAKM,GAAGiB,WAAW,2BAA4B,IAAIC,KAAK4J,IACtDlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,IACR,EAEL,CAWAgX,iBAAiBC,EAAkBqC,GAAoC,EAAOnD,GAC5E,OAAO,IAAI9W,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAO,CACT+Z,yBAA0BD,QAEN,IAAZnD,GAAsC,MAAXA,GACnCvY,EAAEmB,IAAIS,EAAM,YAAa2W,GAEd,aAAVc,EACD1X,EAAO,IAAIzB,EAAQ,EAAG,gCAAiC,CAACkB,SAAYiY,KAEpE7Y,KAAKM,GAAGiB,6BAA6BsX,IAAYzX,GAAMI,KAAK4J,IAC1DlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,IAEV,EAEL,CAUAoX,aAAakC,GAAoC,EAAOnD,GACtD,OAAO/X,KAAK4Y,iBAAiB,YAAasC,EAA0BnD,EACtE,CAaA5C,KAAKf,EAAsBgB,EAAWC,EAAWC,EAA6DC,GAC5G,OAAW,IAAAtU,QAAQ,CAACC,EAASC,KACvB3B,EAAES,IAAIqV,EAAY,SAAY9V,EAAES,IAAIqV,EAAY,QAElDnU,EAAO,IAAIzB,EAAQ,EAAG,mEAAoE,CAAC4V,WAAcA,KAE3G,IAAI4G,EAAY,CACdvB,aAAcvG,EACdsB,EAAGN,EACHO,EAAGN,QAEU,IAALE,GACR/V,EAAEmB,IAAIub,EAAW,IAAK3G,GAExB,IAAInU,EAAO5B,EAAE0S,MAAMgK,EAAW5G,GAC9BtV,KAAKM,GAAGiB,WAAW,sBAAuBH,GAAMI,KAAK4J,IACnDlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CAeA6X,aAAa0C,EAA6BxC,EAAqB9Y,GAC7D,WAAWI,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAA2K,CAAE,OACxJ,IAAf+a,IACR/a,EAAKgb,YAAcD,GAErB/a,EAAKyY,eAAgC,IAAbF,GAA2BA,EAC9B,iBAAX9Y,GACRrB,EAAE6c,MAAMxb,EAAS,CAACkF,EAAGC,KACnB5E,EAAK4E,GAAKD,CAAAA,GAGd/F,KAAKM,GAAGiB,WAAW,mCAAoCH,GAAMI,KAAK4J,IAChElK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EACT,EACF,EACF,CAUA0a,kBAAkBC,EAAgC1b,GAChD,OAAW,IAAAI,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAO,CACTob,gBAAiBD,GAEE,iBAAX1b,GACRrB,EAAE6c,MAAMxb,EAAS,CAACkF,EAAGC,KACnB5E,EAAK4E,GAAKD,IAGd/F,KAAKM,GAAGiB,WAAW,+BAAgCH,GAAMI,KAAK4J,IAC5DlK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CASC6a,uBAAuBF,GACrB,OAAO,IAAItb,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,qCAHR,CACTib,gBAAiBD,IAE4C/a,KAAK4J,IAClElK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CASD8a,MAAMH,GACJ,OAAW,IAAAtb,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,4BAHR,CACTib,gBAAiBD,IAEmC/a,KAAK4J,IACzDlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EAAC,EACT,EAEL,CASC+a,eAAeJ,GACb,OAAO,IAAItb,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,4CAHR,CACTib,gBAAiBD,IAEmD/a,KAAK4J,IACzElK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,IACR,EAEL,CA0BAgb,kBAAkBC,GAChB,OAAO,IAAI5b,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,8CAHR,CACTub,cAAeD,IAEuDrb,KAAK4J,IAC3ElK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,EACT,EACF,EACF,CASAmb,mBAAmBC,GACjB,OAAW,IAAA/b,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,+CAHR,CACT0b,aAAcD,IAEyDxb,KAAK4J,OAE3EzJ,MAAMC,IACPT,EAAOS,EACT,IAEJ,CASAsb,kBAAkBF,GAChB,OAAW,IAAA/b,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,2CAHR,CACT0b,aAAcD,IAEqDxb,KAAK4J,IACxElK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CASAub,eAAevC,GACb,WAAW3Z,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,wCAHR,CACTsZ,cAAeD,IAEiDpZ,KAAK4J,IACrElK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,IACR,EAEL,CAUDsY,QAAQhG,GACN,OAAO,IAAIjT,QAAQ,CAACC,EAASC,KAK3BnB,KAAKM,GAAGiB,WADG,kEAHA,CACTyT,iBAAkBd,IAGW1S,KAAK4J,IAClClK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CAaEuY,WAAWjG,EAAmBkB,EAAYC,EAAY9C,EAAmBgD,GACvE,WAAWtU,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAO,CAAE,EAEb5B,EAAEmB,IAAIS,EAAM,mBAAoB8S,GAC7B1U,EAAE4a,SAAShF,IACZ5V,EAAEmB,IAAIS,EAAM,IAAKgU,GAEhB5V,EAAE4a,SAAS/E,IACZ7V,EAAEmB,IAAIS,EAAM,IAAKiU,GAEhB7V,EAAE4a,SAAS7E,IACZ/V,EAAEmB,IAAIS,EAAM,IAAKmU,GAEhB/V,EAAE4a,SAAS7H,IACZ/S,EAAEmB,IAAIS,EAAM,WAAYmR,GAE1BvS,KAAKM,GAAGiB,WAdG,6DAccH,GAAMI,KAAK4J,IAClClK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CASFyY,WAAWjG,GACT,OAAW,IAAAnT,QAAQ,CAACC,EAASC,KAK3BnB,KAAKM,GAAGiB,WADG,+DAHA,CACToZ,aAAcvG,IAGe5S,KAAK4J,IAClClK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,IACR,EAEL,GepRgCtB,GAC5B8c,EAAY,Id7oBL,MAwBXzd,YAAYW,GApBZA,KAAAA,QAKAuU,EAAAA,KAAAA,WAKAC,EAAAA,KAAAA,WAKA9T,EAAAA,KAAAA,aAME,EAAAhB,KAAKM,GAAKA,CAGZ,CAWA2U,OAAOoI,EAAiBzC,EAA+B5E,GACrD,OAAO,IAAI/U,QAAQ,CAACC,EAASC,KAC3B,GAAI3B,EAAES,IAAIod,EAAS,iBAAoB7d,EAAES,IAAIod,EAAS,cAE/C,CACL,IAAIjc,EAAOic,OACgB,IAAjBzC,GAAiD,MAAjBA,GAA0Bpb,EAAES,IAAImB,EAAM,kBAC9E5B,EAAEmB,IAAIS,EAAM,gBAAiBwZ,QAEP,IAAd5E,GAA2C,MAAdA,GAAuBxW,EAAES,IAAImB,EAAM,eACxE5B,EAAEmB,IAAIS,EAAM,aAAc4U,GAE5BhW,KAAKM,GAAGiB,WAAW,uBAAwBH,GAAMI,KAAK4J,IACpDlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,EACD,MAdCT,EAAO,IAAIzB,EAAQ,EAAG,8CAA+C,CAACkB,SAAYyc,IAcnF,EAEL,CAUA7C,iBAAiB6C,EAAiBC,EAA6BC,GAAa,GAC1E,OAAO,IAAItc,QAAQ,CAACC,EAASC,KAC3B,GAAI3B,EAAES,IAAIod,EAAS,iBAAoB7d,EAAES,IAAIod,EAAS,cAE/C,CACL,IAAIjc,EAAOic,EACR7d,EAAE4X,SAASkG,GACZ9d,EAAEmB,IAAIS,EAAM,cAAekc,GAE3B9d,EAAEmB,IAAIS,EAAM,eAAgBkc,GAE9Btd,KAAKM,GAAGiB,WAAW,uBAAwBH,GAAMI,KAAK4J,IACpDlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEX,MAbCT,EAAO,IAAIzB,EAAQ,EAAG,8CAA+C,CAACkB,SAAYyc,IAanF,EAEL,CASAxb,OAAOwb,GACL,OAAO,IAAIpc,QAAQ,CAACC,EAASC,KACvB3B,EAAES,IAAIod,EAAS,iBAAoB7d,EAAES,IAAIod,EAAS,eAGpDrd,KAAKM,GAAGiB,WAAW,uBAAwB8b,GAAS7b,KAAK4J,IACvDlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,GANAT,EAAO,IAAIzB,EAAQ,EAAG,gDAAiD,CAACkB,SAAYyc,IAOrF,EAEL,CAWCG,QAAQC,EAAiCC,EAAuBC,GAAoC,GAClG,OAAW,IAAA1c,QAAQ,CAACC,EAASC,KAM3BnB,KAAKM,GAAGiB,WAAW,wBALR,CACTqc,yBAA0BD,EAC1BE,cAAeH,EACfI,iBAAkBL,IAE8Bjc,KAAK4J,IAClDA,EAAEhE,OAAO,EACVjG,EAAO,IAAIzB,EAAQ,EAAG0L,EAAEwL,QAAS,CAACnV,SAAY2J,KAE9ClK,EAAQkK,EAAE1J,MACX,GACAC,MAAMC,IACPT,EAAOS,EACT,EACF,EACF,CAcDuT,KAAK4I,EAAqB3I,EAAWC,EAAWC,EAAoBC,GAClE,OAAO,IAAItU,QAAQ,CAACC,EAASC,KACvB3B,EAAES,IAAIqV,EAAY,SAAY9V,EAAES,IAAIqV,EAAY,QAElDnU,EAAO,IAAIzB,EAAQ,EAAG,mEAAoE,CAAC4V,WAAcA,KAE3G,IAAIE,EAAY,CACdwI,YAAaD,EACbrI,EAAGN,EACHO,EAAGN,QAES,IAAJE,GACR/V,EAAEmB,IAAI6U,EAAW,IAAKD,GAExB,IAAInU,EAAO5B,EAAE0S,MAAMsD,EAAWF,GAC9BtV,KAAKM,GAAGiB,WAAW,qBAAsBH,GAAMI,KAAK4J,IAClDlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,EACF,EACF,CAUAkU,QAAQwH,EAA6BC,GAAa,GAChD,OAAO,IAAItc,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAO,CAAE,EACb,GAAG5B,EAAE4X,SAASkG,GAAe,CAC3B9d,EAAEmB,IAAIS,EAAM,cAAekc,GAC3B,IAAI7X,EAAO,oBACZ,MACCjG,EAAEmB,IAAIS,EAAM,eAAgBkc,GACxB7X,EAAO,sBAEbzF,KAAKM,GAAGiB,WAAWkE,EAAMrE,GAAMI,KAAK4J,IAClClK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,IACR,EAEL,CASAmU,SAASkI,GACP,OAAO,IAAIhd,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAO,CAAA,EACX,GAAyB,GAAtB6c,EAAc/b,OAEff,EAAO,IAAIzB,EAAQ,IAAK,oCAAqC,CAACwe,aAAgBD,SACzE,CACL,IAAIxY,EAAO,sBACRjG,EAAE4X,SAAS6G,EAAc,KAC1Bze,EAAEmB,IAAIS,EAAM,eAAgB6c,GAC5BxY,EAAO,uBACCjG,EAAE4a,SAAS6D,EAAc,KACjCze,EAAEmB,IAAIS,EAAM,gBAAiB6c,GAC7BxY,EAAO,wBAGPtE,EAAO,IAAIzB,EAAQ,EAAG,oCAAqC,CAACwe,aAAgBD,KAE9Eje,KAAKM,GAAGiB,WAAWkE,EAAMrE,GAAMI,KAAK4J,IAClClK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEX,GAEL,CASAuc,gBAAgBF,GACd,OAAW,IAAAhd,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAO,CAAA,EACX,GAAyB,GAAtB6c,EAAc/b,OAEff,EAAO,IAAIzB,EAAQ,IAAK,oCAAqC,CAACwe,aAAgBD,SACzE,CACL,IAAIxY,EAAO,sBACRjG,EAAE4X,SAAS6G,EAAc,KAC1Bze,EAAEmB,IAAIS,EAAM,eAAgB6c,GAC5BxY,EAAO,4CACCjG,EAAE4a,SAAS6D,EAAc,KACjCze,EAAEmB,IAAIS,EAAM,gBAAiB6c,GAC7BxY,EAAO,6CAGPtE,EAAO,IAAIzB,EAAQ,EAAG,oCAAqC,CAACwe,aAAgBD,KAE9Eje,KAAKM,GAAGiB,WAAWkE,EAAMrE,GAAMI,KAAK4J,IAClClK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEX,GAEL,CASAsU,YAAYoH,GACV,OAAW,IAAArc,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAO,CAAA,EACR5B,EAAE4X,SAASkG,GACZ9d,EAAEmB,IAAIS,EAAM,cAAekc,GACnB9d,EAAE4a,SAASkD,GACnB9d,EAAEmB,IAAIS,EAAM,eAAgBkc,GAG5Bnc,EAAO,IAAIzB,EAAQ,EAAG,oCAAqC,CAACwe,aAAgBZ,KAE9Etd,KAAKM,GAAGiB,WAAW,yBAA0BH,GAAMI,KAAK4J,IACtDlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,EACF,EACF,CASAwc,qBAAqBH,GACnB,OAAW,IAAAhd,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAO,CAAA,EACPqE,EAAO,6BACRjG,EAAE4X,SAAS6G,EAAc,KAC1Bze,EAAEmB,IAAIS,EAAM,eAAgB6c,GACxBxY,EAAO,8BACHjG,EAAE4a,SAAS6D,EAAc,KACjCze,EAAEmB,IAAIS,EAAM,gBAAiB6c,GACzBxY,EAAO,6CAGXtE,EAAO,IAAIzB,EAAQ,EAAG,oCAAqC,CAAC2e,cAAiBJ,KAE/Eje,KAAKM,GAAGiB,WAAWkE,EAAMrE,GAAMI,KAAK4J,IAClClK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EACT,EAEL,CAUA0c,YAAYL,EAAqCtK,GAAsB,GACrE,OAAW,IAAA1S,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAO,CACTmd,WAAY5K,GAEW,GAAtBsK,EAAc/b,OAEff,EAAO,IAAIzB,EAAQ,GAAI,oCAAqC,CAACwe,aAAgBD,KAE1Eze,EAAE4X,SAAS6G,EAAc,IAC1Bze,EAAEmB,IAAIS,EAAM,eAAgB6c,GACpBze,EAAE4a,SAAS6D,EAAc,IACjCze,EAAEmB,IAAIS,EAAM,gBAAiB6c,GAE7B9c,EAAO,IAAIzB,EAAQ,GAAI,oCAAqC,CAACwe,aAAgBD,KAGjFje,KAAKM,GAAGiB,WAAW,yBAA0BH,GAAMI,KAAK4J,IACnDA,EAAEhE,OAAO,EACVjG,EAAO,IAAIzB,EAAQ,EAAG0L,EAAEwL,QAAS,CAACnV,SAAY2J,KAE9ClK,EAAQkK,EAAE1J,MACX,GACAC,MAAMC,IACPT,EAAOS,EAAC,EACT,EAEL,CAWC4c,YAAYlB,EAA6BmB,EAAoBnD,GAAoB,GAC/E,OAAO,IAAIra,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAO,CACTsd,SAAUpD,GAET9b,EAAE4X,SAASkG,GACZ9d,EAAEmB,IAAIS,EAAM,cAAekc,GAE3B9d,EAAEmB,IAAIS,EAAM,eAAgBkc,GAE3B9d,EAAES,IAAIwe,EAAY,gBACnBjf,EAAEmB,IAAIS,EAAM,cAAe5B,EAAEU,IAAIue,EAAY,gBAC5Cjf,EAAES,IAAIwe,EAAY,aACnBjf,EAAEmB,IAAIS,EAAM,WAAY5B,EAAEU,IAAIue,EAAY,aACzCjf,EAAES,IAAIwe,EAAY,eAAiBjf,EAAES,IAAIwe,EAAY,eACtDjf,EAAEmB,IAAIS,EAAM,aAAc5B,EAAEU,IAAIue,EAAY,eAC5Cjf,EAAEmB,IAAIS,EAAM,aAAc5B,EAAEU,IAAIue,EAAY,gBAE5Ctd,EAAO,IAAIzB,EAAQ,EAAG,+BAAgC,CAACwe,aAAgBZ,EAAamB,WAAcA,KAGpGze,KAAKM,GAAGiB,WAAW,4BAA6BH,GAAMI,KAAK4J,IACtDA,EAAEhE,OAAO,EACVjG,EAAO,IAAIzB,EAAQ,EAAG0L,EAAEwL,QAAS,CAACnV,SAAY2J,KAE9ClK,EAAQkK,EAAE1J,MACX,GACAC,MAAMC,IACPT,EAAOS,EACT,EACF,EACF,CAWC+c,aAAarB,EAA6BmB,EAAoBG,GAAwB,GACpF,OAAW,IAAA3d,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAO,CACTyd,aAAcD,GAEbpf,EAAE4X,SAASkG,GACZ9d,EAAEmB,IAAIS,EAAM,cAAekc,GAE3B9d,EAAEmB,IAAIS,EAAM,eAAgBkc,GAE3B9d,EAAES,IAAIwe,EAAY,gBACnBjf,EAAEmB,IAAIS,EAAM,cAAe5B,EAAEU,IAAIue,EAAY,gBAC5Cjf,EAAES,IAAIwe,EAAY,aACnBjf,EAAEmB,IAAIS,EAAM,WAAY5B,EAAEU,IAAIue,EAAY,aACzCjf,EAAES,IAAIwe,EAAY,eAAiBjf,EAAES,IAAIwe,EAAY,eACtDjf,EAAEmB,IAAIS,EAAM,YAAa5B,EAAEU,IAAIue,EAAY,cAC3Cjf,EAAEmB,IAAIS,EAAM,aAAc5B,EAAEU,IAAIue,EAAY,gBAE5Ctd,EAAO,IAAIzB,EAAQ,EAAG,+BAAgC,CAACwe,aAAgBZ,EAAamB,WAAcA,KAGpGze,KAAKM,GAAGiB,WAAW,6BAA8BH,GAAMI,KAAK4J,IACvDA,EAAEhE,OAAO,EACVjG,EAAO,IAAIzB,EAAQ,EAAG0L,EAAEwL,QAAS,CAACnV,SAAY2J,KAE9ClK,EAAQkK,EAAE1J,MACX,GACAC,MAAMC,IACPT,EAAOS,EACT,EACF,EACF,CAWDkd,eAAexB,EAA6BmB,EAAoBnD,GAAoB,GAClF,OAAO,IAAIra,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAO,CACTsd,SAAUpD,GAET9b,EAAE4X,SAASkG,GACZ9d,EAAEmB,IAAIS,EAAM,cAAekc,GAE3B9d,EAAEmB,IAAIS,EAAM,eAAgBkc,GAE3B9d,EAAES,IAAIwe,EAAY,aACnBjf,EAAEmB,IAAIS,EAAM,YAAa5B,EAAEU,IAAIue,EAAY,cACnCjf,EAAES,IAAIwe,EAAY,eAAiBjf,EAAES,IAAIwe,EAAY,eAC7Djf,EAAEmB,IAAIS,EAAM,aAAc5B,EAAEU,IAAIue,EAAY,eAC5Cjf,EAAEmB,IAAIS,EAAM,aAAc5B,EAAEU,IAAIue,EAAY,gBAE5Ctd,EAAO,IAAIzB,EAAQ,EAAG,+BAAgC,CAACwe,aAAgBZ,EAAamB,WAAcA,KAGpGze,KAAKM,GAAGiB,WAAW,+BAAgCH,GAAMI,KAAK4J,IACzDA,EAAEhE,OAAO,EACVjG,EAAO,IAAIzB,EAAQ,EAAG0L,EAAEwL,QAAS,CAACnV,SAAY2J,KAE9ClK,EAAQkK,EAAE1J,MACX,GACAC,MAAMC,IACPT,EAAOS,EACT,EACF,EACF,CAWD2U,OAAOwI,EAA6BvI,EAAuBC,GACzD,OAAO,IAAIxV,QAAQ,CAACC,EAASC,KAE3B,IAAIC,EAAmF,CAAE4d,aAAcD,QAC7E,IAAhBvI,GACRhX,EAAEmB,IAAIS,EAAM,eAAgBoV,QACH,IAAjBC,GACRjX,EAAEmB,IAAIS,EAAM,gBAAiBqV,GAC/BzW,KAAKM,GAAGiB,WAAW,uBAAwBH,GAAMI,KAAK4J,IACpDlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,EACF,EACF,CASC8U,SAASqI,GACP,OAAO,IAAI9d,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,yBAHR,CACTyd,aAAcD,IAEmCvd,KAAK4J,IACtDlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EAAC,EACT,EAEL,CASC+U,MAAMoI,GACJ,OAAO,IAAI9d,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,sBAHR,CACTyd,aAAcD,IAEgCvd,KAAK4J,IAChDA,EAAEhE,OAAO,EACVjG,EAAO,IAAIzB,EAAQ,EAAG0L,EAAEwL,QAAS,CAACnV,SAAY2J,KAE9ClK,EAAQkK,EAAE1J,MACX,GACAC,MAAMC,IACPT,EAAOS,EACT,EACF,EACF,CASCiV,OAAOkI,GACL,OAAW,IAAA9d,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,uBAHR,CACTyd,aAAcD,IAEiCvd,KAAK4J,IACpDlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EAAC,EACT,EAEL,CASF8L,OAAOqR,GACL,OAAO,IAAI9d,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,uBAHR,CACTyd,aAAcD,IAEiCvd,KAAK4J,IACjDA,EAAEhE,OAAO,EACVjG,EAAO,IAAIzB,EAAQ,EAAG0L,EAAEwL,QAAS,CAACnV,SAAY2J,KAE9ClK,EAAQkK,EAAE1J,MACX,GACAC,MAAMC,IACPT,EAAOS,EACT,EACF,EACF,CAYAqd,iBAAiBtK,EAAoBuK,EAA2BlQ,EAA+BuO,GAAa,GAC1G,OAAW,IAAAtc,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAO,CAAA,OACQ,IAAT4N,GACRxP,EAAE0S,MAAM9Q,EAAM4N,GAEZxP,EAAES,IAAImB,EAAM,eACd5B,EAAEmB,IAAIS,EAAM,aAAcuT,GAExBnV,EAAES,IAAImB,EAAM,eACd5B,EAAEmB,IAAIS,EAAM,aAAc8d,GAE5B,IAAIzZ,EAAO,8BACP8X,IACF9X,EAAO,wBAETzF,KAAKM,GAAGiB,WAAWkE,EAAMrE,GAAMI,KAAK4J,IAC/BA,EAAEhE,OAAO,EACVjG,EAAO,IAAIzB,EAAQ,EAAG0L,EAAEwL,QAAS,CAACnV,SAAY2J,KAE9ClK,EAAQkK,EAAE1J,MACX,GACAC,MAAMC,IACPT,EAAOS,EAAC,EACT,EAEL,CASAud,cAAcpB,GACZ,OAAW,IAAA9c,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAO,CAAA,EACX5B,EAAEmB,IAAIS,EAAM,cAAe2c,GAC3B/d,KAAKM,GAAGiB,WAAW,6BAA8BH,GAAMI,KAAK4J,IACvDA,EAAEhE,OAAO,EACVjG,EAAO,IAAIzB,EAAQ,EAAG0L,EAAEwL,QAAS,CAACnV,SAAY2J,KAE9ClK,EAAQkK,EAAE1J,MACX,GACAC,MAAMC,IACPT,EAAOS,EAAC,EACT,EAEL,CAWAgX,iBAAiBC,EAAkBqC,GAAoC,EAAOnD,GAC5E,OAAO,IAAI9W,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAO,CACT+Z,yBAA0BD,QAEN,IAAZnD,GAAsC,MAAXA,GACnCvY,EAAEmB,IAAIS,EAAM,YAAa2W,GAEvBvY,EAAEsZ,SAAS,CAAC,cAAe,aAAcD,GAG3C7Y,KAAKM,GAAGiB,4BAA4BsX,IAAYzX,GAAMI,KAAK4J,IACzDlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,GALVT,EAAO,IAAIzB,EAAQ,EAAG,oDAAqD,CAACkB,SAAYiY,IAOzF,EAEL,CAUAG,aAAakC,GAAoC,EAAOnD,GACtD,OAAO/X,KAAK4Y,iBAAiB,YAAasC,EAA0BnD,EACtE,CAUAqH,eAAelE,GAAoC,EAAOnD,GACxD,OAAW/X,KAAC4Y,iBAAiB,cAAesC,EAA0BnD,EACxE,CAQAW,cACE,OAAW,IAAAzX,QAAQ,CAACC,EAASC,KAC3BnB,KAAKM,GAAGiB,WAAW,yBAA0B,CAAA,GAAIC,KAAK4J,IACpDlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,IACR,EAEL,CAQDyd,gBACE,OAAW,IAAApe,QAAQ,CAACC,EAASC,KAC3BnB,KAAKM,GAAGiB,WAAW,2BAA4B,CAAE,GAAEC,KAAK4J,IACtDlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,EACF,EACF,CAQAyW,gBACE,OAAO,IAAIpX,QAAQ,CAACC,EAASC,KAC3BnB,KAAKM,GAAGiB,WAAW,2BAA4B,CAAA,GAAIC,KAAK4J,IACtDlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EAAC,EACT,EAEL,CAQAka,eACE,OAAO,IAAI7a,QAAQ,CAACC,EAASC,KAC3BnB,KAAKM,GAAGiB,WAAW,0BAA2B,CAAA,GAAIC,KAAK4J,IACrDlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,IACR,EAEL,CAQAma,oBACE,OAAW,IAAA9a,QAAQ,CAACC,EAASC,KAC3BnB,KAAKM,GAAGiB,WAAW,+BAAgC,CAAE,GAAEC,KAAK4J,IAC1DlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EACT,EAEL,CAQAoa,gBACE,OAAO,IAAI/a,QAAQ,CAACC,EAASC,KAC3BnB,KAAKM,GAAGiB,WAAW,2BAA4B,CAAA,GAAIC,KAAK4J,IACtDlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EAAC,EACT,EAEL,CAQA0d,YACE,OAAO,IAAIre,QAAQ,CAACC,EAASC,KAC3BnB,KAAKM,GAAGiB,WAAW,uBAAwB,CAAA,GAAIC,KAAK4J,IAClDlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,EACF,EACF,CAQA2d,kBACE,OAAW,IAAAte,QAAQ,CAACC,EAASC,KAC3BnB,KAAKM,GAAGiB,WAAW,6BAA8B,CAAA,GAAIC,KAAK4J,IACxDlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EACT,EAEL,CASAsY,QAAQoD,GACN,OAAO,IAAIrc,QAAQ,CAACC,EAASC,KAK3BnB,KAAKM,GAAGiB,WADG,+DAHA,CACTyc,YAAaV,IAGgB9b,KAAK4J,IAClClK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EACT,EAEL,CAaEuY,WAAWmD,EAAsBlI,EAAYC,EAAY9C,EAAmBgD,GAC1E,OAAW,IAAAtU,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAO,CAAA,EAER5B,EAAE4X,SAASkG,GACZ9d,EAAEmB,IAAIS,EAAM,cAAekc,GACnB9d,EAAE4a,SAASkD,GACnB9d,EAAEmB,IAAIS,EAAM,eAAgBkc,GAG5Bnc,EAAO,IAAIzB,EAAQ,EAAG,kCAAmC,CAACwe,aAAgBZ,KAEzE9d,EAAE4a,SAAShF,IACZ5V,EAAEmB,IAAIS,EAAM,IAAKgU,GAEhB5V,EAAE4a,SAAS/E,IACZ7V,EAAEmB,IAAIS,EAAM,IAAKiU,GAEhB7V,EAAE4a,SAAS7E,IACZ/V,EAAEmB,IAAIS,EAAM,IAAKmU,GAEhB/V,EAAE4a,SAAS7H,IACZ/S,EAAEmB,IAAIS,EAAM,WAAYmR,GAE1BvS,KAAKM,GAAGiB,WArBG,wDAqBcH,GAAMI,KAAK4J,IAClClK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,EACF,EACF,CASFyY,WAAWiD,GACT,OAAO,IAAIrc,QAAQ,CAACC,EAASC,KAK3BnB,KAAKM,GAAGiB,WADG,6DAHA,CACTyc,YAAaV,IAGgB9b,KAAK4J,IAClClK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EACT,EAEL,Gc3Q8BtB,GAC1Bkf,EAAY,IbxoBL,MAmCX7f,YAAYW,GA/BZA,KAAAA,QAMAc,EAAAA,KAAAA,UAIAqe,EAAAA,KAAAA,WAIAC,EAAAA,KAAAA,cAIAC,EAAAA,KAAAA,eAIA3e,EAAAA,KAAAA,aAIA6T,EAAAA,KAAAA,WAME,EAAA7U,KAAKM,GAAKA,CACZ,CAWA2U,OAAO2K,EAAoBC,EAAmBhf,GAC5C,OAAO,IAAII,QAAQ,CAACC,EAASC,KAC3B,IAIIC,EAAO5B,EAAE0S,MAJG,CACd4N,WAAYF,EACZG,UAAWF,GAEiBhf,GAC9Bb,KAAKM,GAAGiB,WAAW,kBAAmBH,GAAMI,KAAK4J,IAC/ClK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EACT,EAEL,CAWAoe,YAAYC,EAAmBC,EAA0Brf,GACvD,OAAW,IAAAI,QAAQ,CAACC,EAASC,KAC3B,IAIIC,EAAO5B,EAAE0S,MAJG,CACdiO,UAAWF,EACXG,iBAAkBF,GAEUrf,GAC9Bb,KAAKM,GAAGiB,WAAW,uBAAwBH,GAAMI,KAAK4J,IACpDlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,EACF,EACF,CAYAye,kBAAkBT,EAAoBC,EAAmB3L,EAAmBrT,GAC1E,OAAW,IAAAI,QAAQ,CAACC,EAASC,KAC3B,IAKIC,EAAO5B,EAAE0S,MALG,CACd4N,WAAYF,EACZG,UAAWF,EACX7K,iBAAkBd,GAEUrT,GAC9Bb,KAAKM,GAAGiB,WAAW,8CAA+CH,GAAMI,KAAK4J,IAC3ElK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,EACF,EACF,CAUAC,OAAOye,EAAoBzf,GACzB,OAAO,IAAII,QAAQ,CAACC,EAASC,KAC3B,IAGIC,EAAO5B,EAAE0S,MAHG,CACdqO,WAAYD,GAEgBzf,GAC9Bb,KAAKM,GAAGiB,WAAW,wBAAyBH,GAAMI,KAAK4J,IACrDlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,EACF,EACF,CASAmU,SAASyK,GACP,OAAW,IAAAvf,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,uBAHR,CACTkf,YAAaD,IAEkChf,KAAK4J,IACpDlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EACT,EAEL,CASAoN,OAAO0R,GACL,OAAW,IAAAzf,QAAQ,CAACC,EAASC,KAE3BnB,KAAKM,GAAGiB,WAAW,wBADRmf,GACuClf,KAAK4J,IACrDlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EAAC,EACT,EAEL,CAaAuT,KAAKmL,EAAoBlL,EAAWC,EAAWC,EAA6DC,GAC1G,OAAW,IAAAtU,QAAQ,CAACC,EAASC,KACvB3B,EAAES,IAAIqV,EAAY,SAAY9V,EAAES,IAAIqV,EAAY,QAElDnU,EAAO,IAAIzB,EAAQ,EAAG,mEAAoE,CAAC4V,WAAcA,KAE3G,IAAI4G,EAAY,CACdqE,WAAYD,EACZ5K,EAAGN,EACHO,EAAGN,QAES,IAAJE,GACR/V,EAAEmB,IAAIub,EAAW,IAAK3G,GAExB,IAAInU,EAAO5B,EAAE0S,MAAMgK,EAAW5G,GAC9BtV,KAAKM,GAAGiB,WAAW,sBAAuBH,GAAMI,KAAK4J,IACnDlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EACT,EAEL,CASA8L,OAAO4S,GACL,OAAW,IAAArf,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,4BAHR,CACTgf,WAAYD,IAEwC9e,KAAK4J,IACzDlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,EACF,EACF,CASAsY,QAAQoG,GACN,OAAW,IAAArf,QAAQ,CAACC,EAASC,KAK3BnB,KAAKM,GAAGiB,WADG,yDAHA,CACTgf,WAAYD,IAGiB9e,KAAK4J,IAClClK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EACT,EAEL,CAaEuY,WAAWmG,EAAoBlL,EAAYC,EAAY9C,EAAmBgD,GACxE,OAAW,IAAAtU,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAO,CACTmf,WAAYD,GAIX9gB,EAAE4a,SAAShF,IACZ5V,EAAEmB,IAAIS,EAAM,IAAKgU,GAEhB5V,EAAE4a,SAAS/E,IACZ7V,EAAEmB,IAAIS,EAAM,IAAKiU,GAEhB7V,EAAE4a,SAAS7E,IACZ/V,EAAEmB,IAAIS,EAAM,IAAKmU,GAEhB/V,EAAE4a,SAAS7H,IACZ/S,EAAEmB,IAAIS,EAAM,WAAYmR,GAE1BvS,KAAKM,GAAGiB,WAdG,mDAccH,GAAMI,KAAK4J,IAClClK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,EACF,EACF,CASFyY,WAAWiG,GACT,OAAO,IAAIrf,QAAQ,CAACC,EAASC,KAK3BnB,KAAKM,GAAGiB,WADG,+DAHA,CACTgf,WAAYD,IAGiB9e,KAAK4J,IAClClK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,EACF,EACF,GauV8BtB,GAEhCkf,EAAUpe,KAAO,UZxoBfzB,YAAYW,GAAEN,KALdM,QAME,EAAAN,KAAKM,GAAKA,CACZ,CAYCqgB,SAASL,EAAoBM,EAAyBC,EAAmBhgB,GACxE,OAAO,IAAII,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAO,CACTmf,WAAYD,EACZQ,gBAAiBF,EACjBG,UAAWF,QAEO,IAAVhgB,IACRO,EAAO5B,EAAE0S,MAAM9Q,EAAMP,IAEvBb,KAAKM,GAAGiB,WAAW,wBAAyBH,GAAMI,KAAK4J,IACrDlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,IACR,EAEL,CAUCof,iBAAiBV,EAAoBL,GACpC,OAAO,IAAIhf,QAAQ,CAACC,EAASC,KAK3BnB,KAAKM,GAAGiB,WAAW,+BAJR,CACTgf,WAAYD,EACZH,UAAWF,IAE4Cze,KAAK4J,IAC5DlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EAAC,EACT,EAEL,CAcCqf,aAAaC,EAA0BC,EAAuBC,EAAwBC,EAAoBC,EAAwBzgB,GACjI,WAAWI,QAAQ,CAACC,EAASC,KAC3B,IAOIC,EAAO5B,EAAE0S,MAPG,CACdqP,iBAAkBL,EAClBM,cAAeL,EACfM,eAAgBL,EAChBM,WAAYL,EACZM,eAAgBL,GAEYzgB,GAC9Bb,KAAKM,GAAGiB,WAAW,wBAAyBH,GAAMI,KAAK4J,IACrDlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CASCggB,kBAAkBtB,GACjB,OAAO,IAAIrf,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,iCAHR,CACTgf,WAAYD,IAE6C9e,KAAK4J,IAC9DlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CASCigB,qBAAqBvB,GACpB,OAAW,IAAArf,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,uCAHR,CACTgf,WAAYD,IAEmD9e,KAAK4J,IACpElK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CASCkgB,gBAAgBpB,GACf,WAAWzf,QAAQ,CAACC,EAASC,KAC2G,GAAnI3B,EAAEuiB,eAAeviB,EAAEwiB,OAAOtB,GAAU,CAAC,gBAAiB,kBAAmB,YAAa,YAAa,WAAY,YAAYxe,QAC5Hf,EAAO,IAAIzB,EAAQ,EAAG,8HAGxBM,KAAKM,GAAGiB,WAAW,2BADRmf,GAC0Clf,KAAK4J,IACxDlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,IACR,EAEL,CAWCqgB,SAAStN,EAAoBuN,EAAmBrhB,GAC/C,OAAO,IAAII,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAO,CACTwT,WAAYD,EACZ6G,UAAW0G,GAEV1iB,EAAES,IAAIY,EAAS,cAChBrB,EAAEmB,IAAIS,EAAM,aAAc5B,EAAEU,IAAIW,EAAS,eACjCrB,EAAES,IAAIY,EAAS,mBACvBrB,EAAEmB,IAAIS,EAAM,kBAAmB5B,EAAEU,IAAIW,EAAS,oBAE9CM,EAAO,IAAIzB,EAAQ,EAAG,oDAAqD,CAACkB,SAAYC,KAEvFrB,EAAES,IAAIY,EAAS,qBAChBrB,EAAEmB,IAAIS,EAAM,mBAAoB5B,EAAEU,IAAIW,EAAS,qBAEjDb,KAAKM,GAAGiB,WAAW,oCAAqCH,GAAMI,KAAK4J,IACjElK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CAYCugB,sBAAsB7B,EAAoB3L,EAAoBuN,EAAmBf,GAChF,OAAW,IAAAlgB,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAO,CACTmf,WAAYD,EACZ1L,WAAYD,EACZ6G,UAAW0G,QAEa,IAAhBf,GACR3hB,EAAEmB,IAAIS,EAAM,gBAAiB+f,GAE/BnhB,KAAKM,GAAGiB,WAAW,oCAAqCH,GAAMI,KAAK4J,IACjElK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CAWCwgB,UAAUjB,EAAuBD,EAA0BrgB,GAC1D,WAAWI,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAO,CACTogB,cAAeL,EACfI,iBAAkBL,QAEA,IAAVrgB,IACRO,EAAO5B,EAAE0S,MAAM9Q,EAAMP,IAEvBb,KAAKM,GAAGiB,WAAW,yBAA0BH,GAAMI,KAAK4J,IACtDlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CAUCygB,aAAaC,EAAwBzhB,GACpC,OAAW,IAAAI,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAO,CACTmhB,eAAgBD,QAEE,IAAVzhB,IACRO,EAAO5B,EAAE0S,MAAM9Q,EAAMP,IAEvBb,KAAKM,GAAGiB,WAAW,4BAA6BH,GAAMI,KAAK4J,IACzDlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CASC4gB,WAAWF,GACV,OAAW,IAAArhB,QAAQ,CAACC,EAASC,KAK3BnB,KAAKM,GAAGiB,WAAW,gCAJR,CACTghB,eAAgBD,EAChBG,MAAM,IAEkDjhB,KAAK4J,IAC7DlK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CASC8gB,aAAaJ,GACZ,OAAW,IAAArhB,QAAQ,CAACC,EAASC,KAK3BnB,KAAKM,GAAGiB,WAAW,gCAJR,CACTghB,eAAgBD,EAChBG,MAAM,IAEkDjhB,KAAK4J,IAC7DlK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CAUC+gB,aAAaL,EAAwBM,GACpC,WAAW3hB,QAAQ,CAACC,EAASC,KAK3BnB,KAAKM,GAAGiB,WAAW,6BAJR,CACTghB,eAAgBD,EAChBO,UAAWD,IAE0CphB,KAAK4J,IAC1DlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,IACR,EAEL,CASCkhB,gBAAgBR,GACf,WAAWrhB,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,gCAHR,CACTghB,eAAgBD,IAEwC9gB,KAAK4J,IAC7DlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CASCmhB,sBAAsBrC,GACrB,OAAO,IAAIzf,QAAQ,CAACC,EAASC,KACqE,GAA7F3B,EAAEuiB,eAAeviB,EAAEwiB,OAAOtB,GAAU,CAAC,iBAAkB,eAAgB,cAAcxe,QACtFf,EAAO,IAAIzB,EAAQ,EAAG,8FAGxBM,KAAKM,GAAGiB,WAAW,2BADRmf,GAC0Clf,KAAK4J,IACxDlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,IACR,EAEL,CASCohB,0BAA0BtC,GACzB,WAAWzf,QAAQ,CAACC,EAASC,KACsF,GAA9G3B,EAAEuiB,eAAeviB,EAAEwiB,OAAOtB,GAAU,CAAC,iBAAkB,eAAgB,YAAa,kBAAkBxe,QACvGf,EAAO,IAAIzB,EAAQ,EAAG,6GAGxBM,KAAKM,GAAGiB,WAAW,iCADRmf,GACgDlf,KAAK4J,IAC9DlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,GY4Q4BtB,GAC9Bkf,EAAUG,UAAY,IXlpBT,MASXhgB,YAAYW,QALZA,QAAE,EAMAN,KAAKM,GAAKA,CACZ,CAWA2iB,OAAO3C,EAAoB4C,EAAoBriB,GAC7C,OAAW,IAAAI,QAAQ,CAACC,EAASC,KAC3B,IAIIC,EAAO5B,EAAE0S,MAJG,CACdqO,WAAYD,EACZ6C,WAAYD,GAEgBriB,GAC9Bb,KAAKM,GAAGiB,WAAW,mBAAoBH,GAAMI,KAAK4J,IAChDlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CAUAwhB,WAAW9C,EAAoBzf,GAC7B,OAAW,IAAAI,QAAQ,CAACC,EAASC,KAC3B,IAGIC,EAAO5B,EAAE0S,MAHG,CACdqO,WAAYD,GAEgBzf,GAC9Bb,KAAKM,GAAGiB,WAAW,sBAAuBH,GAAMI,KAAK4J,IACnDlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CAWAyhB,UAAUC,EAAqBC,EAAsBviB,GACnD,OAAO,IAAIC,QAAQ,CAACC,EAASC,KAM3BnB,KAAKM,GAAGiB,WAAW,4BALR,CACTiiB,YAAaF,EACbG,aAAcF,EACdljB,SAAUW,IAE0CQ,KAAK4J,IACzDlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CAUA8hB,kBAAkBC,EAAqB9iB,GACrC,WAAWI,QAAQ,CAACC,EAASC,KAC3B,IAGIC,EAAO5B,EAAE0S,MAHG,CACd0R,YAAaD,GAEe9iB,GAC9Bb,KAAKM,GAAGiB,WAAW,6BAA8BH,GAAMI,KAAK4J,IAC1DlK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,IACR,EAEL,CAYAiiB,WAAWvD,EAAoBwD,EAAmBC,EAAiB/iB,GACjE,OAAW,IAAAC,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAO,CACTmf,WAAYD,EACZ0D,UAAWF,QAEM,IAATC,GACRvkB,EAAEmB,IAAIS,EAAM,SAAU2iB,QAEJ,IAAV/iB,GACRxB,EAAEmB,IAAIS,EAAM,cAAeJ,GAE7BhB,KAAKM,GAAGiB,WAAW,kBAAmBH,GAAMI,KAAK4J,IAC/ClK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CAaAqiB,cAAc3D,EAAoB4D,EAAoBH,EAAgBI,EAAkBtjB,GACtF,WAAWI,QAAQ,CAACC,EAASC,KAC3B,IAMIC,EAAO5B,EAAE0S,MANG,CACdqO,WAAYD,EACZ8D,WAAYF,EACZG,OAAQN,EACRO,WAAYH,GAEgBtjB,GAC9Bb,KAAKM,GAAGiB,WAAW,yBAA0BH,GAAMI,KAAK4J,IACtDlK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,IACR,EAEL,CAUA2iB,UAAUC,EAAiB3jB,GACzB,OAAW,IAAAI,QAAQ,CAACC,EAASC,KAC3B,IAGIC,EAAO5B,EAAE0S,MAHG,CACduS,QAASD,GAEmB3jB,GAC9Bb,KAAKM,GAAGiB,WAAW,sBAAuBH,GAAMI,KAAK4J,IACnDlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CAUA8iB,WAAWC,EAA2BC,GACpC,OAAW,IAAA3jB,QAAQ,CAACC,EAASC,KAK3BnB,KAAKM,GAAGiB,WAAW,+BAJR,CACTsjB,kBAAmBF,EACnBG,OAAQF,IAE+CpjB,KAAK4J,IAC5DlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CAUAmjB,eAAezE,EAAoBL,GACjC,WAAWhf,QAAQ,CAACC,EAASC,KAK3BnB,KAAKM,GAAGiB,WAAW,0BAJR,CACTgf,WAAYD,EACZH,UAAWF,IAEuCze,KAAK4J,IACvDlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CAUAojB,mBAAmB1E,EAAoBL,GACrC,OAAO,IAAIhf,QAAQ,CAACC,EAASC,KAK3BnB,KAAKM,GAAGiB,WAAW,6BAJR,CACTgf,WAAYD,EACZH,UAAWF,IAE0Cze,KAAK4J,IAC1DlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CASAqjB,QAAQ3E,GACN,OAAO,IAAIrf,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,4BAHR,CACTgf,WAAYD,IAEwC9e,KAAK4J,IACzDlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CASAsjB,YAAY5E,GACV,OAAW,IAAArf,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,+BAHR,CACTgf,WAAYD,IAE2C9e,KAAK4J,IAC5DlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CASAujB,YAAY7E,GACV,WAAWrf,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,+BAHR,CACTgf,WAAYD,IAE2C9e,KAAK4J,IAC5DlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CASAwjB,eAAe9E,GACb,OAAW,IAAArf,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,kCAHR,CACTgf,WAAYD,IAE8C9e,KAAK4J,IAC/DlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CASAyjB,UAAUb,GACR,WAAWvjB,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,sBAHR,CACTkjB,QAASD,IAEqChjB,KAAK4J,IACnDlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CASA0jB,mBAAmBhF,GACjB,OAAO,IAAIrf,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,kCAHR,CACTgf,WAAYD,IAE8C9e,KAAK4J,IAC/DlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CASA2jB,cAAcf,GACZ,WAAWvjB,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,yBAHR,CACTkjB,QAASD,IAEwChjB,KAAK4J,IACtDlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CASA4jB,aAAab,GACX,OAAO,IAAI1jB,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,+BAHR,CACTsjB,kBAAmBF,IAEoCnjB,KAAK4J,IAC5DlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CASA6jB,uBAAuBnF,GACrB,OAAO,IAAIrf,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,qCAHR,CACTgf,WAAYD,IAEiD9e,KAAK4J,IAClElK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CASA8jB,cAAc/B,GACZ,OAAO,IAAI1iB,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,yBAHR,CACTqiB,YAAaD,IAEoCniB,KAAK4J,IACtDlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CASA+jB,uBAAuBrF,GACrB,OAAW,IAAArf,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,qCAHR,CACTgf,WAAYD,IAEiD9e,KAAK4J,IAClElK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CASAgkB,iBAAiBC,GACf,OAAW,IAAA5kB,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,4BAHR,CACTukB,eAAgBD,IAEoCrkB,KAAK4J,IACzDlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CASAmkB,0BAA0BzF,GACxB,OAAW,IAAArf,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,wCAHR,CACTgf,WAAYD,IAEoD9e,KAAK4J,IACrElK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CASAokB,WAAWtF,GACT,OAAW,IAAAzf,QAAQ,CAACC,EAASC,KACqE,GAA7F3B,EAAEuiB,eAAeviB,EAAEwiB,OAAOtB,GAAU,CAAC,UAAW,aAAc,UAAW,YAAYxe,QACtFf,EAAO,IAAIzB,EAAQ,EAAG,4FAGxBM,KAAKM,GAAGiB,WAAW,sBADRmf,GACqClf,KAAK4J,IACnDlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CASAqkB,eAAevF,GACb,WAAWzf,QAAQ,CAACC,EAASC,KACwI,GAAhK3B,EAAEuiB,eAAeviB,EAAEwiB,OAAOtB,GAAU,CAAC,cAAe,cAAe,YAAa,UAAW,UAAW,iBAAkB,gBAAiB,eAAexe,QACzJf,EAAO,IAAIzB,EAAQ,EAAG,uJAGxBM,KAAKM,GAAGiB,WAAW,yBADRmf,GACwClf,KAAK4J,IACtDlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CASAskB,cAAcxF,GACZ,WAAWzf,QAAQ,CAACC,EAASC,KACsF,GAA9G3B,EAAEuiB,eAAeviB,EAAEwiB,OAAOtB,GAAU,CAAC,cAAe,oBAAqB,WAAY,iBAAiBxe,QACvGf,EAAO,IAAIzB,EAAQ,EAAG,6GAGxBM,KAAKM,GAAGiB,WAAW,yBADRmf,GACwClf,KAAK4J,IACtDlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CASAukB,eAAezF,GACb,OAAO,IAAIzf,QAAQ,CAACC,EAASC,KACiF,GAAzG3B,EAAEuiB,eAAeviB,EAAEwiB,OAAOtB,GAAU,CAAC,cAAe,aAAc,cAAe,gBAAgBxe,QAClGf,EAAO,IAAIzB,EAAQ,EAAG,uGAGxBM,KAAKM,GAAGiB,WAAW,yBADRmf,GACwClf,KAAK4J,IACtDlK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,IACR,EAEL,CAQAwkB,qBACE,OAAO,IAAInlB,QAAQ,CAACC,EAASC,KAE3BnB,KAAKM,GAAGiB,WAAW,mBADR,CAAE,GACgCC,KAAK4J,IAChDlK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,IACR,EAEL,CASAykB,mBAAmB3F,GACjB,OAAW,IAAAzf,QAAQ,CAACC,EAASC,KACsF,GAA9G3B,EAAEuiB,eAAeviB,EAAEwiB,OAAOtB,GAAU,CAAC,aAAc,YAAa,UAAW,UAAW,gBAAgBxe,QACvGf,EAAO,IAAIzB,EAAQ,EAAG,0GAGxBM,KAAKM,GAAGiB,WAAW,sBADRmf,GACqClf,KAAK4J,IACnDlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CASA0kB,sBAAsB5F,GACpB,OAAO,IAAIzf,QAAQ,CAACC,EAASC,KAC4N,GAApP3B,EAAEuiB,eAAeviB,EAAEwiB,OAAOtB,GAAU,CAAC,eAAgB,SAAU,iBAAkB,WAAY,cAAe,UAAW,eAAgB,cAAe,eAAgB,cAAe,aAAc,eAAgB,YAAa,YAAYxe,QAC7Of,EAAO,IAAIzB,EAAQ,EAAG,8NAGxBM,KAAKM,GAAGiB,WAAW,4BADRmf,GAC2Clf,KAAK4J,IACzDlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CASA2kB,kBAAkB1lB,GAChB,OAAO,IAAII,QAAQ,CAACC,EAASC,KAE3BnB,KAAKM,GAAGiB,WAAW,6BADRV,GAC4CW,KAAK4J,IAC1DlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CAcA4kB,yBAAyBX,EAAwBY,EAAoBC,EAAoBC,EAAyBC,EAA0B5lB,GAC1I,OAAO,IAAIC,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAO,CACT0kB,eAAgBD,EAChBgB,aAAcH,EACdI,WAAYL,QAEe,IAAlBG,GAAkD,MAAjBA,QAAmD,IAAjBD,GAAgD,MAAhBA,OAE3E,IAAlBC,GAAkD,MAAjBA,EAChDpnB,EAAEmB,IAAIS,EAAM,kBAAmBwlB,QACC,IAAjBD,GAAgD,MAAhBA,GAC/CnnB,EAAEmB,IAAIS,EAAM,iBAAkBulB,GAJ9BxlB,EAAO,IAAIzB,EAAQ,EAAG,qEAMJ,IAAVsB,GACRxB,EAAEmB,IAAIS,EAAM,cAAeJ,GAE7BhB,KAAKM,GAAGiB,WAAW,2BAA4BH,GAAMI,KAAK4J,IACxDlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CASAmlB,4BAA4BC,GAC1B,OAAW,IAAA/lB,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,8BAHR,CACT0lB,iBAAkBD,IAEoCxlB,KAAK4J,IAC3DlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CASAslB,6BAA6BxG,GAC3B,OAAW,IAAAzf,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAOsf,EAC8I,GAAtJlhB,EAAEuiB,eAAeviB,EAAEwiB,OAAOtB,GAAU,CAAC,iBAAkB,mBAAoB,iBAAkB,cAAe,kBAAmB,eAAexe,QAC/If,EAAO,IAAIzB,EAAQ,EAAG,iJAExBM,KAAKM,GAAGiB,WAAW,8BAA+BH,GAAMI,KAAK4J,IAC3DlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CAQAulB,OACE,WAAWlmB,QAAQ,CAACC,EAASC,KAC3BnB,KAAKM,GAAGiB,WAAW,mBAAoB,CAAA,GAAIC,KAAK4J,IAC9ClK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,IACR,EAEL,CASAwlB,oBAAoB1G,GAClB,OAAO,IAAIzf,QAAQ,CAACC,EAASC,KACsF,GAA9G3B,EAAEuiB,eAAeviB,EAAEwiB,OAAOtB,GAAU,CAAC,cAAe,UAAW,UAAW,aAAc,cAAcxe,QACvGf,EAAO,IAAIzB,EAAQ,EAAG,2GAGxBM,KAAKM,GAAGiB,WAAW,sBADRmf,GACqClf,KAAK4J,IACnDlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CAQAylB,iBACE,OAAW,IAAApmB,QAAQ,CAACC,EAASC,KAE3BnB,KAAKM,GAAGiB,WAAW,qBADR,CAAA,GACoCC,KAAK4J,IAClDlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CASA0lB,cAAczmB,GACZ,OAAO,IAAII,QAAQ,CAACC,EAASC,KAE3BnB,KAAKM,GAAGiB,WAAW,qBADRV,GACoCW,KAAK4J,IAClDlK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,IACR,EAEL,CAUA2lB,iBAAiBC,EAAsB3mB,GACrC,OAAO,IAAII,QAAQ,CAACC,EAASC,KAC3B,IAGIC,EAAO5B,EAAE0S,MAHG,CACduV,aAAcD,GAEc3mB,GAC9Bb,KAAKM,GAAGiB,WAAW,wBAAyBH,GAAMI,KAAK4J,IACrDlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,GWxLsCtB,GACxCkf,EAAUE,SAAW,UTpoBnB/f,YAAYW,GAAEN,KAVdM,QAKA2K,EAAAA,KAAAA,YAMEjL,KAAKM,GAAKA,EACVN,KAAKiL,KAAO,CACVjK,QAAS,IAAIX,EAASC,EAAI,UAE9B,CAaConB,QAAQpH,EAAoBqH,EAAgBC,EAAoBC,EAAkBhnB,GACjF,OAAW,IAAAI,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAO,CACTmf,WAAYD,EACZwH,OAAQH,EACRI,WAAYH,EACZI,SAAUH,QAEQ,IAAVhnB,IACRO,EAAO5B,EAAE0S,MAAM9Q,EAAMP,IAEvBb,KAAKM,GAAGiB,WAAW,mBAAoBH,GAAMI,KAAK4J,IAChDlK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,IACR,EAEL,CAcCqmB,cAAc3H,EAAoB4H,EAAkBC,EAAoBC,EAAkBC,EAAqBxnB,GAC9G,WAAWI,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAO,CACTmf,WAAYD,EACZgI,SAAUJ,EACVK,WAAYJ,EACZK,SAAUJ,EACVK,YAAaJ,QAEK,IAAVxnB,IACRO,EAAO5B,EAAE0S,MAAM9Q,EAAMP,IAEvBb,KAAKM,GAAGiB,WAAW,0BAA2BH,GAAMI,KAAK4J,IACvDlK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,IACR,EAEL,CAUC8mB,eAAeR,EAAkBlnB,GAChC,OAAW,IAAAC,QAAQ,CAACC,EAASC,KAK3BnB,KAAKM,GAAGiB,WAAW,2BAJR,CACT+mB,SAAUJ,EACVS,YAAa3nB,IAEsCQ,KAAK4J,IACxDlK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,IACR,EAEL,CAUCgnB,iBAAiBtI,EAAoBuI,GAA6B,GACjE,WAAW5nB,QAAQ,CAACC,EAASC,KAK3BnB,KAAKM,GAAGiB,WAAW,4BAJR,CACTgf,WAAYD,EACZwI,kBAAmBD,IAEiCrnB,KAAK4J,IACzDlK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,IACR,EAEL,CAUCmnB,aAAaC,EAA0BH,GAA6B,GACnE,OAAO,IAAI5nB,QAAQ,CAACC,EAASC,KAK3BnB,KAAKM,GAAGiB,WAAW,qBAJR,CACT0nB,UAAWD,EACXF,kBAAmBD,IAE0BrnB,KAAK4J,IAClDlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CASCsnB,mBAAmBF,GAClB,WAAW/nB,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,kCAHR,CACT0nB,UAAWD,IAE+CxnB,KAAK4J,IAC/DlK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,IACR,EAEL,CASCunB,mBAAmBjB,GAClB,OAAW,IAAAjnB,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,kCAHR,CACT2mB,SAAUA,IAEgD1mB,KAAK4J,IAC/DlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CASCwnB,oBAAoBJ,GACnB,OAAW,IAAA/nB,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,mCAHR,CACTynB,UAAWA,IAEgDxnB,KAAK4J,IAChElK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CAUCynB,WAAWnB,EAAkBrnB,GAC5B,WAAWI,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAO,CACTknB,SAAUJ,QAEQ,IAAVrnB,IACRO,EAAO5B,EAAE0S,MAAM9Q,EAAMP,IAEvBb,KAAKM,GAAGiB,WAAW,sBAAuBH,GAAMI,KAAK4J,IACnDlK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,IACR,EAEL,CAWC0nB,kBAAkBC,EAAyBvoB,EAAiBwoB,GAC3D,OAAO,IAAIvoB,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAO,CACTqoB,gBAAiBF,EACjBZ,YAAa3nB,QAEO,IAAZwoB,GACRhqB,EAAEmB,IAAIS,EAAM,YAAaooB,GAE3BxpB,KAAKM,GAAGiB,WAAW,8BAA+BH,GAAMI,KAAK4J,IAC3DlK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,IACR,EAEL,CAWC8nB,cAAcxB,EAAkBC,EAAoBtnB,GACnD,OAAO,IAAII,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAO,CACTknB,SAAUJ,GAE4E,GAArF1oB,EAAEuiB,eAAeviB,EAAEwiB,OAAOnhB,GAAU,CAAC,mBAAoB,oBAAoBqB,QAC9Ef,EAAO,IAAIzB,EAAQ,EAAG,6FAEJ,IAAVmB,IACRO,EAAO5B,EAAE0S,MAAM9Q,EAAMP,IAEvBb,KAAKM,GAAGiB,WAAW,yBAA0BH,GAAMI,KAAK4J,IACtDlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CASC+nB,WAAWzB,GACV,OAAW,IAAAjnB,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,sBAHR,CACT+mB,SAAUJ,IAEoC1mB,KAAK4J,IACnDlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CASCgoB,kBAAkBtJ,GACjB,OAAO,IAAIrf,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,kCAHR,CACTgf,WAAYD,IAE8C9e,KAAK4J,IAC/DlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CASCioB,mBAAmBC,GAClB,WAAW7oB,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,8BAHR,CACTwoB,iBAAkBD,IAEoCtoB,KAAK4J,IAC3DlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CASCooB,eAAetJ,GACd,OAAO,IAAIzf,QAAQ,CAACC,EAASC,KACwF,GAAhH3B,EAAEuiB,eAAeviB,EAAEwiB,OAAOtB,GAAU,CAAC,oBAAqB,gBAAiB,eAAgB,aAAaxe,QACzGf,EAAO,IAAIzB,EAAQ,EAAG,+GAGxBM,KAAKM,GAAGiB,WAAW,sBADRmf,GACqClf,KAAK4J,IACnDlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CASCqoB,qBAAqBvJ,GACpB,OAAO,IAAIzf,QAAQ,CAACC,EAASC,KAE3BnB,KAAKM,GAAGiB,WAAW,6BADRmf,GAC4Clf,KAAK4J,IAC1DlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CAaAsoB,kBAAkBhC,EAAkB5H,EAAoB6J,EAAiBlkB,EAAWmkB,GAClF,WAAWnpB,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAO,CACTmf,WAAYD,EACZgI,SAAUJ,EACVmC,QAASF,QAEc,IAAfC,GACR5qB,EAAEmB,IAAIS,EAAM,eAAgBgpB,GAE9BpqB,KAAKM,GAAGiB,WAAW,gCAAiCH,EAAM6E,GAAMzE,KAAK4J,IACnElK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CASA0oB,mBAAmBpC,GACjB,OAAO,IAAIjnB,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,6BAHR,CACT+mB,SAAUJ,IAE2C1mB,KAAK4J,IAC1DlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CASA2oB,qBAAqBC,GACnB,WAAWvpB,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,yBAHR,CACTkpB,WAAYD,IAEqChpB,KAAK4J,IACtDlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,GS6MoCtB,GACtCkf,EAAU3K,MAAQ,IRppBL,MASXlV,YAAYW,GAAEN,KALdM,QAME,EAAAN,KAAKM,GAAKA,CACZ,CASAoqB,wBAAwBtpB,GACtB,OAAO,IAAIH,QAAQ,CAACC,EAASC,KAC3BnB,KAAKM,GAAGiB,WAAW,uBAAwBH,GAAMI,KAAK4J,IACpDlK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,IACR,EAEL,CAUA+oB,2BAA2B1K,EAAmBpf,GAC5C,OAAO,IAAII,QAAQ,CAACC,EAASC,KAC3B,IAGIC,EAAO5B,EAAE0S,MAHG,CACdiO,UAAWF,GAEiBpf,GAC9Bb,KAAKM,GAAGiB,WAAW,0BAA2BH,GAAMI,KAAK4J,IACvDlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CAQAgpB,2BACE,OAAW,IAAA3pB,QAAQ,CAACC,EAASC,KAE3BnB,KAAKM,GAAGiB,WAAW,2BADR,CAAA,GAC0CC,KAAK4J,IACxDlK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,IACR,EAEL,CAWAipB,YAAYC,EAAsBC,EAA4BlqB,GAC5D,OAAW,IAAAI,QAAQ,CAACC,EAASC,KAC3B,IAIIC,EAAO5B,EAAE0S,MAJG,CACd8Y,SAAUF,EACVG,mBAAoBF,GAEQlqB,GAC9Bb,KAAKM,GAAGiB,WAAW,mBAAoBH,GAAMI,KAAK4J,IAChDlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CAUAspB,eAAetL,EAAoB/e,GACjC,WAAWI,QAAQ,CAACC,EAASC,KAC3B,IAGIC,EAAO5B,EAAE0S,MAHG,CACd4N,WAAYF,GAEgB/e,GAC9Bb,KAAKM,GAAGiB,WAAW,uBAAwBH,GAAMI,KAAK4J,IACpDlK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,IACR,EAEL,CAQAupB,eACE,WAAWlqB,QAAQ,CAACC,EAASC,KAE3BnB,KAAKM,GAAGiB,WAAW,uBADR,IACsCC,KAAK4J,IACpDlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CASAwpB,kBAAkB1K,GAChB,OAAO,IAAIzf,QAAQ,CAACC,EAASC,KACgE,GAAxF3B,EAAEuiB,eAAeviB,EAAEwiB,OAAOtB,GAAU,CAAC,WAAY,eAAgB,eAAexe,QACjFf,EAAO,IAAIzB,EAAQ,EAAG,4FAGxBM,KAAKM,GAAGiB,WAAW,sBADRmf,GACqClf,KAAK4J,IACnDlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CASAypB,sBAAsB3K,GACpB,OAAO,IAAIzf,QAAQ,CAACC,EAASC,KACgE,GAAxF3B,EAAEuiB,eAAeviB,EAAEwiB,OAAOtB,GAAU,CAAC,WAAY,eAAgB,eAAexe,QACjFf,EAAO,IAAIzB,EAAQ,EAAG,yFAGxBM,KAAKM,GAAGiB,WAAW,4BADRmf,GAC2Clf,KAAK4J,IACzDlK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,IACR,EAEL,CAWA0pB,WAAWC,EAAqBC,EAA4B3qB,GAC1D,WAAWI,QAAQ,CAACC,EAASC,KAC3B,IAIIC,EAAO5B,EAAE0S,MAJG,CACduZ,QAASF,EACTG,YAAaF,GAEe3qB,GAC9Bb,KAAKM,GAAGiB,WAAW,kBAAmBH,GAAMI,KAAK4J,IAC/ClK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CAUA+pB,cAAc9L,EAAmBhf,GAC/B,OAAW,IAAAI,QAAQ,CAACC,EAASC,KAC3B,IAGIC,EAAO5B,EAAE0S,MAHG,CACd6N,UAAWF,GAEiBhf,GAC9Bb,KAAKM,GAAGiB,WAAW,qBAAsBH,GAAMI,KAAK4J,IAClDlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CAQAgqB,cACE,OAAO,IAAI3qB,QAAQ,CAACC,EAASC,KAE3BnB,KAAKM,GAAGiB,WAAW,sBADR,CAAA,GACqCC,KAAK4J,IACnDlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CAQAqjB,UACE,OAAO,IAAIhkB,QAAQ,CAACC,EAASC,KAE3BnB,KAAKM,GAAGiB,WAAW,mBADR,CAAA,GACkCC,KAAK4J,IAChDlK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,IACR,EAEL,CAQAokB,WAAWtF,GACT,OAAO,IAAIzf,QAAQ,CAACC,EAASC,KACsF,GAA9G3B,EAAEuiB,eAAeviB,EAAEwiB,OAAOtB,GAAU,CAAC,cAAe,UAAW,UAAW,aAAc,cAAcxe,QACvGf,EAAO,IAAIzB,EAAQ,EAAG,2GAGxBM,KAAKM,GAAGiB,WAAW,sBADRmf,GACqClf,KAAK4J,IACnDlK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,IACR,EAEL,CAQAiqB,iBACE,OAAO,IAAI5qB,QAAQ,CAACC,EAASC,KAE3BnB,KAAKM,GAAGiB,WAAW,6BADR,CAAE,GAC0CC,KAAK4J,IAC1DlK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,IACR,EAEL,CASAkqB,cAAcjrB,GACZ,WAAWI,QAAQ,CAACC,EAASC,KACvB3B,EAAES,IAAIY,EAAS,UAAarB,EAAES,IAAIY,EAAS,uBAC7CM,EAAO,IAAIzB,EAAQ,EAAG,uDAGxBM,KAAKM,GAAGiB,WAAW,yBADRV,GACwCW,KAAK4J,IACtDlK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,IACR,EAEL,CAQAsjB,cACE,OAAW,IAAAjkB,QAAQ,CAACC,EAASC,KAE3BnB,KAAKM,GAAGiB,WAAW,kBADR,IACiCC,KAAK4J,IAC/ClK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CAQAukB,eAAezF,GACb,OAAO,IAAIzf,QAAQ,CAACC,EAASC,KACiG,GAAzH3B,EAAEuiB,eAAeviB,EAAEwiB,OAAOtB,GAAU,CAAC,cAAe,cAAe,cAAe,YAAa,kBAAkBxe,QAClHf,EAAO,IAAIzB,EAAQ,EAAG,sHAGxBM,KAAKM,GAAGiB,WAAW,qBADRmf,GACoClf,KAAK4J,IAClDlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CAQAmqB,iBACE,OAAO,IAAI9qB,QAAQ,CAACC,EAASC,KAE3BnB,KAAKM,GAAGiB,WAAW,qBADR,IACoCC,KAAK4J,IAClDlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CAWAoqB,cAAcC,EAAwBC,EAAwBrrB,GAC5D,WAAWI,QAAQ,CAACC,EAASC,KAC3B,IAIIC,EAAO5B,EAAE0S,MAJG,CACdia,eAAgBF,EAChBG,eAAgBF,GAEYrrB,GAC9Bb,KAAKM,GAAGiB,WAAW,qBAAsBH,GAAMI,KAAK4J,IAClDlK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,IACR,EAEL,CAQAyqB,iBACE,OAAW,IAAAprB,QAAQ,CAACC,EAASC,KAE3BnB,KAAKM,GAAGiB,WAAW,yBADR,IACwCC,KAAK4J,IACtDlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CAQA0qB,YAAYC,EAAsBC,EAAsB3rB,GACtD,WAAWI,QAAQ,CAACC,EAASC,KAC3B,IAIIC,EAAO5B,EAAE0S,MAJG,CACdua,aAAcF,EACdG,aAAcF,GAEc3rB,GAC9Bb,KAAKM,GAAGiB,WAAW,mBAAoBH,GAAMI,KAAK4J,IAChDlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CAQA+qB,eACE,OAAO,IAAI1rB,QAAQ,CAACC,EAASC,KAE3BnB,KAAKM,GAAGiB,WAAW,uBADR,IACsCC,KAAK4J,IACpDlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CAQAgrB,WAAWC,EAAmBC,EAAqBC,GACjD,OAAW,IAAA9rB,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAO,CACT4rB,YAAaH,EACbI,YAAaH,QAES,IAAdC,GACRvtB,EAAEmB,IAAIS,EAAM,cAAe2rB,GAE7B/sB,KAAKM,GAAGiB,WAAW,kBAAmBH,GAAMI,KAAK4J,IAC/ClK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,IACR,EAEL,CASAsrB,cAAcC,GACZ,WAAWlsB,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,qBAHR,CACT6rB,UAAWD,IAEkC3rB,KAAK4J,IAClDlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CAQAyrB,cACE,WAAWpsB,QAAQ,CAACC,EAASC,KAE3BnB,KAAKM,GAAGiB,WAAW,sBADR,IACqCC,KAAK4J,IACnDlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CAYA0rB,uBAAuBC,EAAmBC,EAAmBC,EAAiBC,GAC5E,OAAO,IAAIzsB,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAO,CACTusB,UAAWJ,EACXK,UAAWJ,EACXK,QAASJ,QAEuB,IAAxBC,GACRluB,EAAEmB,IAAIS,EAAM,wBAAyBssB,GAEvC1tB,KAAKM,GAAGiB,WAAW,8BAA+BH,GAAMI,KAAK4J,IAC3DlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CAQAksB,0BACE,WAAW7sB,QAAQ,CAACC,EAASC,KAE3BnB,KAAKM,GAAGiB,WAAW,kCADR,CAAA,GACiDC,KAAK4J,IAC/DlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CAQAmsB,uBACE,OAAO,IAAI9sB,QAAQ,CAACC,EAASC,KAE3BnB,KAAKM,GAAGiB,WAAW,+CADR,CAAA,GAC8DC,KAAK4J,IAC5ElK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,IACR,EAEL,CAQAosB,uBACE,OAAO,IAAI/sB,QAAQ,CAACC,EAASC,KAE3BnB,KAAKM,GAAGiB,WAAW,+CADR,CAAE,GAC4DC,KAAK4J,IAC5ElK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,IACR,EAEL,CASAqsB,kBAAkBptB,GAChB,WAAWI,QAAQ,CAACC,EAASC,KAE3BnB,KAAKM,GAAGiB,WAAW,yBADRV,GACwCW,KAAK4J,IACtDlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CAUAssB,qBAAqBC,EAA0BttB,GAC7C,OAAO,IAAII,QAAQ,CAACC,EAASC,KAC3B,IAGIC,EAAO5B,EAAE0S,MAHG,CACdkc,iBAAkBD,GAEUttB,GAC9Bb,KAAKM,GAAGiB,WAAW,4BAA6BH,GAAMI,KAAK4J,IACzDlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CAQAysB,qBACE,WAAWptB,QAAQ,CAACC,EAASC,KAE3BnB,KAAKM,GAAGiB,WAAW,6BADR,IAC4CC,KAAK4J,IAC1DlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CAUA0sB,UAAUvuB,EAAcc,GACtB,WAAWI,QAAQ,CAACC,EAASC,KAC3B,IAGIC,EAAO5B,EAAE0S,MAAMrR,EAHH,CACd0tB,KAAMxuB,IAGRC,KAAKM,GAAGiB,WAAW,iBAAkBH,GAAMI,KAAK4J,IAC9ClK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CAQA4sB,YACE,OAAO,IAAIvtB,QAAQ,CAACC,EAASC,KAE3BnB,KAAKM,GAAGiB,WAAW,qBADR,IACoCC,KAAK4J,IAClDlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CAUA6sB,cAAcC,EAAkB7tB,GAC9B,OAAO,IAAII,QAAQ,CAACC,EAASC,KAC3B,IAGIC,EAAO5B,EAAE0S,MAAMrR,EAHH,CACd8tB,SAAUD,IAGZ1uB,KAAKM,GAAGiB,WAAW,iBAAkBH,GAAMI,KAAK4J,IAC9ClK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,IACR,EAEL,CAQAgtB,iBACE,OAAO,IAAI3tB,QAAQ,CAACC,EAASC,KAE3BnB,KAAKM,GAAGiB,WAAW,yBADR,IACwCC,KAAK4J,IACtDlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CASAitB,oBAAoBhuB,GAClB,OAAW,IAAAI,QAAQ,CAACC,EAASC,KAE3BnB,KAAKM,GAAGiB,WAAW,2BADRV,GAC0CW,KAAK4J,IACxDlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,IACR,EAEL,CAUAktB,uBAAuBC,EAAwBluB,GAC7C,WAAWI,QAAQ,CAACC,EAASC,KAC3B,IAGIC,EAAO5B,EAAE0S,MAAMrR,EAHH,CACdmuB,eAAgBD,IAGlB/uB,KAAKM,GAAGiB,WAAW,2BAA4BH,GAAMI,KAAK4J,IACxDlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CAQAqtB,uBACE,WAAWhuB,QAAQ,CAACC,EAASC,KAE3BnB,KAAKM,GAAGiB,WAAW,+BADR,CAAE,GAC4CC,KAAK4J,IAC5DlK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,IACR,EAEL,CASAstB,uBAAuBruB,GACrB,WAAWI,QAAQ,CAACC,EAASC,KAE3BnB,KAAKM,GAAGiB,WAAW,8BADRV,GAC6CW,KAAK4J,IAC3DlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CASCutB,0BAA0BC,GACzB,OAAO,IAAInuB,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,iCAHR,CACT8tB,sBAAuBD,IAEkC5tB,KAAK4J,IAC9DlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CASC0tB,kCAAkC3H,GACjC,OAAW,IAAA1mB,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,yCAHR,CACTumB,OAAQH,IAEyDnmB,KAAK4J,IACtElK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,IACR,EAEL,CAYC2tB,0BAA0BH,EAA+BzH,EAAgB6H,EAAsBtM,GAC9F,OAAO,IAAIjiB,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAO,CACTiuB,sBAAuBD,EACvBtH,OAAQH,EACR8H,aAAcD,QAEO,IAAbtM,GACR1jB,EAAEmB,IAAIS,EAAM,aAAc8hB,GAE5BljB,KAAKM,GAAGiB,WAAW,iCAAkCH,GAAMI,KAAK4J,IAC9DlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CASA8tB,yBACE,OAAW,IAAAzuB,QAAQ,CAACC,EAASC,KAE3BnB,KAAKM,GAAGiB,WAAW,kCADR,CAAE,GAC+CC,KAAK4J,IAC/DlK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,IACR,EAEL,GQ1N8BtB,GAChCkf,EAAUxe,QAAU,IAAIX,EAASC,EAAI,YACrCkf,EAAUC,MAAQ,UP5oBhB9f,YAAYW,GALZA,KAAAA,QAME,EAAAN,KAAKM,GAAKA,CACZ,CAWCqvB,OAAOrP,EAAoBhF,GAAoB,EAAMza,GACpD,OAAW,IAAAI,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAO,CACTmf,WAAYD,EACZ5B,SAAUpD,QAEQ,IAAVza,IACRO,EAAO5B,EAAE0S,MAAM9Q,EAAMP,IAEvBb,KAAKM,GAAGiB,WAAW,sBAAuBH,GAAMI,KAAK4J,IACnDlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,IACR,EAEL,CAUAguB,OAAOC,EAAqBvU,GAAoB,GAC9C,OAAW,IAAAra,QAAQ,CAACC,EAASC,KAK3BnB,KAAKM,GAAGiB,WAAW,yBAJR,CACTuuB,YAAaD,EACbnR,SAAUpD,IAEuC9Z,KAAK4J,IACtDlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EACT,EAEL,CAUAmuB,UAAUzP,EAAoBhF,GAAoB,GAChD,OAAW,IAAAra,QAAQ,CAACC,EAASC,KAK3BnB,KAAKM,GAAGiB,WAAW,qCAJR,CACTgf,WAAYD,EACZ5B,SAAUpD,IAEmD9Z,KAAK4J,IAClElK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EACT,EAEL,CASAouB,WAAW1P,GACT,OAAW,IAAArf,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,+BAHR,CACTgf,WAAYD,IAE2C9e,KAAK4J,IAC5DlK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CAUCoN,OAAO0R,GACN,OAAO,IAAIzf,QAAQ,CAACC,EAASC,KACuK,GAA/L3B,EAAEuiB,eAAeviB,EAAEwiB,OAAOtB,GAAU,CAAC,YAAa,cAAe,aAAc,WAAY,cAAe,YAAa,YAAa,aAAc,eAAgB,QAAS,YAAYxe,QACxLf,EAAO,IAAIzB,EAAQ,EAAG,gLAGxBM,KAAKM,GAAGiB,WAAW,yBADRmf,GACwClf,KAAK4J,IACtDlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,IACR,EAEL,GO0hB+BtB,GAEjC8c,EAAUvI,MAAQ,UN/oBhBlV,YAAYW,GALZA,KAAAA,QAME,EAAAN,KAAKM,GAAKA,CACZ,CAQA2vB,kBACE,OAAO,IAAIhvB,QAAQ,CAACC,EAASC,KAE3BnB,KAAKM,GAAGiB,WAAW,oBADR,CAAE,GACiCC,KAAK4J,IACjDlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CAQAsuB,eAAeC,GACb,OAAO,IAAIlvB,QAAQ,CAACC,EAASC,KAE3BnB,KAAKM,GAAGiB,WAAW,2BADR,CAAC6uB,aAAcD,IAC2B3uB,KAAK4J,IACxDlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EAAC,EACT,EAEL,CAQA6X,aAAa9E,EAAmB0b,GAAwB,EAAMC,GAA4B,GACxF,OAAW,IAAArvB,QAAQ,CAACC,EAASC,KAE3BnB,KAAKM,GAAGiB,WAAW,2BADR,CAACqT,WAAYD,EAAY4b,gBAAiBF,EAAiBG,oBAAqBF,IACtC9uB,KAAK4J,IACxDlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,IACR,EAEL,CASA6uB,eAAeC,GAEb,OAAW,IAAAzvB,QAAQ,CAACC,EAASC,KAE3BnB,KAAKM,GAAGiB,WAAW,2BADRmvB,GAC0ClvB,KAAK4J,IACxDlK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CASA+uB,uBAAuBC,GACrB,OAAO,IAAI3vB,QAAQ,CAACC,EAASC,KAE3BnB,KAAKM,GAAGiB,WAAW,2BADR,CAACsvB,cAAeD,IAC0BpvB,KAAK4J,IACxDlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EACT,EACF,EACF,CASAkvB,oBAAoBF,GAClB,OAAW,IAAA3vB,QAAQ,CAACC,EAASC,KAE3BnB,KAAKM,GAAGiB,WAAW,yCADR,CAACsvB,cAAeD,IACwCpvB,KAAK4J,IACtElK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CASAmvB,gBAAgBH,GACd,OAAW,IAAA3vB,QAAQ,CAACC,EAASC,KAE3BnB,KAAKM,GAAGiB,WAAW,sCADR,CAACsvB,cAAeD,IACqCpvB,KAAK4J,IACnElK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,EAAC,EACT,EAEL,CASAovB,qBAAqBC,GACnB,OAAW,IAAAhwB,QAAQ,CAACC,EAASC,KAE3BnB,KAAKM,GAAGiB,WAAW,mCADR,CAAC2vB,aAAcD,IACmCzvB,KAAK4J,IAChElK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CASAuvB,iBAAiBF,GACf,OAAW,IAAAhwB,QAAQ,CAACC,EAASC,KAE3BnB,KAAKM,GAAGiB,WAAW,+BADR,CAAC2vB,aAAcD,IAC+BzvB,KAAK4J,IAC5DlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EAAC,EACT,EAEL,CASAwvB,oBAAoBH,GAClB,OAAO,IAAIhwB,QAAQ,CAACC,EAASC,KAE3BnB,KAAKM,GAAGiB,WAAW,kCADR,CAAC2vB,aAAcD,IACkCzvB,KAAK4J,IAC/DlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CASAyvB,0BAA0BJ,GACxB,OAAW,IAAAhwB,QAAQ,CAACC,EAASC,KAE3BnB,KAAKM,GAAGiB,WAAW,+CADR,CAAC+vB,oBAAqBL,IACwCzvB,KAAK4J,IAC5ElK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CASA2vB,iBAAiBN,GACf,OAAO,IAAIhwB,QAAQ,CAACC,EAASC,KAE3BnB,KAAKM,GAAGiB,WAAW,gCADR,CAAC2vB,aAAcD,IACgCzvB,KAAK4J,IAC7DlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CASA4vB,8BAA8BP,GAC5B,WAAWhwB,QAAQ,CAACC,EAASC,KAE3BnB,KAAKM,GAAGiB,WAAW,qCADR,CAAC2vB,aAAcD,IACqCzvB,KAAK4J,IAClElK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,IACR,EAEL,GMqamCtB,GACrC8c,EAAUtI,MAAQ,IHxpBL,MAcXnV,YAAYW,GAAMN,KAVlBM,QAKAG,EAAAA,KAAAA,yBAME,EAAAT,KAAKM,GAAKA,EACVN,KAAKS,oBAAsB,WAC7B,CAUAgxB,SAASC,EAAsBC,GAAsB,GACnD,OAAO,IAAI1wB,QAAQ,CAACC,EAASC,KAK3BnB,KAAKM,GAAGiB,WAAW,0BAJR,CACTqwB,aAAcF,EACdG,gBAAiBF,IAEiCnwB,KAAK4J,IACvDlK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CAQCkwB,cACC,OAAO,IAAI7wB,QAAQ,CAACC,EAASC,KAC7BnB,KAAKM,GAAGiB,WAAW,0BAA0BC,KAAK4J,IAC9ClK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EACT,EAEL,CAWAmwB,SAASzd,EAAsB0d,EAAenxB,GAC5C,OAAW,IAAAI,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAO,CACT6wB,aAAc3d,EACd4d,MAAOF,QAEW,IAAVnxB,IACRO,EAAO5B,EAAE0S,MAAM9Q,EAAMP,IAGvBb,KAAKM,GAAGiB,WAAW,kCAAmCH,GAAMI,KAAMC,IAChEP,EAAQO,EAASC,MACnB,GAAGC,MAAMC,IACPT,EAAOS,IACR,EAEL,CAUCuwB,SAASC,EAA8BC,GAAqB,GAC3D,OAAW,IAAApxB,QAAQ,CAACC,EAASC,KAK3BnB,KAAKM,GAAGiB,WAAW,0CAJR,CACT+wB,UAAWD,EACXE,cAAeH,IAEmD5wB,KAAMC,IACxEP,EAAQO,EAASC,MACnB,GAAGC,MAAMC,IACPT,EAAOS,EACT,EACF,EACF,CAUE4wB,YAAYC,EAA6BJ,GAAqB,GAC5D,OAAW,IAAApxB,QAAQ,CAACC,EAASC,KAK3BnB,KAAKM,GAAGiB,WAAW,qCAJR,CACTmxB,aAAcD,EACdH,UAAWD,IAEkD7wB,KAAMC,IACnEP,EAAQO,EAASC,MACnB,GAAGC,MAAMC,IACPT,EAAOS,IACR,EAEL,CAUF+wB,aAAare,EAAsBzT,GACjC,OAAW,IAAAI,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAO,CACT6wB,aAAc3d,QAEI,IAAVzT,IACRO,EAAO5B,EAAE0S,MAAM9Q,EAAMP,IAGvBb,KAAKM,GAAGiB,WAAW,sCAAuCH,GAAMI,KAAMC,IACpEP,EAAQO,EAASC,MACnB,GAAGC,MAAMC,IACPT,EAAOS,EACT,EACF,EACF,CAWAgxB,aAAate,EAAsB+d,GAAqB,GACtD,OAAO,IAAIpxB,QAAQ,CAACC,EAASC,KAM3BnB,KAAKM,GAAGiB,WAAW,8CALR,CACT0wB,aAAc3d,EACdge,UAAWD,IAG2D7wB,KAAMC,IAC5EP,EAAQO,EAASC,MACnB,GAAGC,MAAMC,IACPT,EAAOS,IACR,EAEL,CASAixB,gBAAgBC,EAAiCT,GAAqB,GACpE,WAAWpxB,QAAQ,CAACC,EAASC,KAK3BnB,KAAKM,GAAGiB,WAAW,yCAJR,CACTwxB,iBAAkBD,EAClBR,UAAWD,IAEsD7wB,KAAMC,IACvEP,EAAQO,EAASC,MACnB,GAAGC,MAAMC,IACPT,EAAOS,EACT,EACF,EACF,CAYAoxB,YAAY1e,EAAsB2e,EAAepyB,EAAiBqyB,GAAsC,GACtG,OAAW,IAAAjyB,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAO,CACT+xB,MAAOF,EACPhB,aAAc3d,EACd8e,2BAA4BF,QAEV,IAAVryB,IACRO,EAAO5B,EAAE0S,MAAM9Q,EAAMP,IAEvBb,KAAKM,GAAGiB,WAAW,qCAAsCH,GAAMI,KAAMC,IACnEP,EAAQO,EAASC,MACnB,GAAGC,MAAMC,IACPT,EAAOS,IACR,EAEL,CAUAyxB,YAAY/e,EAAsB+d,GAAqB,GACrD,OAAW,IAAApxB,QAAQ,CAACC,EAASC,KAK3BnB,KAAKM,GAAGiB,WAAW,qCAJR,CACT0wB,aAAc3d,EACdge,UAAWD,IAEkD7wB,KAAMC,IACnEP,EAAQO,EAASC,MACnB,GAAGC,MAAMC,IACPT,EAAOS,IACR,EAEL,CAUA0xB,eAAeC,EAAyBlB,GAAqB,GAC3D,OAAW,IAAApxB,QAAQ,CAACC,EAASC,KAK3BnB,KAAKM,GAAGiB,WAAW,wCAJR,CACTiyB,gBAAiBD,EACjBjB,UAAWD,IAEqD7wB,KAAMC,IACtEP,EAAQO,EAASC,MAAK,GACrBC,MAAMC,IACPT,EAAOS,IACR,EAEL,GG4YmCtB,GACrC8c,EAAUpc,QAAU,IAAIX,EAASC,EAAI,aAErC6T,EAAWU,MAAQ,ULnpBjBlV,YAAYW,GALZA,KAAAA,QAME,EAAAN,KAAKM,GAAKA,CACZ,CAWAmZ,aAAa0C,EAA6BxC,EAAqB9Y,GAC7D,OAAW,IAAAI,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAA2K,QACtJ,IAAf+a,IACR/a,EAAKgb,YAAcD,GAErB/a,EAAKyY,eAAgC,IAAbF,GAA2BA,EAC9B,iBAAX9Y,GACRrB,EAAE6c,MAAMxb,EAAS,CAACkF,EAAGC,KACnB5E,EAAK4E,GAAKD,CACZ,GAEF/F,KAAKM,GAAGiB,WAAW,mCAAoCH,GAAMI,KAAK4J,IAChElK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EACT,EACF,EACF,GKonBqCtB,GACvC6T,EAAWW,MAAQ,UF9oBjBnV,YAAYW,GAAMN,KAVlBM,QAAE,EAAAN,KAKFS,yBAME,EAAAT,KAAKM,GAAKA,EACVN,KAAKS,oBAAsB,YAC7B,CAUAgxB,SAASC,EAAsBC,GAAsB,GACnD,OAAO,IAAI1wB,QAAQ,CAACC,EAASC,KAK3BnB,KAAKM,GAAGiB,WAAW,0BAJR,CACTqwB,aAAcF,EACdG,gBAAiBF,IAEiCnwB,KAAK4J,IACvDlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CAQCkwB,cACC,OAAO,IAAI7wB,QAAQ,CAACC,EAASC,KAC7BnB,KAAKM,GAAGiB,WAAW,0BAA0BC,KAAK4J,IAC9ClK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,EAAC,EACT,EAEL,CAYAmwB,SAAS3d,EAAsB4d,EAAenxB,EAAkBwxB,GAAqB,GACnF,OAAW,IAAApxB,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAO,CACTkxB,UAAWD,EACXxX,cAAezG,EACf8d,MAAOF,QAEW,IAAVnxB,IACRO,EAAO5B,EAAE0S,MAAM9Q,EAAMP,IAEvBb,KAAKM,GAAGiB,WAAW,mCAAoCH,GAAMI,KAAMC,IACjEP,EAAQO,EAASC,MAAK,GACrBC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CAUAuwB,SAASvX,EAA8ByX,GAAqB,GAC1D,OAAO,IAAIpxB,QAAQ,CAACC,EAASC,KAK3BnB,KAAKM,GAAGiB,WAAW,4CAJR,CACT+wB,UAAWD,EACXxX,cAAeD,IAEqDpZ,KAAMC,IAC1EP,EAAQO,EAASC,MACnB,GAAGC,MAAMC,IACPT,EAAOS,EACT,EACF,EACF,CAUA4wB,YAAYC,EAA6BJ,GAAqB,GAC5D,OAAO,IAAIpxB,QAAQ,CAACC,EAASC,KAK3BnB,KAAKM,GAAGiB,WAAW,sCAJR,CACT+wB,UAAWD,EACXoB,gBAAiBhB,IAE6CjxB,KAAMC,IACpEP,EAAQO,EAASC,MACnB,GAAGC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CAUE+wB,aAAave,EAAsBvT,GACjC,OAAW,IAAAI,QAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAO,CACTuZ,aAAcvG,QAEI,IAAVvT,IACRO,EAAO5B,EAAE0S,MAAM9Q,EAAMP,IAGvBb,KAAKM,GAAGiB,WAAW,uCAAwCH,GAAMI,KAAMC,IACrEP,EAAQO,EAASC,SAChBC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CAUDgxB,aAAahY,EAAuByX,GAAqB,GACxD,OAAW,IAAApxB,QAAQ,CAACC,EAASC,KAK3BnB,KAAKM,GAAGiB,WAAW,gDAJR,CACTsZ,cAAeD,EACf0X,UAAWD,IAE6D7wB,KAAMC,IAC9EP,EAAQO,EAASC,MAAK,GACrBC,MAAMC,IACPT,EAAOS,EAAC,EACT,EAEL,CAUAixB,gBAAgBC,EAAiCT,GAAqB,GACpE,OAAO,IAAIpxB,QAAQ,CAACC,EAASC,KAK3BnB,KAAKM,GAAGiB,WAAW,0CAJR,CACTwxB,iBAAkBD,EAClBR,UAAWD,IAEuD7wB,KAAMC,IACxEP,EAAQO,EAASC,MAAK,GACrBC,MAAMC,IACPT,EAAOS,EACT,EACF,EACF,GEwdqCtB,GAEvCqG,EAAQkO,MAAQ,IJ/pBH,MASXlV,YAAYW,QALZA,QAAE,EAMAN,KAAKM,GAAKA,CACZ,CASAmZ,aAAa3C,GACX,OAAW,IAAA7V,QAAQ,CAACC,EAASC,KAE3BnB,KAAKM,GAAGiB,WAAW,uCADRuV,GACsDtV,KAAK4J,IACpElK,EAAQkK,EAAE1J,MACZ,GAAGC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,GIkoB+BtB,GACjCqG,EAAQmO,MAAQ,ID/pBH,MAcXnV,YAAYW,QAVZA,QAAE,EAAAN,KAKFS,yBAAmB,EAMjBT,KAAKM,GAAKA,EACVN,KAAKS,oBAAsB,SAC7B,CAUAgxB,SAASC,EAAsBC,GAAsB,GACnD,WAAW1wB,QAAQ,CAACC,EAASC,KAK3BnB,KAAKM,GAAGiB,WAAW,0BAJR,CACTqwB,aAAcF,EACdG,gBAAiBF,IAEiCnwB,KAAK4J,IACvDlK,EAAQkK,EAAE1J,MAAK,GACdC,MAAMC,IACPT,EAAOS,IACR,EAEL,CAQCkwB,cACC,OAAO,IAAI7wB,QAAQ,CAACC,EAASC,KAC7BnB,KAAKM,GAAGiB,WAAW,0BAA0BC,KAAK4J,IAC9ClK,EAAQkK,EAAE1J,SACTC,MAAMC,IACPT,EAAOS,EACT,IAEJ,CASAmwB,SAAS2B,GACP,WAAWzyB,QAAQ,CAACC,EAASC,KAG3BnB,KAAKM,GAAGiB,WAAW,gCAFRmyB,GAE+ClyB,KAAMC,IAC9DP,EAAQO,EAASC,MAAK,GACrBC,MAAMC,IACPT,EAAOS,IACR,EAEL,CASAuwB,SAASnc,GACP,WAAW/U,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,sCAHR,CACT0U,WAAYD,IAEkDxU,KAAMC,IACpEP,EAAQO,EAASC,MACnB,GAAGC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,CASA4wB,YAAYC,GACV,OAAO,IAAIxxB,QAAQ,CAACC,EAASC,KAI3BnB,KAAKM,GAAGiB,WAAW,mCAHR,CACTmxB,aAAcD,IAE6CjxB,KAAMC,IACjEP,EAAQO,EAASC,MACnB,GAAGC,MAAMC,IACPT,EAAOS,EAAC,EAEZ,EACF,GC6iB+BtB,GACjCqG,EAAQ3F,QAAU,IAAIX,EAASC,EAAI"}